# GitHub Actions AI è¼”åŠ©é–‹ç™¼è‡ªå‹•åŒ–æŒ‡å—

## ğŸ¯ æ¦‚è¿°

æˆ‘å€‘è¨­è¨ˆäº†ä¸€å€‹å®Œæ•´çš„ GitHub Actions å·¥ä½œæµç¨‹ä¾†è‡ªå‹•åŒ– AI è¼”åŠ©é–‹ç™¼æµç¨‹ï¼Œç¢ºä¿åœ˜éšŠæˆå“¡åœ¨æäº¤ Pull Request æ™‚è‡ªå‹•ç²å¾—ï¼š

1. **ä»£ç¢¼è®Šæ›´åˆ†æ**ï¼šè‡ªå‹•æª¢æ¸¬ä¿®æ”¹çš„æ¨¡çµ„
2. **æ–‡æª”åŒæ­¥æé†’**ï¼šæé†’æ›´æ–°ç›¸é—œçš„åŠŸèƒ½è¨­è¨ˆæ–‡æª”
3. **æ¶æ§‹åˆè¦æª¢æŸ¥**ï¼šé©—è­‰æ˜¯å¦éµå¾ªæ—¢å®šçš„æ¶æ§‹åŸå‰‡
4. **äº’å‹•å¼å»ºè­°**ï¼šåœ¨ PR ä¸­ç•™è¨€æä¾›å…·é«”çš„æ”¹é€²å»ºè­°

## ğŸ”§ å·¥ä½œæµç¨‹æ¶æ§‹

### ä¸»è¦çµ„ä»¶

1. **[`.github/workflows/ai-assisted-development.yml`](../.github/workflows/ai-assisted-development.yml)**
   - GitHub Actions å·¥ä½œæµç¨‹å®šç¾©
   - åœ¨ PR å‰µå»º/æ›´æ–°æ™‚è‡ªå‹•è§¸ç™¼

2. **[`.ai/scripts/development-assistant.py`](scripts/development-assistant.py)**
   - æ ¸å¿ƒåˆ†æè…³æœ¬ï¼Œæ”¯æ´å¤šç¨®åŸ·è¡Œæ¨¡å¼
   - CI æ¨¡å¼ã€å ±å‘Šæ¨¡å¼ã€åˆè¦æ€§æª¢æŸ¥æ¨¡å¼

3. **åŠŸèƒ½è¨­è¨ˆæ–‡æª”æ˜ å°„**
   - è‡ªå‹•æª¢æ¸¬ä»£ç¢¼è®Šæ›´å°æ‡‰çš„æ–‡æª”
   - æä¾›å…·é«”çš„æ¶æ§‹æª¢æŸ¥æ¸…å–®

## ğŸš€ è‡ªå‹•åŒ–æµç¨‹

### è§¸ç™¼æ¢ä»¶
```yaml
on:
  pull_request:
    types: [opened, synchronize, reopened]
    paths:
      - 'petsard/**'
      - '.ai/functional_design/**'
      - 'tests/**'
```

### åŸ·è¡Œæ­¥é©Ÿ

1. **ä»£ç¢¼è®Šæ›´åˆ†æ**
   ```bash
   python .ai/scripts/development-assistant.py --mode=ci --pr-number=$PR_NUMBER
   ```

2. **ç”Ÿæˆåˆ†æå ±å‘Š**
   ```bash
   python .ai/scripts/development-assistant.py --mode=report
   ```

3. **PR ç•™è¨€äº’å‹•**
   - è‡ªå‹•åœ¨ PR ä¸­ç•™è¨€åˆ†æçµæœ
   - æ›´æ–°ç¾æœ‰ç•™è¨€è€Œéå‰µå»ºæ–°ç•™è¨€
   - æä¾›å…·é«”çš„æ”¹é€²å»ºè­°

4. **åˆè¦æ€§æª¢æŸ¥**ï¼ˆå¯é¸ï¼‰
   ```bash
   python .ai/scripts/development-assistant.py --mode=compliance --strict
   ```

## ğŸ“‹ å¯¦éš›ä½¿ç”¨ç¯„ä¾‹

### PR ç•™è¨€ç¯„ä¾‹

ç•¶é–‹ç™¼è€…ä¿®æ”¹ `petsard/loader/` æ¨¡çµ„æ™‚ï¼ŒGitHub Actions æœƒè‡ªå‹•ç•™è¨€ï¼š

```markdown
# ğŸ¤– AI è¼”åŠ©é–‹ç™¼åˆ†æå ±å‘Š

## ğŸ“Š è®Šæ›´åˆ†æ Change Analysis

**åˆ†ææ™‚é–“**: 2025-01-15 10:30:00 UTC
**PR ç·¨è™Ÿ**: #123
**åˆ†æ”¯**: feature/loader-enhancement

## ğŸ” æª¢æ¸¬åˆ°çš„æ¨¡çµ„è®Šæ›´ Detected Module Changes

### ğŸ”„ `loader` æ¨¡çµ„

**ğŸ“š å°æ‡‰æ–‡æª”**: [functional_design/loader.md](.ai/functional_design/loader.md)

**ğŸ“ è®Šæ›´æª”æ¡ˆ**: 3 å€‹
  - `petsard/loader/base.py`
  - `petsard/loader/csv_loader.py`
  - `petsard/loader/__init__.py`

**ğŸ” æ¶æ§‹æª¢æŸ¥æ¸…å–®**:
- [ ] ç¢ºèª load() æ–¹æ³•å›å‚³ tuple[pd.DataFrame, SchemaMetadata]
- [ ] æª¢æŸ¥æ˜¯å¦æ­£ç¢ºä½¿ç”¨ Metadater.create_schema()
- [ ] é©—è­‰å‘å¾Œç›¸å®¹æ€§

## ğŸ¤– AI è¼”åŠ©é–‹ç™¼å»ºè­°

1. **ä½¿ç”¨ Roo æ™‚è«‹è¼‰å…¥ç›¸é—œçš„åŠŸèƒ½è¨­è¨ˆæ–‡æª”**
2. **ç¢ºä¿ä»£ç¢¼è®Šæ›´èˆ‡æ–‡æª”ä¿æŒåŒæ­¥**
3. **é‹è¡Œç›¸é—œçš„æ¸¬è©¦ç¢ºä¿åŠŸèƒ½æ­£å¸¸**
4. **è€ƒæ…®å‘å¾Œç›¸å®¹æ€§å½±éŸ¿**

---
*æ­¤ç•™è¨€ç”± AI è¼”åŠ©é–‹ç™¼ç³»çµ±è‡ªå‹•ç”Ÿæˆ*
```

## ğŸ›ï¸ é…ç½®é¸é …

### å¼·åˆ¶æ¨¡å¼ vs è­¦å‘Šæ¨¡å¼

åœ¨ [`.github/workflows/ai-assisted-development.yml`](../.github/workflows/ai-assisted-development.yml) ä¸­ï¼š

```yaml
- name: âŒ Fail if Non-Compliant (Optional)
  if: steps.compliance.outputs.compliance_status != '0'
  run: |
    echo "::warning::AI è¼”åŠ©é–‹ç™¼åˆè¦æ€§æª¢æŸ¥å¤±æ•—ã€‚è«‹æª¢æŸ¥ PR ç•™è¨€ä¸­çš„å»ºè­°ã€‚"
    echo "::notice::é€™æ˜¯è­¦å‘Šæ¨¡å¼ï¼Œä¸æœƒé˜»æ­¢ PR åˆä½µã€‚å¦‚éœ€å¼·åˆ¶æ¨¡å¼ï¼Œè«‹ä¿®æ”¹å·¥ä½œæµç¨‹è¨­å®šã€‚"
    # exit 1  # å–æ¶ˆè¨»è§£ä»¥å•Ÿç”¨å¼·åˆ¶æ¨¡å¼
```

- **è­¦å‘Šæ¨¡å¼**ï¼ˆé è¨­ï¼‰ï¼šæä¾›å»ºè­°ä½†ä¸é˜»æ­¢ PR åˆä½µ
- **å¼·åˆ¶æ¨¡å¼**ï¼šåˆè¦æ€§æª¢æŸ¥å¤±æ•—æ™‚é˜»æ­¢ PR åˆä½µ

### è‡ªè¨‚æª¢æŸ¥è¦å‰‡

åœ¨ [`development-assistant.py`](scripts/development-assistant.py) ä¸­ä¿®æ”¹ `architecture_rules`ï¼š

```python
self.architecture_rules = {
    "petsard/loader/": [
        "ç¢ºèª load() æ–¹æ³•å›å‚³ tuple[pd.DataFrame, SchemaMetadata]",
        "æª¢æŸ¥æ˜¯å¦æ­£ç¢ºä½¿ç”¨ Metadater.create_schema()",
        "é©—è­‰å‘å¾Œç›¸å®¹æ€§",
        # æ·»åŠ æ–°çš„æª¢æŸ¥è¦å‰‡
    ],
    # æ·»åŠ æ–°æ¨¡çµ„çš„è¦å‰‡
}
```

## ğŸ”„ èˆ‡ç¾æœ‰å·¥å…·æ•´åˆ

### èˆ‡ Roo AI åŠ©æ‰‹æ•´åˆ

1. **è‡ªå‹•è¼‰å…¥ä¸Šä¸‹æ–‡**
   - Roo æœƒè‡ªå‹•è¼‰å…¥ [`.roo/project.yaml`](../.roo/project.yaml) é…ç½®
   - åŒ…å«å°ˆæ¡ˆä¸Šä¸‹æ–‡å’Œæ¶æ§‹è¦å‰‡

2. **é–‹ç™¼æç¤ºç”Ÿæˆ**
   ```bash
   python .ai/scripts/development-assistant.py --mode=interactive
   ```

### èˆ‡ Pre-commit Hook æ•´åˆ

[`.ai/scripts/pre-commit-hook.sh`](scripts/pre-commit-hook.sh) æœƒåœ¨æœ¬åœ°æäº¤å‰åŸ·è¡Œæª¢æŸ¥ï¼š

```bash
#!/bin/bash
# åŸ·è¡Œ AI è¼”åŠ©é–‹ç™¼æª¢æŸ¥
python .ai/scripts/development-assistant.py --mode=compliance

if [ $? -ne 0 ]; then
    echo "âš ï¸  å»ºè­°æª¢æŸ¥ç›¸é—œçš„åŠŸèƒ½è¨­è¨ˆæ–‡æª”"
    echo "æ˜¯å¦ç¹¼çºŒæäº¤ï¼Ÿ (y/N)"
    read -r response
    if [[ ! "$response" =~ ^[Yy]$ ]]; then
        exit 1
    fi
fi
```

## ğŸ“ˆ æ¥­ç•Œæœ€ä½³å¯¦è¸å°æ¯”

### æˆ‘å€‘çš„æ–¹æ¡ˆ vs æ¥­ç•Œæ¨™æº–

| åŠŸèƒ½ | æˆ‘å€‘çš„æ–¹æ¡ˆ | æ¥­ç•Œå¸¸è¦‹åšæ³• | å„ªå‹¢ |
|------|------------|--------------|------|
| **è‡ªå‹•åŒ–æª¢æŸ¥** | âœ… GitHub Actions | âœ… CI/CD æ•´åˆ | å°ˆç‚º AI è¼”åŠ©é–‹ç™¼è¨­è¨ˆ |
| **äº’å‹•å¼æé†’** | âœ… PR ç•™è¨€ Bot | âœ… Slack/Teams é€šçŸ¥ | ç›´æ¥åœ¨ä»£ç¢¼å¯©æŸ¥æµç¨‹ä¸­ |
| **æ–‡æª”åŒæ­¥** | âœ… è‡ªå‹•æª¢æ¸¬æ˜ å°„ | âŒ æ‰‹å‹•ç¶­è­· | è‡ªå‹•åŒ–ç¨‹åº¦æ›´é«˜ |
| **æ¶æ§‹åˆè¦** | âœ… å¯é…ç½®è¦å‰‡ | âœ… Linting å·¥å…· | é‡å°åŠŸèƒ½è¨­è¨ˆæ–‡æª” |
| **AI æ•´åˆ** | âœ… Roo å°ˆç”¨é…ç½® | âŒ é€šç”¨å·¥å…· | å°ˆç‚º AI åŠ©æ‰‹å„ªåŒ– |

### åƒè€ƒçš„æ¥­ç•Œå¯¦è¸

1. **Dependabot**ï¼šè‡ªå‹•åŒ–ä¾è³´æ›´æ–°å’Œ PR ç•™è¨€
2. **CodeClimate**ï¼šä»£ç¢¼å“è³ªåˆ†æå’Œ PR é›†æˆ
3. **Renovate**ï¼šé…ç½®é©…å‹•çš„è‡ªå‹•åŒ–æ›´æ–°
4. **Semantic Release**ï¼šè‡ªå‹•åŒ–ç‰ˆæœ¬ç®¡ç†å’Œç™¼ä½ˆ

## ğŸ¯ ä½¿ç”¨å»ºè­°

### åœ˜éšŠå°å…¥ç­–ç•¥

1. **éšæ®µä¸€ï¼šè­¦å‘Šæ¨¡å¼**
   - å•Ÿç”¨è‡ªå‹•æª¢æŸ¥ä½†ä¸é˜»æ­¢åˆä½µ
   - è®“åœ˜éšŠç†Ÿæ‚‰å·¥ä½œæµç¨‹

2. **éšæ®µäºŒï¼šäº’å‹•å„ªåŒ–**
   - æ ¹æ“šåœ˜éšŠåé¥‹èª¿æ•´æª¢æŸ¥è¦å‰‡
   - å„ªåŒ– PR ç•™è¨€å…§å®¹

3. **éšæ®µä¸‰ï¼šå¼·åˆ¶æ¨¡å¼**
   - å•Ÿç”¨å¼·åˆ¶åˆè¦æª¢æŸ¥
   - ç¢ºä¿æ¶æ§‹ä¸€è‡´æ€§

### ç¶­è­·æ³¨æ„äº‹é …

1. **å®šæœŸæ›´æ–°è¦å‰‡**ï¼šæ ¹æ“šå°ˆæ¡ˆæ¼”é€²èª¿æ•´æ¶æ§‹æª¢æŸ¥è¦å‰‡
2. **ç›£æ§æ•ˆæœ**ï¼šè¿½è¹¤ PR ç•™è¨€çš„æœ‰æ•ˆæ€§å’Œåœ˜éšŠæ¡ç”¨ç‡
3. **æ€§èƒ½å„ªåŒ–**ï¼šå¤§å‹å°ˆæ¡ˆå¯èƒ½éœ€è¦å„ªåŒ– git diff ç¯„åœ

## ğŸ”— ç›¸é—œè³‡æº

- [AI è¼”åŠ©é–‹ç™¼ç¸½è¦½](README.md)
- [é–‹ç™¼æµç¨‹æ–‡æª”](development-workflow.md)
- [å°ˆæ¡ˆä¸Šä¸‹æ–‡é…ç½®](roo-config/project-context.md)
- [æ¶æ§‹è¦å‰‡é…ç½®](roo-config/architecture-rules.md)