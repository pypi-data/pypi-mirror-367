import{ar as o,an as m,ao as h}from"./index-gAgwGayi.js";import{GLTFLoader as u}from"./glTFLoader-Cb-GFt3x.js";import"./index-BdeDDegE.js";import"./svelte/svelte.js";import"./bone-D1KXyVZQ.js";import"./rawTexture-v6SrN3Xy.js";import"./assetContainer-uoi6l1m0.js";import"./objectModelMapping-DdQ6zZo9.js";const r="KHR_materials_iridescence";class T{constructor(i){this.name=r,this.order=195,this._loader=i,this.enabled=this._loader.isExtensionUsed(r)}dispose(){this._loader=null}loadMaterialPropertiesAsync(i,s,e){return u.LoadExtensionAsync(i,s,this.name,(n,c)=>{const d=new Array;return d.push(this._loader.loadMaterialPropertiesAsync(i,s,e)),d.push(this._loadIridescencePropertiesAsync(n,c,e)),Promise.all(d).then(()=>{})})}_loadIridescencePropertiesAsync(i,s,e){if(!(e instanceof o))throw new Error(`${i}: Material type not supported`);const n=new Array;return e.iridescence.isEnabled=!0,e.iridescence.intensity=s.iridescenceFactor??0,e.iridescence.indexOfRefraction=s.iridescenceIor??s.iridescenceIOR??1.3,e.iridescence.minimumThickness=s.iridescenceThicknessMinimum??100,e.iridescence.maximumThickness=s.iridescenceThicknessMaximum??400,s.iridescenceTexture&&n.push(this._loader.loadTextureInfoAsync(`${i}/iridescenceTexture`,s.iridescenceTexture,c=>{c.name=`${e.name} (Iridescence)`,e.iridescence.texture=c})),s.iridescenceThicknessTexture&&n.push(this._loader.loadTextureInfoAsync(`${i}/iridescenceThicknessTexture`,s.iridescenceThicknessTexture,c=>{c.name=`${e.name} (Iridescence Thickness)`,e.iridescence.thicknessTexture=c})),Promise.all(n).then(()=>{})}}m(r);h(r,!0,t=>new T(t));export{T as KHR_materials_iridescence};
//# sourceMappingURL=KHR_materials_iridescence-CF7k8I1v.js.map
