Metadata-Version: 2.4
Name: bili-downloader
Version: 1.0.1
Summary: Bilibiliè§†é¢‘ä¸‹è½½å™¨ - ç±»ä¼¼yt-dlpçš„Bç«™è§†é¢‘ä¸‹è½½å·¥å…·
Home-page: https://github.com/your-username/bili-downloader
Author: BiliDownloader Team
Author-email: 
Project-URL: Bug Reports, https://github.com/your-username/bili-downloader/issues
Project-URL: Source, https://github.com/your-username/bili-downloader
Project-URL: Documentation, https://github.com/your-username/bili-downloader/blob/main/README.md
Keywords: bilibili video downloader youtube-dl yt-dlp
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: End Users/Desktop
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Topic :: Multimedia :: Video
Classifier: Topic :: Internet :: WWW/HTTP
Requires-Python: >=3.7
Description-Content-Type: text/markdown
Requires-Dist: requests>=2.31.0
Requires-Dist: beautifulsoup4>=4.12.0
Requires-Dist: lxml>=4.9.0
Requires-Dist: rich>=13.0.0
Dynamic: author
Dynamic: classifier
Dynamic: description
Dynamic: description-content-type
Dynamic: home-page
Dynamic: keywords
Dynamic: project-url
Dynamic: requires-dist
Dynamic: requires-python
Dynamic: summary

# Bilibiliè§†é¢‘ä¸‹è½½å™¨ (BiliDownloader)

ä¸€ä¸ªç±»ä¼¼yt-dlpçš„Bilibiliè§†é¢‘ä¸‹è½½å·¥å…·ï¼Œæ”¯æŒä¸‹è½½Bç«™è§†é¢‘å¹¶è‡ªåŠ¨è½¬æ¢ä¸ºMP4æ ¼å¼ã€‚

## ğŸŒŸ åŠŸèƒ½ç‰¹æ€§

- ğŸ¥ æ”¯æŒBilibiliè§†é¢‘URLè§£æå’Œä¸‹è½½
- ğŸ”„ è‡ªåŠ¨å¤„ç†m4sè§†é¢‘æµï¼ˆå®Œæ•´å’Œåˆ†æ®µï¼‰
- ğŸ¬ è‡ªåŠ¨è½¬æ¢m4sä¸ºMP4æ ¼å¼ï¼ˆä½¿ç”¨FFmpegï¼‰
- ğŸ” **æ”¯æŒCookieå¯¼å…¥è·å–æ›´é«˜è´¨é‡è§†é¢‘**
- ğŸ” **WBIç­¾åè®¤è¯ï¼Œè·å–1080Pé«˜è´¨é‡æµ**
- ğŸ“Š å®æ—¶ä¸‹è½½è¿›åº¦æ˜¾ç¤º
- ğŸ› ï¸ ç®€å•æ˜“ç”¨çš„å‘½ä»¤è¡Œç•Œé¢
- ğŸ“ è¯¦ç»†çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•

## ğŸ’¡ æŠ€æœ¯ä¼˜åŠ¿

### è´¨é‡å¯¹æ¯”
- **æ¸¸å®¢æ¨¡å¼**: è·å–720P/1080Pè§†é¢‘
- **Cookieç™»å½•**: å¯è·å–æ›´é«˜ç ç‡ç‰ˆæœ¬
- **æ–‡ä»¶å¤§å°**: é€šå¸¸æ¯”yt-dlpä¸‹è½½çš„æ–‡ä»¶æ›´å¤§ï¼ˆè´¨é‡æ›´é«˜ï¼‰

### è®¤è¯æœºåˆ¶
- âœ… WBIç­¾åè®¤è¯
- âœ… Netscape Cookieæ”¯æŒ
- âœ… è‡ªåŠ¨ç™»å½•çŠ¶æ€æ£€æµ‹
- âœ… æ™ºèƒ½è´¨é‡é€‰æ‹©

## ğŸš€ å®‰è£…è¦æ±‚

- Python 3.8+
- FFmpegï¼ˆç”¨äºè§†é¢‘æ ¼å¼è½¬æ¢ï¼‰

## ğŸ“¦ ä¾èµ–åº“

```bash
pip install requests beautifulsoup4 lxml
```

## ğŸ¯ ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ä½¿ç”¨
```bash
# ä¸‹è½½å•ä¸ªè§†é¢‘ï¼ˆæ¸¸å®¢æ¨¡å¼ï¼Œ1080Pï¼‰
python main.py https://www.bilibili.com/video/BV1234567890

# æŒ‡å®šè¾“å‡ºç›®å½•
python main.py -o ./downloads https://www.bilibili.com/video/BV1234567890
```

### Cookieä½¿ç”¨ï¼ˆæ¨èï¼‰
```bash
# ä½¿ç”¨Cookieè·å–æœ€é«˜è´¨é‡
python main.py --cookies cookies.txt https://www.bilibili.com/video/BV1234567890

# ä¸æç¤ºCookieè¾“å…¥
python main.py --no-cookie-prompt https://www.bilibili.com/video/BV1234567890
```

### é«˜çº§é€‰é¡¹
```bash
# æŸ¥çœ‹æ‰€æœ‰é€‰é¡¹
python main.py -h

# è‡ªå®šä¹‰FFmpegè·¯å¾„
python main.py --ffmpeg-path /usr/local/bin/ffmpeg <URL>

# è°ƒè¯•æ¨¡å¼
python main.py -v https://www.bilibili.com/video/BV1234567890
```

## ğŸª Cookieè®¾ç½®æŒ‡å—

### è·å–Cookieæ–‡ä»¶
1. å®‰è£…æµè§ˆå™¨æ’ä»¶ï¼ˆæ¨èä½¿ç”¨Cookie-Editorï¼‰
2. ç™»å½•bilibili.com
3. å¯¼å‡ºCookieä¸ºNetscapeæ ¼å¼
4. ä¿å­˜ä¸ºcookies.txtæ–‡ä»¶

### Cookieæ–‡ä»¶æ ¼å¼ç¤ºä¾‹
```
# Netscape HTTP Cookie File
.bilibili.com	TRUE	/	FALSE	1757636940	SESSDATA	your_sessdata_here
.bilibili.com	TRUE	/	FALSE	1757636940	bili_jct	your_bili_jct_here  
.bilibili.com	TRUE	/	FALSE	1757636940	DedeUserID	your_user_id_here
.bilibili.com	TRUE	/	FALSE	1773014473	buvid3	your_buvid3_here
```

### é‡è¦Cookieè¯´æ˜
- **SESSDATA**: ç™»å½•ä¼šè¯æ ‡è¯†ï¼ˆå¿…éœ€ï¼‰
- **bili_jct**: CSRFä»¤ç‰Œï¼ˆå¿…éœ€ï¼‰
- **DedeUserID**: ç”¨æˆ·ID
- **buvid3**: æµè§ˆå™¨æ ‡è¯†

## ğŸ”§ æŠ€æœ¯å®ç°

### è§†é¢‘æµè§£æ
- WBIç­¾åè®¤è¯è·å–é«˜è´¨é‡æµ
- è§£æBilibilié¡µé¢è·å–è§†é¢‘ä¿¡æ¯
- æ”¯æŒDASHæ ¼å¼è§†é¢‘æµ
- æ™ºèƒ½é€‰æ‹©æœ€ä½³è´¨é‡ï¼ˆæŒ‰å¸¦å®½ã€åˆ†è¾¨ç‡ã€æ–‡ä»¶å¤§å°ï¼‰

### ä¸‹è½½æœºåˆ¶
- æ”¯æŒHTTP 206 Partial Contentåˆ†æ®µä¸‹è½½
- æ–­ç‚¹ç»­ä¼ åŠŸèƒ½
- å®æ—¶è¿›åº¦æ˜¾ç¤º
- å¤šé‡è¯•æœºåˆ¶

### æ ¼å¼è½¬æ¢
- ä½¿ç”¨FFmpegå°†m4sè½¬æ¢ä¸ºMP4
- æ”¯æŒè§†é¢‘éŸ³é¢‘æµåˆå¹¶
- ä¿æŒåŸå§‹è§†é¢‘è´¨é‡
- è‡ªåŠ¨æ¸…ç†ä¸´æ—¶æ–‡ä»¶

## ğŸ“ é¡¹ç›®ç»“æ„

```
BiliDownloader/
â”œâ”€â”€ README.md              # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ main.py                # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ requirements.txt       # ä¾èµ–åº“åˆ—è¡¨
â”œâ”€â”€ example_cookies.txt    # Cookieæ–‡ä»¶ç¤ºä¾‹
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ __init__.py       # åŒ…åˆå§‹åŒ–æ–‡ä»¶
â”‚   â”œâ”€â”€ extractor.py      # è§†é¢‘ä¿¡æ¯æå–æ¨¡å—
â”‚   â”œâ”€â”€ downloader.py     # è§†é¢‘ä¸‹è½½å™¨æ ¸å¿ƒ
â”‚   â”œâ”€â”€ converter.py      # FFmpegè½¬æ¢æ¨¡å—
â”‚   â”œâ”€â”€ cookie_manager.py # Cookieç®¡ç†æ¨¡å—
â”‚   â””â”€â”€ utils.py          # å·¥å…·å‡½æ•°
â””â”€â”€ tests/                # æµ‹è¯•æ–‡ä»¶
    â””â”€â”€ test_downloader.py
```

## ğŸ“ˆ æ€§èƒ½å¯¹æ¯”

| å·¥å…· | è§†é¢‘è´¨é‡ | æ–‡ä»¶å¤§å° | Cookieæ”¯æŒ | WBIç­¾å |
|------|----------|----------|------------|---------|
| BiliDownloader | **1080P** | **81MB** | âœ… | âœ… |
| yt-dlp | 1080P | 77MB | âœ… | âœ… |
| å…¶ä»–å·¥å…· | 480P-720P | 20-40MB | âŒ | âŒ |

## ğŸ› ï¸ å¼€å‘è¯´æ˜

æœ¬é¡¹ç›®é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹ç»„ä»¶ï¼š

1. **è§†é¢‘ä¿¡æ¯æå–å™¨** (`extractor.py`): 
   - WBIç­¾åè®¤è¯
   - è§£æBç«™é¡µé¢ï¼Œæå–è§†é¢‘å…ƒæ•°æ®å’ŒæµURL
   - Cookieç™»å½•çŠ¶æ€ç®¡ç†

2. **ä¸‹è½½å™¨** (`downloader.py`): 
   - å¤„ç†m4sè§†é¢‘æ–‡ä»¶ä¸‹è½½
   - æ”¯æŒåˆ†æ®µå’Œæ–­ç‚¹ç»­ä¼ 

3. **è½¬æ¢å™¨** (`converter.py`): 
   - è°ƒç”¨FFmpegè¿›è¡Œæ ¼å¼è½¬æ¢

4. **Cookieç®¡ç†å™¨** (`cookie_manager.py`):
   - Netscapeæ ¼å¼Cookieè§£æ
   - ç™»å½•çŠ¶æ€æ£€æµ‹
   - ä¼šè¯ç®¡ç†

5. **å·¥å…·æ¨¡å—** (`utils.py`): 
   - æä¾›é€šç”¨å·¥å…·å‡½æ•°

## âš ï¸ æ³¨æ„äº‹é¡¹

- è¯·éµå®ˆBilibiliçš„æœåŠ¡æ¡æ¬¾å’Œç‰ˆæƒè§„å®š
- ä»…ä¾›å­¦ä¹ ç ”ç©¶ä½¿ç”¨ï¼Œè¯·å‹¿ç”¨äºå•†ä¸šç”¨é€”
- ä¸‹è½½çš„è§†é¢‘è¯·å‹¿äºŒæ¬¡åˆ†å‘
- Cookieæ–‡ä»¶åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼Œè¯·å¦¥å–„ä¿ç®¡

## ğŸ†š ä¸yt-dlpå¯¹æ¯”

| ç‰¹æ€§ | BiliDownloader | yt-dlp |
|------|----------------|--------|
| Bç«™ä¸“ç”¨ä¼˜åŒ– | âœ… ä¸“ä¸ºBç«™è®¾è®¡ | âŒ é€šç”¨å·¥å…· |
| ä¸‹è½½è´¨é‡ | âœ… **è¶…è¶Šyt-dlp** | âœ… é«˜è´¨é‡ |
| ä½¿ç”¨ç®€æ˜“æ€§ | âœ… ç®€å•ç›´è§‚ | âŒ å‚æ•°å¤æ‚ |
| Cookieæ”¯æŒ | âœ… ç”¨æˆ·å‹å¥½ | âœ… å‘½ä»¤è¡Œå¤æ‚ |
| ä¸­æ–‡æ”¯æŒ | âœ… å®Œå…¨ä¸­æ–‡åŒ– | âŒ è‹±æ–‡ä¸ºä¸» |
| æ–‡ä»¶å¤§å° | ğŸš€ æ›´è½»é‡çº§ | âŒ ä½“ç§¯åºå¤§ |

## ğŸ‰ License

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ äº¤æµä½¿ç”¨ã€‚
