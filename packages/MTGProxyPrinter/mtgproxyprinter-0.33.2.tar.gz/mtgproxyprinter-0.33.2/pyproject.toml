[project]

name = "MTGProxyPrinter"
description = "MTGProxyPrinter allows efficient printing of Magic: The Gathering cards for playtesting purposes."
readme = "README.md"
# Incompatible with 3.11.1, because of bug https://github.com/python/cpython/issues/100098,
# causing an instant crash on start. According to the linked issue, a fix will be in 3.11.2
requires-python = ">= 3.8, != 3.11.1, < 4"
authors = [
    {name = "Thomas Hess", email = "thomas.hess@udo.edu"},
]
keywords = ["MTG", "Magic The Gathering", "Printing", "Proxies"]
license = {text = "GNU GPLv3+, see LICENSE.md or https://www.gnu.org/licenses/gpl-3.0.html for details"}
# PEP 639 license specification below. Should be activated at some point,
# as the current license raises DeprecationWarning
# Still incompatible with pip-tools 7, so not
# license = "GPL-3.0-or-later"
# license-files = ["LICENSE.md", "doc/ThirdPartyLicenses.md"]
classifiers = [
    "Development Status :: 4 - Beta",
    "License :: OSI Approved :: GNU General Public License v3 or later (GPLv3+)",
    "Environment :: X11 Applications :: Qt",
    "Environment :: Win32 (MS Windows)",
    "Intended Audience :: End Users/Desktop",
    "Natural Language :: English",
    "Operating System :: OS Independent",
    "Programming Language :: Python :: 3.8",
    "Programming Language :: Python :: 3.9",
    "Programming Language :: Python :: 3.10",
    "Programming Language :: Python :: 3.11",
    "Programming Language :: Python :: 3.12",
    "Programming Language :: Python :: 3.13",
    "Programming Language :: Python :: 3 :: Only",
    "Topic :: Games/Entertainment :: Board Games",
    "Topic :: Internet :: WWW/HTTP :: Indexing/Search",
]
# Minimum required ijson version is 3.1 for the use_float parameter.
# ijson adds full compatibility with Python 3.11 in version 3.2 (3.1 is really slow on Py3.11).
# and Python 3.12 support in 3.2.1. Require newer versions on those Python versions to avoid
# falling back to the slow pure Python backend.
dependencies = [
    "platformdirs >= 2.6.0",
    "PyQt5",
    "ijson >= 3.1.0; python_version < '3.11'",
    "ijson >= 3.2.0; python_version >= '3.11'",
    "ijson >= 3.2.1; python_version >= '3.12'",
    "Pint < 0.22; python_version < '3.9'",  # 0.22 dropped Py 3.8 support, thus Win7 support
    "Pint >= 0.22; python_version >= '3.9'",  # Requires 0.22 for the QuantityT and UnitT types
    "delegateto == 1.5",
    "PyHamcrest >= 2",
    "truststore; python_version >= '3.10'",
    "certifi; python_version < '3.10'",
    "typing_extensions >= 4.13, < 5; python_version < '3.11'",
]

dynamic = [
    "version",
]

[project.optional-dependencies]
dev = [
    "pytest >= 6.0",
    "pytest-cov",
    "pytest-timeout",
    "pytest-qt >= 2.0",
    "tox >= 4.0",
    "PySide2; platform_system == 'Windows' and python_version < '3.12'",  # Used for lrelease: Compiling translations
    "PySide6_Essentials; platform_system == 'Windows' and python_version >= '3.12'",  # Used for lrelease: Compiling translations
    "pillow; platform_system == 'Windows'",  # Used to convert the app icon to .ico
]
package = [
    "build",
    "cx_Freeze >= 7.2; platform.python_implementation == 'CPython'",
    "PySide2; platform_system == 'Windows' and python_version < '3.12'",  # Used for lrelease: Compiling translations
    "PySide6_Essentials; platform_system == 'Windows' and python_version >= '3.12'",  # Used for lrelease: Compiling translations
    "pillow; platform_system == 'Windows'",  # Used to convert the app icon to .ico
]


[project.urls]
Homepage = "https://chiselapp.com/user/luziferius/repository/MTGProxyPrinter/index"
Issues = "https://chiselapp.com/user/luziferius/repository/MTGProxyPrinter/ticket"
Changelog = "https://chiselapp.com/user/luziferius/repository/MTGProxyPrinter/doc/trunk/doc/changelog.md"
Translations = "https://crowdin.com/project/mtgproxyprinter"
Repository = "https://chiselapp.com/user/luziferius/repository/MTGProxyPrinter/timeline"
Github = "https://github.com/luziferius/MTGProxyPrinter/"


[project.gui-scripts]
mtg-proxy-printer = "mtg_proxy_printer.__main__:main"

[tool.pytest.ini_options]
# timeout = 10

[tool.setuptools]
exclude-package-data = {"mtg_proxy_printer" = ["resources", "resources.*"]}


[tool.setuptools.packages.find]
include = [
   "mtg_proxy_printer*",
]
exclude = [
    "mtg_proxy_printer.resources",
    "mtg_proxy_printer.resources.*",
    "tests*",
]


[tool.setuptools.dynamic]
version = {attr= "mtg_proxy_printer.meta_data.__version__"}


[build-system]
requires = [
    "setuptools >= 61",
    "wheel >= 0.45",
    "PyQt5",
    "build",
    "pip-tools >= 7.4",
]
build-backend = "setuptools.build_meta"
