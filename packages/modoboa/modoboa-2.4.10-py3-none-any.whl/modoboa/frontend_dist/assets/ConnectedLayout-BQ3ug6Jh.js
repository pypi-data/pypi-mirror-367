import{k as ae,r as $e,c as B,o as V,w as y,a as s,b0 as fe,b1 as Re,ac as R,h as C,a8 as De,d as j,L as U,aA as he,b2 as He,b3 as X,ag as ge,b4 as ye,aF as Oe,v as pe,x as _e,ai as Ue,ar as we,V as Ye,T as ke,g as D,ad as Q,a6 as be,b5 as We,Y as Ge,e as L,B as z,F as N,C as xe,$ as ze,u as Ve,s as Fe,a0 as Xe,i as qe,f as Z,p as je,m as $,G as K,q as ee,l as q,t as Y,a1 as Ze,b as Se,b6 as Ke,ak as Je,_ as Qe,S as et,b7 as tt,U as at,n as nt,z as ot,H as lt}from"./index-DV9Li2cg.js";import{V as rt}from"./VContainer-Btam4lk2.js";import{V as it,a as st}from"./VApp-BKxnjOoi.js";import{u as ut}from"./global.store-DUP26-A5.js";import{u as ct}from"./layout.store-BxBoBlgf.js";import{C as vt,r as dt,u as Ce,D as mt,E as ft,b as Te,s as ht,A as gt,p as Pe,h as Be,V as J,d as te,f as yt,F as pt,G as _t,k as wt,e as kt,z as bt,H as xt,c as Vt}from"./VAvatar-BAgTUIvX.js";import{V as Le,g as St,a as O,h as Ct,c as Tt,b as Pt,f as Bt}from"./forwardRefs-Cpc3YYl6.js";import{u as se}from"./VProgressCircular-CrEXxs7k.js";import{u as Me,m as Lt,a as Mt}from"./tag-CFK9dzMJ.js";import{u as Ee,b as Et,m as At,V as ue,a as ce,c as It}from"./VMenu-B_dVqOmo.js";import{u as Nt,a as $t,V as Rt,b as Dt}from"./layout-CHO37cA6.js";import{u as Ht}from"./ssrBoot-BsxW6uW4.js";import{b as ve}from"./VCard-DFWiFORP.js";import{V as Ot,a as Ut}from"./VRow-C_Ydf6yr.js";import{V as Yt}from"./VSheet-5VVWtHvs.js";const Wt={__name:"ConnectedView",setup(e){return(o,n)=>{const r=$e("router-view");return V(),B(it,null,{default:y(()=>[s(rt,{fluid:"",style:{height:"100%"}},{default:y(()=>[s(r,null,{default:y(({Component:t})=>[s(fe,{name:"fade"},{default:y(()=>[(V(),B(Re(t)))]),_:2},1024)]),_:1})]),_:1})]),_:1})}}},Gt=ae(Wt,[["__scopeId","data-v-b2ffa9e6"]]);function zt(e){let{rootEl:o,isSticky:n,layoutItemStyles:r}=e;const t=R(!1),c=R(0),l=C(()=>{const a=typeof t.value=="boolean"?"top":t.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,t.value?{[a]:De(c.value)}:{top:r.value.top}]});j(()=>{U(n,a=>{a?window.addEventListener("scroll",_,{passive:!0}):window.removeEventListener("scroll",_)},{immediate:!0})}),he(()=>{window.removeEventListener("scroll",_)});let u=0;function _(){const a=u>window.scrollY?"up":"down",v=o.value.getBoundingClientRect(),g=parseFloat(r.value.top??0),k=window.scrollY-Math.max(0,c.value-g),x=v.height+Math.max(c.value,g)-window.scrollY-window.innerHeight,f=parseFloat(getComputedStyle(o.value).getPropertyValue("--v-body-scroll-y"))||0;v.height<window.innerHeight-g?(t.value="top",c.value=g):a==="up"&&t.value==="bottom"||a==="down"&&t.value==="top"?(c.value=window.scrollY+v.top-f,t.value=!0):a==="down"&&x<=0?(c.value=0,t.value="bottom"):a==="up"&&k<=0&&(f?t.value!=="top"&&(c.value=-k+f+g,t.value="top"):(c.value=v.top+k,t.value="top")),u=window.scrollY}return{isStuck:t,stickyStyles:l}}const Ft=100,Xt=20;function de(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function me(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let o=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const r=de(o),t=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);o+=(t-r)*Math.abs(t),n===e.length-1&&(o*=.5)}return de(o)*1e3}function qt(){const e={};function o(t){Array.from(t.changedTouches).forEach(c=>{(e[c.identifier]??(e[c.identifier]=new He(Xt))).push([t.timeStamp,c])})}function n(t){Array.from(t.changedTouches).forEach(c=>{delete e[c.identifier]})}function r(t){var a;const c=(a=e[t])==null?void 0:a.values().reverse();if(!c)throw new Error(`No samples for touch id ${t}`);const l=c[0],u=[],_=[];for(const v of c){if(l[0]-v[0]>Ft)break;u.push({t:v[0],d:v[1].clientX}),_.push({t:v[0],d:v[1].clientY})}return{x:me(u),y:me(_),get direction(){const{x:v,y:g}=this,[k,x]=[Math.abs(v),Math.abs(g)];return k>x&&v>=0?"right":k>x&&v<=0?"left":x>k&&g>=0?"down":x>k&&g<=0?"up":jt()}}}return{addMovement:o,endTouch:n,getVelocity:r}}function jt(){throw new Error}function Zt(e){let{el:o,isActive:n,isTemporary:r,width:t,touchless:c,position:l}=e;j(()=>{window.addEventListener("touchstart",A,{passive:!0}),window.addEventListener("touchmove",M,{passive:!1}),window.addEventListener("touchend",W,{passive:!0})}),he(()=>{window.removeEventListener("touchstart",A),window.removeEventListener("touchmove",M),window.removeEventListener("touchend",W)});const u=C(()=>["left","right"].includes(l.value)),{addMovement:_,endTouch:a,getVelocity:v}=qt();let g=!1;const k=R(!1),x=R(0),f=R(0);let b;function i(d,h){return(l.value==="left"?d:l.value==="right"?document.documentElement.clientWidth-d:l.value==="top"?d:l.value==="bottom"?document.documentElement.clientHeight-d:G())-(h?t.value:0)}function S(d){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const p=l.value==="left"?(d-f.value)/t.value:l.value==="right"?(document.documentElement.clientWidth-d-f.value)/t.value:l.value==="top"?(d-f.value)/t.value:l.value==="bottom"?(document.documentElement.clientHeight-d-f.value)/t.value:G();return h?Oe(p):p}function A(d){if(c.value)return;const h=d.changedTouches[0].clientX,p=d.changedTouches[0].clientY,w=25,T=l.value==="left"?h<w:l.value==="right"?h>document.documentElement.clientWidth-w:l.value==="top"?p<w:l.value==="bottom"?p>document.documentElement.clientHeight-w:G(),m=n.value&&(l.value==="left"?h<t.value:l.value==="right"?h>document.documentElement.clientWidth-t.value:l.value==="top"?p<t.value:l.value==="bottom"?p>document.documentElement.clientHeight-t.value:G());(T||m||n.value&&r.value)&&(b=[h,p],f.value=i(u.value?h:p,n.value),x.value=S(u.value?h:p),g=f.value>-20&&f.value<80,a(d),_(d))}function M(d){const h=d.changedTouches[0].clientX,p=d.changedTouches[0].clientY;if(g){if(!d.cancelable){g=!1;return}const T=Math.abs(h-b[0]),m=Math.abs(p-b[1]);(u.value?T>m&&T>3:m>T&&m>3)?(k.value=!0,g=!1):(u.value?m:T)>3&&(g=!1)}if(!k.value)return;d.preventDefault(),_(d);const w=S(u.value?h:p,!1);x.value=Math.max(0,Math.min(1,w)),w>1?f.value=i(u.value?h:p,!0):w<0&&(f.value=i(u.value?h:p,!1))}function W(d){if(g=!1,!k.value)return;_(d),k.value=!1;const h=v(d.changedTouches[0].identifier),p=Math.abs(h.x),w=Math.abs(h.y);(u.value?p>w&&p>400:w>p&&w>3)?n.value=h.direction===({left:"right",right:"left",top:"down",bottom:"up"}[l.value]||G()):n.value=x.value>.5}const H=C(()=>k.value?{transform:l.value==="left"?`translateX(calc(-100% + ${x.value*t.value}px))`:l.value==="right"?`translateX(calc(100% - ${x.value*t.value}px))`:l.value==="top"?`translateY(calc(-100% + ${x.value*t.value}px))`:l.value==="bottom"?`translateY(calc(100% - ${x.value*t.value}px))`:G(),transition:"none"}:void 0);return X(k,()=>{var p,w;const d=((p=o.value)==null?void 0:p.style.transform)??null,h=((w=o.value)==null?void 0:w.style.transition)??null;ge(()=>{var T,m,E,I;(m=o.value)==null||m.style.setProperty("transform",((T=H.value)==null?void 0:T.transform)||"none"),(I=o.value)==null||I.style.setProperty("transition",((E=H.value)==null?void 0:E.transition)||null)}),ye(()=>{var T,m;(T=o.value)==null||T.style.setProperty("transform",d),(m=o.value)==null||m.style.setProperty("transition",h)})}),{isDragging:k,dragProgress:x,dragStyles:H}}function G(){throw new Error}const Kt=["start","end","left","right","top","bottom"],Jt=_e({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>Kt.includes(e)},sticky:Boolean,...gt(),...Mt(),...At(),...ze({mobile:null}),...ht(),...$t(),...Te(),...Lt({tag:"nav"}),...xe()},"VNavigationDrawer"),Qt=pe()({name:"VNavigationDrawer",props:Jt(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,o){let{attrs:n,emit:r,slots:t}=o;const{isRtl:c}=Ue(),{themeClasses:l}=we(e),{borderClasses:u}=vt(e),{backgroundColorClasses:_,backgroundColorStyles:a}=se(()=>e.color),{elevationClasses:v}=dt(e),{displayClasses:g,mobile:k}=Ye(e),{roundedClasses:x}=Ce(e),f=mt(),b=ke(e,"modelValue",null,P=>!!P),{ssrBootStyles:i}=Ht(),{scopeId:S}=Ee(),A=D(),M=R(!1),{runOpenDelay:W,runCloseDelay:H}=Et(e,P=>{M.value=P}),d=C(()=>e.rail&&e.expandOnHover&&M.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),h=C(()=>ft(e.location,c.value)),p=Q(()=>e.persistent),w=C(()=>!e.permanent&&(k.value||e.temporary)),T=C(()=>e.sticky&&!w.value&&h.value!=="bottom");X(()=>e.expandOnHover&&e.rail!=null,()=>{U(M,P=>r("update:rail",!P))}),X(()=>!e.disableResizeWatcher,()=>{U(w,P=>!e.permanent&&be(()=>b.value=!P))}),X(()=>!e.disableRouteWatcher&&!!f,()=>{U(f.currentRoute,()=>w.value&&(b.value=!1))}),U(()=>e.permanent,P=>{P&&(b.value=!0)}),e.modelValue==null&&!w.value&&(b.value=e.permanent||!k.value);const{isDragging:m,dragProgress:E}=Zt({el:A,isActive:b,isTemporary:w,width:d,touchless:Q(()=>e.touchless),position:h}),I=C(()=>{const P=w.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):d.value;return m.value?P*E.value:P}),{layoutItemStyles:F,layoutItemScrimStyles:Ae}=Nt({id:e.name,order:C(()=>parseInt(e.order,10)),position:h,layoutSize:I,elementSize:d,active:We(b),disableTransitions:Q(()=>m.value),absolute:C(()=>e.absolute||T.value&&typeof ne.value!="string")}),{isStuck:ne,stickyStyles:Ie}=zt({rootEl:A,isSticky:T,layoutItemStyles:F}),oe=se(()=>typeof e.scrim=="string"?e.scrim:null),Ne=C(()=>({...m.value?{opacity:E.value*.2,transition:"none"}:void 0,...Ae.value}));return Ge({VList:{bgColor:"transparent"}}),Me(()=>{const P=t.image||e.image;return L(N,null,[s(e.tag,z({ref:A,onMouseenter:W,onMouseleave:H,class:["v-navigation-drawer",`v-navigation-drawer--${h.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":M.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":w.value,"v-navigation-drawer--persistent":p.value,"v-navigation-drawer--active":b.value,"v-navigation-drawer--sticky":T.value},l.value,_.value,u.value,g.value,v.value,x.value,e.class],style:[a.value,F.value,i.value,Ie.value,e.style]},S,n),{default:()=>{var le,re,ie;return[P&&L("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?s(Be,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},t.image):s(Pe,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),t.prepend&&L("div",{class:"v-navigation-drawer__prepend"},[(le=t.prepend)==null?void 0:le.call(t)]),L("div",{class:"v-navigation-drawer__content"},[(re=t.default)==null?void 0:re.call(t)]),t.append&&L("div",{class:"v-navigation-drawer__append"},[(ie=t.append)==null?void 0:ie.call(t)])]}}),s(fe,{name:"fade-transition"},{default:()=>[w.value&&(m.value||b.value)&&!!e.scrim&&L("div",z({class:["v-navigation-drawer__scrim",oe.backgroundColorClasses.value],style:[Ne.value,oe.backgroundColorStyles.value],onClick:()=>{p.value||(b.value=!1)}},S),null)]})])}),{isStuck:ne}}}),ea={class:"d-flex align-center"},ta={__name:"NavBar",props:{color:{type:String,default:"primary"},menuItems:{type:Array,required:!1,default:null},logoRoute:{type:Object,default:null}},setup(e){const o=e,n=ut(),r=Ve(),t=ct(),c=Fe(),l=Xe(),u=D(!1),_=D(!0),a=C(()=>r.authUser),v=C(()=>r.isAuthenticated),g=C(()=>n.notifications.length!==void 0&&n.notifications.length!==0),k=C(()=>l.MENU_LOGO_PATH?l.MENU_LOGO_PATH:new URL("/assets/Modoboa_RVB-BLANC-SANS-BBGoASES.png",import.meta.url).href);function x(f){return v.value?(f.roles===void 0||f.roles.indexOf(a.value.role)!==-1)&&(f.condition===void 0||f.condition())&&f.activated!==!1:!1}return j(()=>{a.value.role===qe.SUPER_ADMIN&&n.fetchNotifications()}),(f,b)=>(V(),B(Qt,{modelValue:_.value,"onUpdate:modelValue":b[2]||(b[2]=i=>_.value=i),rail:u.value,permanent:"",color:e.color,app:""},{default:y(()=>[L("div",ea,[s(Pe,{src:k.value,"max-width":"190",class:"logo",onClick:b[0]||(b[0]=i=>Z(c).push(o.logoRoute))},null,8,["src"]),s(J,{icon:u.value?"mdi-chevron-right":"mdi-chevron-left",variant:"text",onClick:b[1]||(b[1]=je(i=>u.value=!u.value,["stop"]))},null,8,["icon"])]),s(Le,{density:Z(t).compactLeftMenu?"compact":"default",lines:!Z(t).compactLeftMenu,nav:""},{default:y(()=>[(V(!0),$(N,null,K(e.menuItems,i=>(V(),$(N,{key:i.text},[x(i)?(V(),$(N,{key:0},[i.subheader?(V(),B(St,{key:0,class:"text-white"},{default:y(()=>[q(Y(i.text.toUpperCase()),1)]),_:2},1024)):i.action?(V(),B(O,{key:1,value:i,exact:i.exact,title:i.text,"prepend-icon":i.icon,onClick:i.action},null,8,["value","exact","title","prepend-icon","onClick"])):i.children?(V(),B(Ct,{key:3,value:i.text},{activator:y(({props:S})=>[(V(),B(O,z({ref_for:!0},S,{key:i.text,title:i.text,color:"white","prepend-icon":i.icon}),null,16,["title","prepend-icon"]))]),default:y(()=>[(V(!0),$(N,null,K(i.children,S=>(V(),$(N,{key:S.text},[x(S)?(V(),$(N,{key:0},[S.action?(V(),B(O,{key:0,title:S.text,value:S,"prepend-icon":S.icon,onClick:S.action},null,8,["title","value","prepend-icon","onClick"])):(V(),B(O,{key:1,to:S.to,link:"",title:S.text,value:S,"prepend-icon":S.icon},null,8,["to","title","value","prepend-icon"]))],64)):ee("",!0)],64))),128))]),_:2},1032,["value"])):(V(),B(O,{key:2,value:i,to:i.to,link:"",exact:i.exact,title:i.text,"prepend-icon":i.icon},Ze({_:2},[i.withBell&&g.value?{name:"append",fn:y(()=>[s(te,{color:"red",icon:"mdi-bell-alert-outline"})]),key:"0"}:void 0]),1032,["value","to","exact","title","prepend-icon"]))],64)):ee("",!0)],64))),128))]),_:1},8,["density","lines"])]),_:1},8,["modelValue","rail","color"]))}},aa=ae(ta,[["__scopeId","data-v-58cf46ea"]]),na={key:0,class:"top-menu"},oa={class:"mt-2"},la={class:"text-center"},ra={class:"text-h5"},ia={__name:"TopMenu",props:{user:{type:Object,default:null},remote:{type:Boolean,default:!1}},setup(e){const o=e,{$gettext:n}=Se(),r=D([]),t=C(()=>o.user.first_name&&o.user.last_name?`${o.user.first_name[0].toUpperCase()}${o.user.last_name[0].toUpperCase()}`:o.user.username?o.user.username.slice(0,2).toUpperCase():""),c=C(()=>[{text:n("Account"),icon:"mdi-account-circle-outline",to:o.remote?null:{name:"AccountSettings"},href:o.remote?"https://localhost:3000/account":"",click:()=>null},{text:n("Logout"),icon:"mdi-logout",click:l}]);async function l(){Ke()._s.forEach(async u=>await u.$reset())}return j(()=>{Je.getAvailableApplications().then(u=>{r.value=u.data})}),(u,_)=>e.user?(V(),$("div",na,[s(ue,{activator:"parent",location:"bottom"},{activator:y(({props:a})=>[s(J,z({icon:"mdi-apps",flat:"",class:"mr-4"},a),null,16)]),default:y(()=>[s(ve,{"min-width":"350","max-width":"400",class:"pa-4"},{default:y(()=>[s(Ot,{class:"justify-center"},{default:y(()=>[(V(!0),$(N,null,K(r.value,a=>(V(),B(Ut,{key:a.name,cols:"6"},{default:y(()=>[s(Yt,{rounded:"",class:"application text-center pa-4 text-body-2",onClick:v=>u.$router.push(a.url)},{default:y(()=>[s(te,{color:"primary",icon:a.icon,size:"x-large"},null,8,["icon"]),L("div",oa,Y(a.label),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),s(J,{icon:"",flat:"",color:"primary"},{default:y(()=>[q(Y(t.value)+" ",1),s(ue,{activator:"parent",location:"bottom"},{default:y(()=>[s(ve,{"min-width":"300","max-width":"350"},{default:y(()=>[s(Le,null,{default:y(()=>[L("div",la,[s(yt,{color:"primary"},{default:y(()=>[L("span",ra,Y(t.value),1)]),_:1}),s(O,{title:e.user.username},null,8,["title"])]),s(Tt),(V(!0),$(N,null,K(c.value,a=>(V(),B(O,{key:a.text,to:a.to,href:a.href,link:"",onClick:a.click},{prepend:y(()=>[s(te,{icon:a.icon},null,8,["icon"])]),default:y(()=>[s(Pt,null,{default:y(()=>[q(Y(a.text),1)]),_:2},1024)]),_:2},1032,["to","href","onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})])):ee("",!0)}},sa=ae(ia,[["__scopeId","data-v-adb37b5d"]]),ua={getTheme(){return Qe.get("/theme/")}};function ca(e){const o=R(e());let n=-1;function r(){clearInterval(n)}function t(){r(),be(()=>o.value=e())}function c(l){const u=l?getComputedStyle(l):{transitionDuration:.2},_=parseFloat(u.transitionDuration)*1e3||200;if(r(),o.value<=0)return;const a=performance.now();n=window.setInterval(()=>{const v=performance.now()-a+_;o.value=Math.max(e()-v,0),o.value<=0&&r()},_)}return ye(r),{clear:r,time:o,start:c,reset:t}}const va=_e({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...Vt({location:"bottom"}),...xt(),...Te(),...bt(),...xe(),...at(It({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),da=pe()({name:"VSnackbar",props:va(),emits:{"update:modelValue":e=>!0},setup(e,o){let{slots:n}=o;const r=ke(e,"modelValue"),{positionClasses:t}=pt(e),{scopeId:c}=Ee(),{themeClasses:l}=we(e),{colorClasses:u,colorStyles:_,variantClasses:a}=_t(e),{roundedClasses:v}=Ce(e),g=ca(()=>Number(e.timeout)),k=D(),x=D(),f=R(!1),b=R(0),i=D(),S=et(Rt,void 0);X(()=>!!S,()=>{const m=Dt();ge(()=>{i.value=m.mainStyles.value})}),U(r,M),U(()=>e.timeout,M),j(()=>{r.value&&M()});let A=-1;function M(){g.reset(),window.clearTimeout(A);const m=Number(e.timeout);if(!r.value||m===-1)return;const E=tt(x.value);g.start(E),A=window.setTimeout(()=>{r.value=!1},m)}function W(){g.reset(),window.clearTimeout(A)}function H(){f.value=!0,W()}function d(){f.value=!1,M()}function h(m){b.value=m.touches[0].clientY}function p(m){Math.abs(b.value-m.changedTouches[0].clientY)>50&&(r.value=!1)}function w(){f.value&&d()}const T=C(()=>e.location.split(" ").reduce((m,E)=>(m[`v-snackbar--${E}`]=!0,m),{}));return Me(()=>{const m=ce.filterProps(e),E=!!(n.default||n.text||e.text);return s(ce,z({ref:k,class:["v-snackbar",{"v-snackbar--active":r.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},T.value,t.value,e.class],style:[i.value,e.style]},m,{modelValue:r.value,"onUpdate:modelValue":I=>r.value=I,contentProps:z({class:["v-snackbar__wrapper",l.value,u.value,v.value,a.value],style:[_.value],onPointerenter:H,onPointerleave:d},m.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:h,onTouchend:p,onAfterLeave:w},c),{default:()=>{var I,F;return[wt(!1,"v-snackbar"),e.timer&&!f.value&&L("div",{key:"timer",class:"v-snackbar__timer"},[s(kt,{ref:x,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":g.time.value},null)]),E&&L("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((I=n.text)==null?void 0:I.call(n))??e.text,(F=n.default)==null?void 0:F.call(n)]),n.actions&&s(Be,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[L("div",{class:"v-snackbar__actions"},[n.actions({isActive:r})])]})]},activator:n.activator})}),Bt({},k)}}),ma=2e3,Ba={__name:"ConnectedLayout",props:{color:{type:String,default:"primary"},menuItems:{type:Array,default:null}},setup(e){const o=Ve(),n=nt(),{$gettext:r}=Se(),t=ot(),c=C(()=>o.authUser),l=C(()=>n.notificationColor),u=C(()=>n.notification),_=D(!1);return n.$onAction(({name:a,after:v})=>{a==="displayNotification"&&v(()=>{_.value=!0})},!0),ua.getTheme().then(a=>{a.data.theme_primary_color!==t.themes.value.light.colors.primary&&(t.themes.value.light.colors.primary=a.data.theme_primary_color),a.data.theme_primary_color_light!==t.themes.value.light.colors["primary-lighten-1"]&&(t.themes.value.light.colors["primary-lighten-1"]=a.data.theme_primary_color_light),a.data.theme_primary_color_dark!==t.themes.value.light.colors["primary-darken-1"]&&(t.themes.value.light.colors["primary-darken-1"]=a.data.theme_primary_color_dark),a.data.theme_secondary_color!==t.themes.value.light.colors.secondary&&(t.themes.value.light.colors.secondary=a.data.theme_secondary_color),a.data.theme_label_color!==t.themes.value.light.colors.label&&(t.themes.value.light.colors.label=a.data.theme_label_color)}),(a,v)=>(V(),B(st,null,{default:y(()=>[lt(a.$slots,"navbar",{},()=>[s(aa,{color:e.color,"menu-items":e.menuItems},null,8,["color","menu-items"])]),s(sa,{user:c.value},null,8,["user"]),s(Gt),s(da,{modelValue:_.value,"onUpdate:modelValue":v[1]||(v[1]=g=>_.value=g),color:l.value,timeout:ma,location:"top"},{actions:y(()=>[s(J,{color:"white",text:"",onClick:v[0]||(v[0]=g=>_.value=!1)},{default:y(()=>[q(Y(Z(r)("Close")),1)]),_:1})]),default:y(()=>[q(Y(u.value)+" ",1)]),_:1},8,["modelValue","color"])]),_:3}))}};export{Qt as V,Ba as _};
