$(document).ready(()=>{const e=$("button.btn-read-personal-message");$(e).on("click",e=>{const a=$(e.currentTarget),s=a.data("sender"),r=a.data("recipient"),n=a.data("message"),o=a.data("message-folder"),m=$.post(aaForumJsSettings.url.readMessage,{csrfmiddlewaretoken:aaForumJsSettings.form.csrfToken,sender:s,recipient:r,message:n});m.done(e=>{if(void 0!==e&&""!==e){const a=$(`#aa-forum-personal-message-id-${n} .card-aa-forum-personal-messages-message`);if(a.html(e).removeClass("d-none"),"inbox"===o){const s=aaForumJsSettings.url.unreadMessagesCount,r=($(`#aa-forum-personal-message-id-${n} .card-aa-forum-personal-messages-item`).removeClass("panel-aa-forum-personal-messages-item-unread"),$.get(s));r.done(e=>{0<e.unread_messages_count&&$(".aa-forum-badge-personal-messages-unread-count").html(e.unread_messages_count),0===e.unread_messages_count&&$(".aa-forum-badge-personal-messages-unread-count").remove()})}}})})});
//# sourceMappingURL=aa-forum-personal-messages.min.js.map