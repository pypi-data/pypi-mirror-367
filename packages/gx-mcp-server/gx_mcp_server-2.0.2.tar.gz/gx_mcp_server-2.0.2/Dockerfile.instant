FROM python:3.11-slim
WORKDIR /app
RUN groupadd -r app && useradd --no-log-init -r -m -g app app  
RUN pip install uv
COPY pyproject-instant.toml pyproject.toml
COPY src/gx_mcp_instant/ gx_mcp_instant/
RUN chown -R app:app /app
USER app
RUN uv sync
RUN uv pip install -e .
CMD ["uv", "run", "python", "-m", "gx_mcp_instant"]