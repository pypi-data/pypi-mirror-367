SELECT
    C.TABLE_SCHEMA,
    C.TABLE_NAME,
    C.COLUMN_NAME,
    C.ORDINAL_POSITION,
    C.IS_IDENTITY,
    C.IS_NULLABLE,
    C.COLUMN_DEFAULT,
    C.DATA_TYPE,
    C.CHARACTER_MAXIMUM_LENGTH,
    C.NUMERIC_PRECISION,
    C.NUMERIC_SCALE
FROM {{ database_name }}.INFORMATION_SCHEMA.COLUMNS c
JOIN {{ database_name }}.INFORMATION_SCHEMA.TABLES t ON c.table_schema = t.table_schema AND c.table_name = t.table_name
WHERE C.TABLE_SCHEMA <> 'INFORMATION_SCHEMA' {% if only_base_tables -%} AND t.TABLE_TYPE = 'BASE TABLE' {% endif -%}
ORDER BY C.TABLE_SCHEMA, C.TABLE_NAME, C.ORDINAL_POSITION
