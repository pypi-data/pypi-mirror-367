{"version":3,"file":"resourceListItemModelTests.js","names":["suite","TestListItem","RB","Config","ResourceListItem","extend","syncAttrs","createResource","attrs","DefaultReviewer","resource","beforeEach","name","fileRegex","describe","it","listItem","set","expect","get","toBe","id","spyOn","trigger","toHaveBeenCalledWith","undefined"],"sources":["../../../../../../../static/rb/js/configForms/models/tests/resourceListItemModelTests.es6.js"],"sourcesContent":["suite('rb/configForms/models/ResourceListItem', function() {\n    const TestListItem = RB.Config.ResourceListItem.extend({\n        syncAttrs: ['name', 'fileRegex'],\n        createResource: attrs => new RB.DefaultReviewer(attrs),\n    });\n    let resource;\n\n    beforeEach(function() {\n        resource = new RB.DefaultReviewer({\n            name: 'my-name',\n            fileRegex: '.*',\n        });\n    });\n\n    describe('Synchronizing attributes', function() {\n        it('On resource attribute change', function() {\n            const listItem = new TestListItem({\n                resource: resource,\n            });\n\n            resource.set('name', 'foo');\n\n            expect(listItem.get('name')).toBe('foo');\n        });\n\n        describe('On creation', function() {\n            it('With existing resource', function() {\n                const listItem = new TestListItem({\n                    resource: resource,\n                    name: 'dummy',\n                    fileRegex: '/foo/.*',\n                });\n\n                expect(listItem.get('name')).toBe('my-name');\n                expect(listItem.get('fileRegex')).toBe('.*');\n            });\n\n            it('With created resource', function() {\n                const listItem = new TestListItem({\n                    id: 123,\n                    name: 'new-name',\n                    fileRegex: '/foo/.*',\n                });\n\n                expect(listItem.get('name')).toBe('new-name');\n                expect(listItem.get('fileRegex')).toBe('/foo/.*');\n\n                resource = listItem.get('resource');\n                expect(resource.id).toBe(123);\n                expect(resource.get('name')).toBe('new-name');\n                expect(resource.get('fileRegex')).toBe('/foo/.*');\n            });\n        });\n    });\n\n    describe('Event mirroring', function() {\n        let listItem;\n\n        beforeEach(function() {\n            listItem = new TestListItem({\n                resource: resource,\n            });\n\n            spyOn(listItem, 'trigger');\n        });\n\n        it('destroy', function() {\n            resource.trigger('destroy');\n            expect(listItem.trigger).toHaveBeenCalledWith(\n                'destroy', listItem, undefined, {});\n        });\n\n        it('request', function() {\n            resource.trigger('request');\n            expect(listItem.trigger).toHaveBeenCalledWith('request');\n        });\n\n        it('sync', function() {\n            resource.trigger('sync');\n            expect(listItem.trigger).toHaveBeenCalledWith('sync');\n        });\n    });\n});\n"],"mappings":"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","ignoreList":[]}