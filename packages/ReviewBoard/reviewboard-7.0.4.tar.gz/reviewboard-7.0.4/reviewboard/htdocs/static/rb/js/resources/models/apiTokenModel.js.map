{"version":3,"file":"apiTokenModel.js","names":["RB","APIToken","BaseResource","extend","defaults","_","deprecated","expired","expires","invalidDate","invalidReason","lastUsed","note","policy","tokenValue","userName","valid","prototype","rspNamespace","url","SITE_ROOT","get","isNew","id","toJSON","JSON","stringify","parseResourceData","rsp","invalid_date","invalid_reason","last_used","token","defaultPolicies","readWrite","readOnly","resources","allow","block","custom"],"sources":["../../../../../../static/rb/js/resources/models/apiTokenModel.es6.js"],"sourcesContent":["/**\n * An API token.\n */\nRB.APIToken = RB.BaseResource.extend({\n    /**\n     * Return defaults for the model attributes.\n     *\n     * Returns:\n     *     object:\n     *     The default values for new model instances.\n     */\n    defaults() {\n        return _.defaults({\n            deprecated: false,\n            expired: false,\n            expires: null,\n            invalidDate: null,\n            invalidReason: null,\n            lastUsed: null,\n            note: null,\n            policy: {},\n            tokenValue: null,\n            userName: null,\n            valid: true,\n        }, RB.BaseResource.prototype.defaults());\n    },\n\n    rspNamespace: 'api_token',\n\n    /**\n     * Return the URL for syncing the model.\n     *\n     * Returns:\n     *     string:\n     *     The URL to use when making HTTP requests.\n     */\n    url() {\n        const url = SITE_ROOT + (this.get('localSitePrefix') || '') +\n                    'api/users/' + this.get('userName') + '/api-tokens/';\n\n        return this.isNew() ? url : `${url}${this.id}/`;\n    },\n\n    /**\n     * Return a JSON-serializable representation of the model.\n     *\n     * Returns:\n     *     object:\n     *     An object suitable for passing into JSON.stringify.\n     */\n    toJSON() {\n        return {\n            expires: this.get('expires'),\n            note: this.get('note'),\n            policy: JSON.stringify(this.get('policy')),\n        };\n    },\n\n    /**\n     * Parse the response from the server.\n     *\n     * Args:\n     *     rsp (object):\n     *         The response from the server API endpoint.\n     *\n     * Returns:\n     *     object:\n     *     The parsed attribute values.\n     */\n    parseResourceData(rsp) {\n        return {\n            deprecated: rsp.deprecated,\n            expired: rsp.expired,\n            expires: rsp.expires,\n            invalidDate: rsp.invalid_date,\n            invalidReason: rsp.invalid_reason,\n            lastUsed: rsp.last_used,\n            note: rsp.note,\n            policy: rsp.policy,\n            tokenValue: rsp.token,\n            valid: rsp.valid,\n        };\n    }\n}, {\n    defaultPolicies: {\n        readWrite: {},\n        readOnly: {\n            resources: {\n                '*': {\n                    allow: ['GET', 'HEAD', 'OPTIONS'],\n                    block: ['*']\n                }\n            }\n        },\n        custom: {\n            resources: {\n                '*': {\n                    allow: ['*'],\n                    block: []\n                }\n            }\n        }\n    }\n});\n"],"mappings":";;AAAA;AACA;AACA;AACAA,EAAE,CAACC,QAAQ,GAAGD,EAAE,CAACE,YAAY,CAACC,MAAM,CAAC;EACjC;AACJ;AACA;AACA;AACA;AACA;AACA;EACIC,QAAQA,CAAA,EAAG;IACP,OAAOC,CAAC,CAACD,QAAQ,CAAC;MACdE,UAAU,EAAE,KAAK;MACjBC,OAAO,EAAE,KAAK;MACdC,OAAO,EAAE,IAAI;MACbC,WAAW,EAAE,IAAI;MACjBC,aAAa,EAAE,IAAI;MACnBC,QAAQ,EAAE,IAAI;MACdC,IAAI,EAAE,IAAI;MACVC,MAAM,EAAE,CAAC,CAAC;MACVC,UAAU,EAAE,IAAI;MAChBC,QAAQ,EAAE,IAAI;MACdC,KAAK,EAAE;IACX,CAAC,EAAEhB,EAAE,CAACE,YAAY,CAACe,SAAS,CAACb,QAAQ,CAAC,CAAC,CAAC;EAC5C,CAAC;EAEDc,YAAY,EAAE,WAAW;EAEzB;AACJ;AACA;AACA;AACA;AACA;AACA;EACIC,GAAGA,CAAA,EAAG;IACF,MAAMA,GAAG,GAAGC,SAAS,IAAI,IAAI,CAACC,GAAG,CAAC,iBAAiB,CAAC,IAAI,EAAE,CAAC,GAC/C,YAAY,GAAG,IAAI,CAACA,GAAG,CAAC,UAAU,CAAC,GAAG,cAAc;IAEhE,OAAO,IAAI,CAACC,KAAK,CAAC,CAAC,GAAGH,GAAG,GAAG,GAAGA,GAAG,GAAG,IAAI,CAACI,EAAE,GAAG;EACnD,CAAC;EAED;AACJ;AACA;AACA;AACA;AACA;AACA;EACIC,MAAMA,CAAA,EAAG;IACL,OAAO;MACHhB,OAAO,EAAE,IAAI,CAACa,GAAG,CAAC,SAAS,CAAC;MAC5BT,IAAI,EAAE,IAAI,CAACS,GAAG,CAAC,MAAM,CAAC;MACtBR,MAAM,EAAEY,IAAI,CAACC,SAAS,CAAC,IAAI,CAACL,GAAG,CAAC,QAAQ,CAAC;IAC7C,CAAC;EACL,CAAC;EAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACIM,iBAAiBA,CAACC,GAAG,EAAE;IACnB,OAAO;MACHtB,UAAU,EAAEsB,GAAG,CAACtB,UAAU;MAC1BC,OAAO,EAAEqB,GAAG,CAACrB,OAAO;MACpBC,OAAO,EAAEoB,GAAG,CAACpB,OAAO;MACpBC,WAAW,EAAEmB,GAAG,CAACC,YAAY;MAC7BnB,aAAa,EAAEkB,GAAG,CAACE,cAAc;MACjCnB,QAAQ,EAAEiB,GAAG,CAACG,SAAS;MACvBnB,IAAI,EAAEgB,GAAG,CAAChB,IAAI;MACdC,MAAM,EAAEe,GAAG,CAACf,MAAM;MAClBC,UAAU,EAAEc,GAAG,CAACI,KAAK;MACrBhB,KAAK,EAAEY,GAAG,CAACZ;IACf,CAAC;EACL;AACJ,CAAC,EAAE;EACCiB,eAAe,EAAE;IACbC,SAAS,EAAE,CAAC,CAAC;IACbC,QAAQ,EAAE;MACNC,SAAS,EAAE;QACP,GAAG,EAAE;UACDC,KAAK,EAAE,CAAC,KAAK,EAAE,MAAM,EAAE,SAAS,CAAC;UACjCC,KAAK,EAAE,CAAC,GAAG;QACf;MACJ;IACJ,CAAC;IACDC,MAAM,EAAE;MACJH,SAAS,EAAE;QACP,GAAG,EAAE;UACDC,KAAK,EAAE,CAAC,GAAG,CAAC;UACZC,KAAK,EAAE;QACX;MACJ;IACJ;EACJ;AACJ,CAAC,CAAC","ignoreList":[]}