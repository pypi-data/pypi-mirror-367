{"version":3,"file":"diffCommitModel.js","names":["MAX_SUMMARY_LEN","RB","DiffCommit","Backbone","Model","extend","defaults","authorName","commitID","commitMessage","commitMessageBody","parentID","summary","parse","attrs","commit_message","trim","i","indexOf","substr","length","body","author_name","commit_id","id","parent_id","hasSummary","get"],"sources":["../../../../../../static/rb/js/diffviewer/models/diffCommitModel.es6.js"],"sourcesContent":["(function() {\n\n\nconst MAX_SUMMARY_LEN = 80;\n\n\n/**\n * A representation of a single commit in a diff.\n *\n * Model Attributes:\n *     authorName (string):\n *         The name of the author of the commit.\n *\n *     commitID (string):\n *         The unique identifier for the commit.\n *\n *     commitMessage (string):\n *         The commit message.\n *\n *     commitMessageBody (string):\n *         The commit message body, without the summary.\n *\n *         Version Added:\n *             6.0\n *\n *     parentID (string):\n *         The unique identifier of the parent commit.\n *\n *     summary (string):\n *         A one-line summary of the commit message.\n */\nRB.DiffCommit = Backbone.Model.extend({\n    defaults: {\n        authorName: null,\n        commitID: null,\n        commitMessage: null,\n        commitMessageBody: null,\n        parentID: null,\n        summary: null,\n    },\n\n    /**\n     * Parse a commit.\n     *\n     * Args:\n     *     attrs (object):\n     *         The raw attributes to parse.\n     *\n     * Returns:\n     *     object:\n     *     The parsed attribute-value pairs.\n     */\n    parse(attrs) {\n        const commitMessage = attrs.commit_message.trim();\n        const i = commitMessage.indexOf('\\n');\n\n        let summary = (\n            i === -1\n            ? commitMessage\n            : commitMessage.substr(0, i)\n        ).trim();\n\n        if (summary.length > MAX_SUMMARY_LEN) {\n            summary = summary.substr(0, MAX_SUMMARY_LEN - 3) + '...';\n        }\n\n        const body = (\n            i === -1\n            ? null\n            : commitMessage.substr(i).trim());\n\n        return {\n            authorName: attrs.author_name,\n            commitID: attrs.commit_id,\n            commitMessage: commitMessage,\n            commitMessageBody: body,\n            id: attrs.id,\n            parentID: attrs.parent_id,\n            summary: summary,\n        };\n    },\n\n    /**\n     * Whether or not the commit message differs from the summary.\n     *\n     * Returns:\n     *     boolean:\n     *     Whether or not the commit message differs from the summary.\n     */\n    hasSummary() {\n        return (this.get('summary') !== this.get('commitMessage'));\n    },\n});\n\n\n})();\n"],"mappings":";;AAAA,CAAC,YAAW;EAGZ,MAAMA,eAAe,GAAG,EAAE;;EAG1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACAC,EAAE,CAACC,UAAU,GAAGC,QAAQ,CAACC,KAAK,CAACC,MAAM,CAAC;IAClCC,QAAQ,EAAE;MACNC,UAAU,EAAE,IAAI;MAChBC,QAAQ,EAAE,IAAI;MACdC,aAAa,EAAE,IAAI;MACnBC,iBAAiB,EAAE,IAAI;MACvBC,QAAQ,EAAE,IAAI;MACdC,OAAO,EAAE;IACb,CAAC;IAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACIC,KAAKA,CAACC,KAAK,EAAE;MACT,MAAML,aAAa,GAAGK,KAAK,CAACC,cAAc,CAACC,IAAI,CAAC,CAAC;MACjD,MAAMC,CAAC,GAAGR,aAAa,CAACS,OAAO,CAAC,IAAI,CAAC;MAErC,IAAIN,OAAO,GAAG,CACVK,CAAC,KAAK,CAAC,CAAC,GACNR,aAAa,GACbA,aAAa,CAACU,MAAM,CAAC,CAAC,EAAEF,CAAC,CAAC,EAC9BD,IAAI,CAAC,CAAC;MAER,IAAIJ,OAAO,CAACQ,MAAM,GAAGpB,eAAe,EAAE;QAClCY,OAAO,GAAGA,OAAO,CAACO,MAAM,CAAC,CAAC,EAAEnB,eAAe,GAAG,CAAC,CAAC,GAAG,KAAK;MAC5D;MAEA,MAAMqB,IAAI,GACNJ,CAAC,KAAK,CAAC,CAAC,GACN,IAAI,GACJR,aAAa,CAACU,MAAM,CAACF,CAAC,CAAC,CAACD,IAAI,CAAC,CAAE;MAErC,OAAO;QACHT,UAAU,EAAEO,KAAK,CAACQ,WAAW;QAC7Bd,QAAQ,EAAEM,KAAK,CAACS,SAAS;QACzBd,aAAa,EAAEA,aAAa;QAC5BC,iBAAiB,EAAEW,IAAI;QACvBG,EAAE,EAAEV,KAAK,CAACU,EAAE;QACZb,QAAQ,EAAEG,KAAK,CAACW,SAAS;QACzBb,OAAO,EAAEA;MACb,CAAC;IACL,CAAC;IAED;AACJ;AACA;AACA;AACA;AACA;AACA;IACIc,UAAUA,CAAA,EAAG;MACT,OAAQ,IAAI,CAACC,GAAG,CAAC,SAAS,CAAC,KAAK,IAAI,CAACA,GAAG,CAAC,eAAe,CAAC;IAC7D;EACJ,CAAC,CAAC;AAGF,CAAC,EAAE,CAAC","ignoreList":[]}