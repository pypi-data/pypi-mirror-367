{"version":3,"file":"urlUtilsTests.js","names":["suite","describe","beforeEach","window","xss","afterEach","hasOwnProperty","it","done","spyOn","url","hash","RB","getLocationHash","$","_","delay","expect","not","toHaveBeenCalled"],"sources":["../../../../../../static/rb/js/utils/tests/urlUtilsTests.es6.js"],"sourcesContent":["suite('rb/utils/urlUtils', function() {\n    describe('getLocationHash', function() {\n        beforeEach(function() {\n            window.xss = function() {};\n        });\n\n        afterEach(function() {\n            if (window.hasOwnProperty('xss')) {\n                delete window.xss;\n            }\n        });\n\n        it('Prevents XSS injection', function(done) {\n            spyOn(window, 'xss');\n\n            const url = 'http://www.example.com/#<img/src/onerror=window.xss()>';\n            const hash = RB.getLocationHash(url);\n\n            $(`a[name=\"${hash}\"]`);\n\n            _.delay(function() {\n                expect(window.xss).not.toHaveBeenCalled();\n                done();\n            });\n        });\n    });\n});\n"],"mappings":";;AAAAA,KAAK,CAAC,mBAAmB,EAAE,YAAW;EAClCC,QAAQ,CAAC,iBAAiB,EAAE,YAAW;IACnCC,UAAU,CAAC,YAAW;MAClBC,MAAM,CAACC,GAAG,GAAG,YAAW,CAAC,CAAC;IAC9B,CAAC,CAAC;IAEFC,SAAS,CAAC,YAAW;MACjB,IAAIF,MAAM,CAACG,cAAc,CAAC,KAAK,CAAC,EAAE;QAC9B,OAAOH,MAAM,CAACC,GAAG;MACrB;IACJ,CAAC,CAAC;IAEFG,EAAE,CAAC,wBAAwB,EAAE,UAASC,IAAI,EAAE;MACxCC,KAAK,CAACN,MAAM,EAAE,KAAK,CAAC;MAEpB,MAAMO,GAAG,GAAG,wDAAwD;MACpE,MAAMC,IAAI,GAAGC,EAAE,CAACC,eAAe,CAACH,GAAG,CAAC;MAEpCI,CAAC,CAAC,WAAWH,IAAI,IAAI,CAAC;MAEtBI,CAAC,CAACC,KAAK,CAAC,YAAW;QACfC,MAAM,CAACd,MAAM,CAACC,GAAG,CAAC,CAACc,GAAG,CAACC,gBAAgB,CAAC,CAAC;QACzCX,IAAI,CAAC,CAAC;MACV,CAAC,CAAC;IACN,CAAC,CAAC;EACN,CAAC,CAAC;AACN,CAAC,CAAC","ignoreList":[]}