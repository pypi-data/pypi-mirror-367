{"version":3,"file":"reviewReplyEditorModelTests.js","names":["suite","reviewReply","review","editor","beforeEach","RB","Review","loaded","links","replies","href","createReply","spyOn","and","resolveTo","describe","ReviewRequestPage","ReviewReplyEditor","contextType","text","it","callThrough","ReviewReply","set","expect","listenTo","calls","count","toEqual","argsFor","_listeningTo","hasOwnProperty","_listenId","toBe","testBodySave","options","done","richText","save","then","get","textAttr","richTextAttr","ready","toHaveBeenCalled","trigger","toHaveBeenCalledWith","catch","err","fail","testCommentSave","hasDraft","model","prototype","replyObject","DiffCommentReply","not","resetStateIfEmpty","testSave","FileAttachmentCommentReply","GeneralCommentReply","ScreenshotCommentReply","destroy","_resetState"],"sources":["../../../../../../../static/rb/js/reviewRequestPage/models/tests/reviewReplyEditorModelTests.es6.js"],"sourcesContent":["suite('rb/reviewRequestPage/models/ReviewReplyEditor', function() {\n    let reviewReply;\n    let review;\n    let editor;\n\n    beforeEach(function() {\n        review = new RB.Review({\n            loaded: true,\n            links: {\n                replies: {\n                    href: '/api/review/123/replies/',\n                },\n            },\n        });\n\n        reviewReply = review.createReply();\n\n        spyOn(review, 'ready').and.resolveTo();\n        spyOn(reviewReply, 'ensureCreated').and.resolveTo();\n        spyOn(reviewReply, 'ready').and.resolveTo();\n    });\n\n    describe('Event handling', function() {\n        describe('reviewReply changes', function() {\n            beforeEach(function() {\n                editor = new RB.ReviewRequestPage.ReviewReplyEditor({\n                    contextType: 'body_top',\n                    review: review,\n                    reviewReply: reviewReply,\n                    text: 'My Text',\n                });\n            });\n\n            it('Sets up events on new reviewReply', function() {\n                spyOn(editor, 'listenTo').and.callThrough();\n\n                const reviewReply = new RB.ReviewReply();\n                editor.set('reviewReply', reviewReply);\n\n                expect(editor.listenTo.calls.count()).toEqual(2);\n                expect(editor.listenTo.calls.argsFor(0)[1]).toEqual('destroyed');\n                expect(editor.listenTo.calls.argsFor(1)[1]).toEqual('published');\n            });\n\n            it('Removes events from old reviewReply', function() {\n                editor.set('reviewReply', new RB.ReviewReply());\n\n                expect(editor._listeningTo.hasOwnProperty(reviewReply._listenId))\n                    .toBe(false);\n            });\n        });\n    });\n\n    describe('Methods', function() {\n        describe('save', function() {\n            function testBodySave(options, done) {\n                editor = new RB.ReviewRequestPage.ReviewReplyEditor({\n                    contextType: options.contextType,\n                    review: review,\n                    reviewReply: reviewReply,\n                    richText: options.richText,\n                    text: 'My Text',\n                });\n\n                spyOn(editor, 'trigger');\n                spyOn(reviewReply, 'save').and.resolveTo();\n\n                editor.save()\n                    .then(() => {\n                        expect(editor.get('replyObject')).toBe(reviewReply);\n                        expect(editor.get('hasDraft')).toBe(true);\n                        expect(editor.get('text')).toBe('My Text');\n                        expect(editor.get('richText')).toBe(true);\n                        expect(reviewReply.get(options.textAttr)).toBe('My Text');\n                        expect(reviewReply.get(options.richTextAttr)).toBe(\n                            options.richText);\n                        expect(reviewReply.ready).toHaveBeenCalled();\n                        expect(reviewReply.save).toHaveBeenCalled();\n                        expect(editor.trigger).toHaveBeenCalledWith('saving');\n                        expect(editor.trigger).toHaveBeenCalledWith('saved');\n\n                        done();\n                    })\n                    .catch(err => done.fail(err));\n            }\n\n            function testCommentSave(options, done) {\n                editor = new RB.ReviewRequestPage.ReviewReplyEditor({\n                    contextType: options.contextType,\n                    hasDraft: false,\n                    review: review,\n                    reviewReply: reviewReply,\n                    richText: options.richText,\n                    text: 'My Text',\n                });\n\n                spyOn(editor, 'trigger');\n                spyOn(options.model.prototype, 'ready').and.resolveTo();\n                spyOn(options.model.prototype, 'save').and.resolveTo();\n\n                editor.save()\n                    .then(() => {\n                        const replyObject = editor.get('replyObject');\n\n                        expect(editor.get('hasDraft')).toBe(true);\n                        expect(editor.get('text')).toBe('My Text');\n                        expect(editor.get('richText')).toBe(true);\n                        expect(replyObject instanceof options.model).toBe(true);\n                        expect(replyObject.get('text')).toBe('My Text');\n                        expect(replyObject.get('richText')).toBe(options.richText);\n                        expect(options.model.prototype.ready).toHaveBeenCalled();\n                        expect(options.model.prototype.save).toHaveBeenCalled();\n                        expect(editor.trigger).toHaveBeenCalledWith('saving');\n                        expect(editor.trigger).toHaveBeenCalledWith('saved');\n\n                        done();\n                    })\n                    .catch(err => done.fail(err));\n            }\n\n            it('With existing reply object', function(done) {\n                const replyObject = new RB.DiffCommentReply();\n\n                editor = new RB.ReviewRequestPage.ReviewReplyEditor({\n                    contextType: 'diff_comments',\n                    hasDraft: false,\n                    replyObject: replyObject,\n                    review: review,\n                    reviewReply: reviewReply,\n                    text: 'My Text',\n                });\n\n                spyOn(editor, 'trigger');\n                spyOn(replyObject, 'ready').and.resolveTo();\n                spyOn(replyObject, 'save').and.resolveTo();\n\n                editor.save()\n                    .then(() => {\n                        expect(editor.get('hasDraft')).toBe(true);\n                        expect(editor.get('replyObject')).toBe(replyObject);\n                        expect(replyObject.get('text')).toBe('My Text');\n                        expect(replyObject.ready).toHaveBeenCalled();\n                        expect(replyObject.save).toHaveBeenCalled();\n                        expect(editor.trigger).toHaveBeenCalledWith('saving');\n                        expect(editor.trigger).toHaveBeenCalledWith('saved');\n\n                        done();\n                    })\n                    .catch(err => done.fail(err));\n            });\n\n            it('With empty text', function(done) {\n                const replyObject = new RB.DiffCommentReply({\n                    text: 'Orig Text',\n                });\n\n                editor = new RB.ReviewRequestPage.ReviewReplyEditor({\n                    contextType: 'diff_comments',\n                    review: review,\n                    reviewReply: reviewReply,\n                });\n\n                spyOn(editor, 'trigger');\n                spyOn(editor, 'resetStateIfEmpty').and.resolveTo();\n                spyOn(replyObject, 'ready').and.resolveTo();\n                spyOn(replyObject, 'save');\n\n                editor.set({\n                    hasDraft: false,\n                    replyObject: replyObject,\n                    text: '',\n                });\n                editor.save()\n                    .then(() => {\n                        expect(editor.get('hasDraft')).toBe(false);\n                        expect(editor.get('replyObject')).toBe(replyObject);\n                        expect(replyObject.get('text')).toBe('Orig Text');\n                        expect(replyObject.ready).toHaveBeenCalled();\n                        expect(replyObject.save).not.toHaveBeenCalled();\n                        expect(editor.resetStateIfEmpty).toHaveBeenCalled();\n                        expect(editor.trigger).toHaveBeenCalledWith('saving');\n\n                        done();\n                    })\n                    .catch(err => done.fail(err));\n            });\n\n            describe('With body_top', function() {\n                function testSave(richText, done) {\n                    testBodySave({\n                        contextType: 'body_top',\n                        textAttr: 'bodyTop',\n                        richTextAttr: 'bodyTopRichText',\n                        richText: richText,\n                    }, done);\n                }\n\n                it('richText=true', function(done) {\n                    testSave(true, done);\n                });\n\n                it('richText=false', function(done) {\n                    testSave(false, done);\n                });\n            });\n\n            describe('With body_bottom', function() {\n                function testSave(richText, done) {\n                    testBodySave({\n                        contextType: 'body_bottom',\n                        textAttr: 'bodyBottom',\n                        richTextAttr: 'bodyBottomRichText',\n                        richText: richText,\n                    }, done);\n                }\n\n                it('richText=true', function(done) {\n                    testSave(true, done);\n                });\n\n                it('richText=false', function(done) {\n                    testSave(false, done);\n                });\n            });\n\n            describe('With diff comments', function() {\n                function testSave(richText, done) {\n                    testCommentSave({\n                        contextType: 'diff_comments',\n                        model: RB.DiffCommentReply,\n                        richText: richText,\n                    }, done);\n                }\n\n                it('richText=true', function(done) {\n                    testSave(true, done);\n                });\n\n                it('richText=false', function(done) {\n                    testSave(false, done);\n                });\n            });\n\n            describe('With file attachment comments', function() {\n                function testSave(richText, done) {\n                    testCommentSave({\n                        contextType: 'file_attachment_comments',\n                        model: RB.FileAttachmentCommentReply,\n                        richText: richText,\n                    }, done);\n                }\n\n                it('richText=true', function(done) {\n                    testSave(true, done);\n                });\n\n                it('richText=false', function(done) {\n                    testSave(false, done);\n                });\n            });\n\n            describe('With general comments', function() {\n                function testSave(richText, done) {\n                    testCommentSave({\n                        contextType: 'general_comments',\n                        model: RB.GeneralCommentReply,\n                        richText: richText,\n                    }, done);\n                }\n\n                it('richText=true', function(done) {\n                    testSave(true, done);\n                });\n\n                it('richText=false', function(done) {\n                    testSave(false, done);\n                });\n            });\n\n            describe('With screenshot comments', function() {\n                function testSave(richText, done) {\n                    testCommentSave({\n                        contextType: 'screenshot_comments',\n                        model: RB.ScreenshotCommentReply,\n                        richText: richText,\n                    }, done);\n                }\n\n                it('richText=true', function(done) {\n                    testSave(true, done);\n                });\n\n                it('richText=false', function(done) {\n                    testSave(false, done);\n                });\n            });\n        });\n\n        describe('resetStateIfEmpty', function() {\n            let replyObject;\n\n            beforeEach(function() {\n                replyObject = new RB.DiffCommentReply();\n\n                editor = new RB.ReviewRequestPage.ReviewReplyEditor({\n                    contextType: 'diff_comments',\n                    hasDraft: true,\n                    replyObject: replyObject,\n                    review: review,\n                    reviewReply: reviewReply,\n                });\n\n                spyOn(editor, 'trigger');\n                spyOn(replyObject, 'destroy').and.resolveTo();\n                spyOn(reviewReply, 'discardIfEmpty').and.resolveTo(true);\n            });\n\n            it('Without empty text', async function() {\n                editor.set('text', 'My Text');\n\n                await editor.resetStateIfEmpty();\n\n                expect(replyObject.destroy).not.toHaveBeenCalled();\n                expect(editor.get('hasDraft')).toBe(true);\n                expect(editor.trigger).not.toHaveBeenCalledWith('resetState');\n            });\n\n            describe('With empty text', function() {\n                it('With no reply object', async function() {\n                    editor.set('replyObject', null);\n\n                    await editor.resetStateIfEmpty();\n\n                    expect(editor.trigger).toHaveBeenCalledWith('resetState');\n                    expect(replyObject.destroy).not.toHaveBeenCalled();\n                    expect(editor.get('hasDraft')).toBe(false);\n                });\n\n                it('With new reply object', async function() {\n                    replyObject.set('id', null);\n\n                    await editor.resetStateIfEmpty();\n\n                    expect(editor.trigger).toHaveBeenCalledWith('resetState');\n                    expect(replyObject.destroy).not.toHaveBeenCalled();\n                    expect(editor.get('hasDraft')).toBe(false);\n                });\n\n                it('With existing reply object', async function() {\n                    replyObject.set('id', 123);\n\n                    await editor.resetStateIfEmpty();\n\n                    expect(replyObject.destroy).toHaveBeenCalled();\n                    expect(editor.get('hasDraft')).toBe(false);\n                    expect(editor.trigger).toHaveBeenCalledWith('resetState');\n                });\n\n                describe('With context type', function() {\n                    beforeEach(function() {\n                        replyObject.set('id', 123);\n\n                        spyOn(editor, '_resetState').and.resolveTo();\n                    });\n\n                    it('body_top', async function() {\n                        editor.set('contextType', 'body_top');\n\n                        await editor.resetStateIfEmpty();\n\n                        expect(replyObject.destroy).not.toHaveBeenCalled();\n                        expect(editor._resetState).toHaveBeenCalledWith(true);\n                    });\n\n                    it('body_bottom', async function() {\n                        editor.set('contextType', 'body_bottom');\n\n                        await editor.resetStateIfEmpty();\n\n                        expect(replyObject.destroy).not.toHaveBeenCalled();\n                        expect(editor._resetState).toHaveBeenCalledWith(true);\n                    });\n\n                    it('diff_comments', async function() {\n                        editor.set('contextType', 'diff_comments');\n\n                        await editor.resetStateIfEmpty();\n\n                        expect(replyObject.destroy).toHaveBeenCalled();\n                        expect(editor._resetState).toHaveBeenCalledWith();\n                    });\n\n                    it('file_attachment_comments', async function() {\n                        editor.set('contextType', 'file_attachment_comments');\n\n                        await editor.resetStateIfEmpty();\n\n                        expect(replyObject.destroy).toHaveBeenCalled();\n                        expect(editor._resetState).toHaveBeenCalledWith();\n                    });\n\n                    it('general_comments', async function() {\n                        editor.set('contextType', 'general_comments');\n                        await editor.resetStateIfEmpty();\n\n                        expect(replyObject.destroy).toHaveBeenCalled();\n                        expect(editor._resetState).toHaveBeenCalledWith();\n                    });\n\n                    it('screenshot_comments', async function() {\n                        editor.set('contextType', 'screenshot_comments');\n\n                        await editor.resetStateIfEmpty();\n\n                        expect(replyObject.destroy).toHaveBeenCalled();\n                        expect(editor._resetState).toHaveBeenCalledWith();\n                    });\n                });\n            });\n        });\n    });\n});\n"],"mappings":"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","ignoreList":[]}