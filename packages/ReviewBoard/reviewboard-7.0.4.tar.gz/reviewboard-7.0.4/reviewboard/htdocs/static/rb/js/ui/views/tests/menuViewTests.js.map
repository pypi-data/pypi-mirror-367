{"version":3,"file":"menuViewTests.js","names":["suite","ANIMATE_WAIT_MS","describe","it","view","RB","MenuView","render","$el","appendTo","$testsScratch","expect","el","id","toBe","toMatch","toHaveClass","not","tabIndex","attr","css","type","TYPE_BUTTON_MENU","ariaLabel","ariaLabelledBy","toBeUndefined","$controller","$","$menuItem","addItem","menuItem","tagName","$children","children","length","text","beforeEach","spyOn","and","callThrough","done","open","_","delay","isOpen","toBeTrue","animate","trigger","toHaveBeenCalledWith","defer","addClass","close","toBeFalse","itemEl","focusFirstItem","focus","toHaveBeenCalled","_activeItemIndex","focusLastItem","$item1","$item2","$item3","sendKeyDown","keyCode","Event","key","focusItem","spy","jasmine","createSpy","on"],"sources":["../../../../../../../static/rb/js/ui/views/tests/menuViewTests.es6.js"],"sourcesContent":["suite('rb/ui/views/MenuView', function() {\n    const ANIMATE_WAIT_MS = 300;\n\n    describe('Rendering', function() {\n        it('Standard menus', function() {\n            const view = new RB.MenuView();\n            view.render().$el.appendTo($testsScratch);\n\n            expect(view.el.id).toBe(view.id);\n            expect(view.el.id).toMatch(/^__rb-menu\\d+/);\n            expect(view.el).toHaveClass('rb-c-menu');\n            expect(view.el).not.toHaveClass('rb-c-button-group');\n            expect(view.el).not.toHaveClass('-is-vertical');\n            expect(view.el.tabIndex).toBe(-1);\n            expect(view.$el.attr('role')).toBe('menu');\n            expect(view.$el.css('display')).toBe('none');\n            expect(view.$el.css('visibility')).toBe('hidden');\n            expect(view.$el.css('opacity')).toBe('0');\n        });\n\n        it('Button menus', function() {\n            const view = new RB.MenuView({\n                type: RB.MenuView.TYPE_BUTTON_MENU,\n            });\n            view.render().$el.appendTo($testsScratch);\n\n            expect(view.el.id).toBe(view.id);\n            expect(view.el.id).toMatch(/^__rb-menu\\d+/);\n            expect(view.el).toHaveClass('rb-c-menu');\n            expect(view.el).toHaveClass('rb-c-button-group');\n            expect(view.el).toHaveClass('-is-vertical');\n            expect(view.el.tabIndex).toBe(-1);\n            expect(view.$el.attr('role')).toBe('menu');\n            expect(view.$el.css('display')).toBe('none');\n            expect(view.$el.css('visibility')).toBe('hidden');\n            expect(view.$el.css('opacity')).toBe('0');\n        });\n\n        it('With ariaLabelledBy', function() {\n            const view = new RB.MenuView({\n                ariaLabel: 'unused label',\n                ariaLabelledBy: 'abc123',\n                type: RB.MenuView.TYPE_BUTTON_MENU,\n            });\n            view.render().$el.appendTo($testsScratch);\n\n            expect(view.$el.attr('aria-label')).toBeUndefined();\n            expect(view.$el.attr('aria-labelledby')).toBe('abc123');\n        });\n\n        it('With ariaLabel', function() {\n            const view = new RB.MenuView({\n                ariaLabel: 'ARIA label',\n                type: RB.MenuView.TYPE_BUTTON_MENU,\n            });\n            view.render();\n\n            expect(view.$el.attr('aria-label')).toBe('ARIA label');\n            expect(view.$el.attr('aria-labelledby')).toBeUndefined();\n        });\n\n        it('With $controller', function() {\n            const $controller = $('<div>');\n\n            const view = new RB.MenuView({\n                $controller: $controller,\n                type: RB.MenuView.TYPE_BUTTON_MENU,\n            });\n            view.render();\n\n            expect(view.el.id).toBe(view.id);\n            expect(view.el.id).toMatch(/^__rb-menu\\d+/);\n            expect($controller.attr('aria-controls')).toBe(view.el.id);\n            expect($controller.attr('aria-expanded')).toBe('false');\n            expect($controller.attr('aria-haspopup')).toBe('true');\n        });\n    });\n\n    describe('Methods', function() {\n        describe('addItem', function() {\n            it('For standard menus', function() {\n                const view = new RB.MenuView();\n                view.render();\n\n                const $menuItem = view.addItem();\n                const menuItem = $menuItem[0];\n\n                expect(menuItem.tagName).toBe('DIV');\n                expect(menuItem.tabIndex).toBe(-1);\n                expect(menuItem).toHaveClass('rb-c-menu__item');\n                expect(menuItem).not.toHaveClass('rb-c-button');\n                expect($menuItem.attr('role')).toBe('menuitem');\n\n                const $children = view.$el.children();\n                expect($children.length).toBe(1);\n                expect($children[0]).toBe(menuItem);\n            });\n\n            it('For button menus', function() {\n                const view = new RB.MenuView({\n                    type: RB.MenuView.TYPE_BUTTON_MENU,\n                });\n                view.render();\n\n                const $menuItem = view.addItem();\n                const menuItem = $menuItem[0];\n\n                expect(menuItem.tagName).toBe('BUTTON');\n                expect(menuItem.tabIndex).toBe(-1);\n                expect(menuItem).toHaveClass('rb-c-menu__item');\n                expect(menuItem).toHaveClass('rb-c-button');\n                expect($menuItem.attr('type')).toBe('button');\n                expect($menuItem.attr('role')).toBe('menuitem');\n\n                const $children = view.$el.children();\n                expect($children.length).toBe(1);\n                expect($children[0]).toBe(menuItem);\n            });\n\n            it('With text', function() {\n                const view = new RB.MenuView({\n                    type: RB.MenuView.TYPE_BUTTON_MENU,\n                });\n                view.render();\n\n                const $menuItem = view.addItem({\n                    text: 'This is a test',\n                });\n                expect($menuItem.text()).toBe('This is a test');\n            });\n        });\n\n        describe('open', function() {\n            let $controller;\n            let view;\n\n            beforeEach(function() {\n                $controller = $('<div>')\n                    .appendTo($testsScratch);\n\n                view = new RB.MenuView({\n                    $controller: $controller,\n                });\n                view.render().$el.appendTo($testsScratch);\n\n                expect(view.$el.css('display')).toBe('none');\n                expect(view.$el.css('visibility')).toBe('hidden');\n                expect(view.$el.css('opacity')).toBe('0');\n\n                spyOn(view, 'trigger').and.callThrough();\n            });\n\n            it('Default behavior', function(done) {\n                view.open();\n\n                _.delay(() => {\n                    expect(view.isOpen).toBeTrue();\n                    expect(view.el).toHaveClass('-is-open');\n                    expect(view.el).not.toHaveClass('js-no-animation');\n                    expect(view.$el.css('display')).toBe('block');\n                    expect(view.$el.css('visibility')).toBe('visible');\n                    expect(view.$el.css('opacity')).toBe('1');\n                    expect($controller.attr('aria-expanded')).toBe('true');\n\n                    done();\n                }, ANIMATE_WAIT_MS);\n            });\n\n            it('With animate=false', function(done) {\n                view.open({\n                    animate: false,\n                });\n\n                expect(view.isOpen).toBeTrue();\n                expect(view.el).toHaveClass('-is-open');\n                expect(view.el).toHaveClass('js-no-animation');\n                expect(view.$el.css('display')).toBe('block');\n                expect(view.$el.css('visibility')).toBe('visible');\n                expect(view.$el.css('opacity')).toBe('1');\n                expect(view.trigger).toHaveBeenCalledWith('opening');\n                expect(view.trigger).toHaveBeenCalledWith('opened');\n                expect($controller.attr('aria-expanded')).toBe('true');\n\n                _.defer(() => {\n                    expect(view.el).not.toHaveClass('js-no-animation');\n                    done();\n                });\n            });\n        });\n\n        describe('close', function() {\n            let $controller;\n            let view;\n\n            beforeEach(function() {\n                $controller = $('<div aria-expanded=\"true\">')\n                    .appendTo($testsScratch);\n\n                view = new RB.MenuView({\n                    $controller: $controller,\n                });\n                view.render().$el.appendTo($testsScratch);\n\n                view.isOpen = true;\n                view.$el.addClass('-is-open');\n\n                expect(view.$el.css('display')).toBe('block');\n                expect(view.$el.css('visibility')).toBe('visible');\n                expect(view.$el.css('opacity')).toBe('1');\n\n                spyOn(view, 'trigger').and.callThrough();\n            });\n\n            it('Default behavior', function(done) {\n                view.close();\n\n                _.delay(() => {\n                    expect(view.isOpen).toBeFalse();\n                    expect(view.el).not.toHaveClass('-is-open');\n                    expect(view.el).not.toHaveClass('js-no-animation');\n                    expect(view.$el.css('display')).toBe('none');\n                    expect(view.$el.css('visibility')).toBe('hidden');\n                    expect(view.$el.css('opacity')).toBe('0');\n                    expect($controller.attr('aria-expanded')).toBe('false');\n                    done();\n                }, ANIMATE_WAIT_MS);\n            });\n\n            it('With animate=false', function(done) {\n                view.close({\n                    animate: false,\n                });\n\n                expect(view.isOpen).toBeFalse();\n                expect(view.el).toHaveClass('js-no-animation');\n                expect(view.el).not.toHaveClass('-is-open');\n                expect(view.$el.css('display')).toBe('none');\n                expect(view.$el.css('visibility')).toBe('hidden');\n                expect(view.$el.css('opacity')).toBe('0');\n                expect(view.trigger).toHaveBeenCalledWith('closing');\n                expect(view.trigger).toHaveBeenCalledWith('closed');\n                expect($controller.attr('aria-expanded')).toBe('false');\n\n                _.defer(() => {\n                    expect(view.el).not.toHaveClass('js-no-animation');\n                    done();\n                });\n            });\n        });\n\n        it('focusFirstItem', function() {\n            const view = new RB.MenuView();\n            view.render().$el.appendTo($testsScratch);\n            view.open({\n                animate: false,\n            });\n\n            const itemEl = view.addItem()[0];\n            view.addItem();\n            view.addItem();\n\n            /*\n             * We'll be spying on focus() instead of checking the resulting\n             * focused element in order to work around issues with the\n             * browser's developer tools console having focus during unit\n             * tests, causing our element to never actually gain focus.\n             */\n            spyOn(itemEl, 'focus');\n\n            view.focusFirstItem();\n\n            expect(itemEl.focus).toHaveBeenCalled();\n            expect(view._activeItemIndex).toBe(0);\n        });\n\n        it('focusLastItem', function() {\n            const view = new RB.MenuView();\n            view.render().$el.appendTo($testsScratch);\n            view.open({\n                animate: false,\n            });\n\n            view.addItem();\n            view.addItem();\n            const itemEl = view.addItem()[0];\n\n            /*\n             * We'll be spying on focus() instead of checking the resulting\n             * focused element in order to work around issues with the\n             * browser's developer tools console having focus during unit\n             * tests, causing our element to never actually gain focus.\n             */\n            spyOn(itemEl, 'focus');\n\n            view.focusLastItem();\n\n            expect(itemEl.focus).toHaveBeenCalled();\n            expect(view._activeItemIndex).toBe(2);\n        });\n    });\n\n    describe('Keyboard Accessibility', function() {\n        let $controller;\n        let $item1;\n        let $item2;\n        let $item3;\n        let view;\n\n        function sendKeyDown(keyCode) {\n            view.$el.trigger($.Event('keydown', {\n                key: keyCode,\n            }));\n        }\n\n        beforeEach(function() {\n            $controller = $('<div>')\n                .appendTo($testsScratch);\n\n            view = new RB.MenuView({\n                $controller: $controller,\n            });\n            view.render().$el.appendTo($testsScratch);\n\n            $item1 = view.addItem();\n            $item2 = view.addItem();\n            $item3 = view.addItem();\n\n            view.open({\n                animate: false,\n            });\n            view.focusItem(1);\n\n            spyOn(view, 'trigger').and.callThrough();\n        });\n\n        it('Enter key activates item', function() {\n            const spy = jasmine.createSpy();\n\n            $item2.on('click', spy);\n\n            sendKeyDown('Enter');\n\n            expect(spy).toHaveBeenCalled();\n        });\n\n        it('Escape key closes menu', function() {\n            spyOn($controller[0], 'focus');\n\n            sendKeyDown('Escape');\n\n            expect(view.el).not.toHaveClass('-is-open');\n            expect($controller[0].focus).toHaveBeenCalled();\n        });\n\n        it('Tab key closes menu', function() {\n            spyOn($controller[0], 'focus');\n\n            sendKeyDown('Tab');\n\n            expect(view.el).not.toHaveClass('-is-open');\n            expect($controller[0].focus).toHaveBeenCalled();\n        });\n\n        it('Up key moves focus up', function() {\n            spyOn(view, 'focusItem').and.callThrough();\n\n            sendKeyDown('ArrowUp');\n            expect(view.focusItem).toHaveBeenCalledWith(0);\n\n            /* It should now wrap. */\n            sendKeyDown('ArrowUp');\n            expect(view.focusItem).toHaveBeenCalledWith(2);\n        });\n\n        it('Down key moves focus up', function() {\n            spyOn(view, 'focusItem').and.callThrough();\n\n            sendKeyDown('ArrowDown');\n            expect(view.focusItem).toHaveBeenCalledWith(2);\n\n            /* It should now wrap. */\n            sendKeyDown('ArrowDown');\n            expect(view.focusItem).toHaveBeenCalledWith(0);\n        });\n\n        it('Home key moves focus to top', function() {\n            spyOn(view, 'focusItem').and.callThrough();\n\n            sendKeyDown('Home');\n            expect(view.focusItem).toHaveBeenCalledWith(0);\n        });\n\n        it('Page Up key moves focus to top', function() {\n            spyOn(view, 'focusItem').and.callThrough();\n\n            sendKeyDown('PageUp');\n            expect(view.focusItem).toHaveBeenCalledWith(0);\n        });\n\n        it('End key moves focus to bottom', function() {\n            spyOn(view, 'focusItem').and.callThrough();\n\n            sendKeyDown('End');\n            expect(view.focusItem).toHaveBeenCalledWith(2);\n        });\n\n        it('Page Down key moves focus to bottom', function() {\n            spyOn(view, 'focusItem').and.callThrough();\n\n            sendKeyDown('PageDown');\n            expect(view.focusItem).toHaveBeenCalledWith(2);\n        });\n    });\n});\n"],"mappings":"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","ignoreList":[]}