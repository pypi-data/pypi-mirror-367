{"version":3,"file":"branchesViewTests.js","names":["suite","collection","view","beforeEach","RB","RepositoryBranches","name","commit","isDefault","BranchesView","describe","it","render","expect","$el","html","toBe","on","branch","get","children","$","attr","change"],"sources":["../../../../../../../static/rb/js/newReviewRequest/views/tests/branchesViewTests.es6.js"],"sourcesContent":["suite('rb/newReviewRequest/views/BranchesView', function() {\n    let collection;\n    let view;\n\n    beforeEach(function() {\n        collection = new RB.RepositoryBranches([\n            {\n                name: 'master',\n                commit: '8088295174d8d46af7700ddf4522e3a703724106',\n                isDefault: true,\n            },\n            {\n                name: 'release-1.7.x',\n                commit: '5e6707050f7cb29ed50fafd3b92bffb1e15df19f',\n                isDefault: false,\n            },\n            {\n                name: 'release-1.6.x',\n                commit: 'a15d0e635064a2e1929ce1bf3bc8d4aa65738b64',\n                isDefault: false,\n            }\n        ]);\n\n        view = new RB.BranchesView({\n            collection: collection,\n        });\n    });\n\n    describe('Rendering', function() {\n        it('With items', function() {\n            view.render();\n            expect(view.$el.html()).toBe(\n                '<option selected=\"selected\">master</option>' +\n                '<option>release-1.7.x</option>' +\n                '<option>release-1.6.x</option>');\n        });\n    });\n\n    describe('Selected event', function() {\n        it('When clicked', function() {\n            view.render();\n\n            view.on('selected', branch => {\n                expect(branch.get('name')).toBe('release-1.7.x');\n            });\n\n            const children = view.$el.children();\n\n            $(children[0]).attr('selected', false);\n            $(children[1]).attr('selected', true);\n            view.$el.change();\n\n            expect(view.$el.html()).toBe(\n                '<option>master</option>' +\n                '<option selected=\"selected\">release-1.7.x</option>' +\n                '<option>release-1.6.x</option>');\n        });\n    });\n});\n"],"mappings":";;AAAAA,KAAK,CAAC,wCAAwC,EAAE,YAAW;EACvD,IAAIC,UAAU;EACd,IAAIC,IAAI;EAERC,UAAU,CAAC,YAAW;IAClBF,UAAU,GAAG,IAAIG,EAAE,CAACC,kBAAkB,CAAC,CACnC;MACIC,IAAI,EAAE,QAAQ;MACdC,MAAM,EAAE,0CAA0C;MAClDC,SAAS,EAAE;IACf,CAAC,EACD;MACIF,IAAI,EAAE,eAAe;MACrBC,MAAM,EAAE,0CAA0C;MAClDC,SAAS,EAAE;IACf,CAAC,EACD;MACIF,IAAI,EAAE,eAAe;MACrBC,MAAM,EAAE,0CAA0C;MAClDC,SAAS,EAAE;IACf,CAAC,CACJ,CAAC;IAEFN,IAAI,GAAG,IAAIE,EAAE,CAACK,YAAY,CAAC;MACvBR,UAAU,EAAEA;IAChB,CAAC,CAAC;EACN,CAAC,CAAC;EAEFS,QAAQ,CAAC,WAAW,EAAE,YAAW;IAC7BC,EAAE,CAAC,YAAY,EAAE,YAAW;MACxBT,IAAI,CAACU,MAAM,CAAC,CAAC;MACbC,MAAM,CAACX,IAAI,CAACY,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CAACC,IAAI,CACxB,6CAA6C,GAC7C,gCAAgC,GAChC,gCAAgC,CAAC;IACzC,CAAC,CAAC;EACN,CAAC,CAAC;EAEFN,QAAQ,CAAC,gBAAgB,EAAE,YAAW;IAClCC,EAAE,CAAC,cAAc,EAAE,YAAW;MAC1BT,IAAI,CAACU,MAAM,CAAC,CAAC;MAEbV,IAAI,CAACe,EAAE,CAAC,UAAU,EAAEC,MAAM,IAAI;QAC1BL,MAAM,CAACK,MAAM,CAACC,GAAG,CAAC,MAAM,CAAC,CAAC,CAACH,IAAI,CAAC,eAAe,CAAC;MACpD,CAAC,CAAC;MAEF,MAAMI,QAAQ,GAAGlB,IAAI,CAACY,GAAG,CAACM,QAAQ,CAAC,CAAC;MAEpCC,CAAC,CAACD,QAAQ,CAAC,CAAC,CAAC,CAAC,CAACE,IAAI,CAAC,UAAU,EAAE,KAAK,CAAC;MACtCD,CAAC,CAACD,QAAQ,CAAC,CAAC,CAAC,CAAC,CAACE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC;MACrCpB,IAAI,CAACY,GAAG,CAACS,MAAM,CAAC,CAAC;MAEjBV,MAAM,CAACX,IAAI,CAACY,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CAACC,IAAI,CACxB,yBAAyB,GACzB,oDAAoD,GACpD,gCAAgC,CAAC;IACzC,CAAC,CAAC;EACN,CAAC,CAAC;AACN,CAAC,CAAC","ignoreList":[]}