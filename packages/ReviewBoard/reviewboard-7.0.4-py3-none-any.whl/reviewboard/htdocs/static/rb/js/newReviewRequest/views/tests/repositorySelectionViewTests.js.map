{"version":3,"file":"repositorySelectionViewTests.js","names":["suite","collection","view","beforeEach","Backbone","Collection","name","model","RB","Repository","RepositorySelectionView","describe","it","render","children","$el","find","expect","length","toBe","models","i","get","$","text","trim","handlerCalled","on","repository","click"],"sources":["../../../../../../../static/rb/js/newReviewRequest/views/tests/repositorySelectionViewTests.es6.js"],"sourcesContent":["suite('rb/newReviewRequest/views/RepositorySelectionView', function() {\n    let collection;\n    let view;\n\n    beforeEach(function() {\n        collection = new Backbone.Collection([\n            { name: 'Bitbucket Test' },\n            { name: 'GitHub Test' },\n            { name: 'GitLab Test' },\n            { name: 'Local Git Test' },\n        ], {\n            model: RB.Repository,\n        });\n\n        view = new RB.RepositorySelectionView({\n            collection: collection,\n        });\n    });\n\n    describe('Rendering', function() {\n        it('With items', function() {\n            view.render();\n            const children = view.$el.find('.repository');\n\n            expect(children.length).toBe(collection.models.length);\n\n            for (let i = 0; i < children.length; i++) {\n                const name = collection.models[i].get('name');\n                expect($(children[i]).text().trim()).toBe(name);\n            }\n        });\n    });\n\n    describe('Selected event', function() {\n        it('When clicked', function() {\n            let handlerCalled = false;\n\n            view.render();\n            view.on('selected', repository => {\n                expect(repository.get('name')).toBe('GitHub Test');\n                handlerCalled = true;\n            });\n\n            const children = view.$el.find('.repository');\n            $(children[1]).click();\n\n            expect(handlerCalled).toBe(true);\n        });\n    });\n});\n"],"mappings":";;AAAAA,KAAK,CAAC,mDAAmD,EAAE,YAAW;EAClE,IAAIC,UAAU;EACd,IAAIC,IAAI;EAERC,UAAU,CAAC,YAAW;IAClBF,UAAU,GAAG,IAAIG,QAAQ,CAACC,UAAU,CAAC,CACjC;MAAEC,IAAI,EAAE;IAAiB,CAAC,EAC1B;MAAEA,IAAI,EAAE;IAAc,CAAC,EACvB;MAAEA,IAAI,EAAE;IAAc,CAAC,EACvB;MAAEA,IAAI,EAAE;IAAiB,CAAC,CAC7B,EAAE;MACCC,KAAK,EAAEC,EAAE,CAACC;IACd,CAAC,CAAC;IAEFP,IAAI,GAAG,IAAIM,EAAE,CAACE,uBAAuB,CAAC;MAClCT,UAAU,EAAEA;IAChB,CAAC,CAAC;EACN,CAAC,CAAC;EAEFU,QAAQ,CAAC,WAAW,EAAE,YAAW;IAC7BC,EAAE,CAAC,YAAY,EAAE,YAAW;MACxBV,IAAI,CAACW,MAAM,CAAC,CAAC;MACb,MAAMC,QAAQ,GAAGZ,IAAI,CAACa,GAAG,CAACC,IAAI,CAAC,aAAa,CAAC;MAE7CC,MAAM,CAACH,QAAQ,CAACI,MAAM,CAAC,CAACC,IAAI,CAAClB,UAAU,CAACmB,MAAM,CAACF,MAAM,CAAC;MAEtD,KAAK,IAAIG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGP,QAAQ,CAACI,MAAM,EAAEG,CAAC,EAAE,EAAE;QACtC,MAAMf,IAAI,GAAGL,UAAU,CAACmB,MAAM,CAACC,CAAC,CAAC,CAACC,GAAG,CAAC,MAAM,CAAC;QAC7CL,MAAM,CAACM,CAAC,CAACT,QAAQ,CAACO,CAAC,CAAC,CAAC,CAACG,IAAI,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC,CAACN,IAAI,CAACb,IAAI,CAAC;MACnD;IACJ,CAAC,CAAC;EACN,CAAC,CAAC;EAEFK,QAAQ,CAAC,gBAAgB,EAAE,YAAW;IAClCC,EAAE,CAAC,cAAc,EAAE,YAAW;MAC1B,IAAIc,aAAa,GAAG,KAAK;MAEzBxB,IAAI,CAACW,MAAM,CAAC,CAAC;MACbX,IAAI,CAACyB,EAAE,CAAC,UAAU,EAAEC,UAAU,IAAI;QAC9BX,MAAM,CAACW,UAAU,CAACN,GAAG,CAAC,MAAM,CAAC,CAAC,CAACH,IAAI,CAAC,aAAa,CAAC;QAClDO,aAAa,GAAG,IAAI;MACxB,CAAC,CAAC;MAEF,MAAMZ,QAAQ,GAAGZ,IAAI,CAACa,GAAG,CAACC,IAAI,CAAC,aAAa,CAAC;MAC7CO,CAAC,CAACT,QAAQ,CAAC,CAAC,CAAC,CAAC,CAACe,KAAK,CAAC,CAAC;MAEtBZ,MAAM,CAACS,aAAa,CAAC,CAACP,IAAI,CAAC,IAAI,CAAC;IACpC,CAAC,CAAC;EACN,CAAC,CAAC;AACN,CAAC,CAAC","ignoreList":[]}