{"version":3,"file":"datagridPageModel.js","names":["RB","DatagridPage","Page","extend","defaults","_","count","localSiteName","prototype","rowObjectType","initialize","selection","Backbone","Collection","model","listenTo","set","length","select","id","get","add","localSitePrefix","unselect","remove","clearSelection","reset"],"sources":["../../../../../../static/rb/js/pages/models/datagridPageModel.es6.js"],"sourcesContent":["/**\n * Models a generic datagrid.\n *\n * This will keep track of any selected objects, allowing subclasses to easily\n * perform operations on them.\n */\nRB.DatagridPage = RB.Page.extend({\n    defaults: _.defaults({\n        count: 0,\n        localSiteName: null,\n    }, RB.Page.prototype.defaults),\n\n    /* The type of object each row represents, for use in batch selection. */\n    rowObjectType: null,\n\n    /**\n     * Initialize the model.\n     */\n    initialize() {\n        this.selection = new Backbone.Collection([], {\n            model: this.rowObjectType,\n        });\n\n        this.listenTo(this.selection, 'add remove reset',\n                      () => this.set('count', this.selection.length));\n    },\n\n    /**\n     * Add a selected row to be used for any actions.\n     *\n     * Args:\n     *     id (string):\n     *         The ID of the selected row.\n     */\n    select(id) {\n        const localSiteName = this.get('localSiteName');\n\n        this.selection.add({\n            id: id,\n            localSitePrefix: localSiteName ? `s/${localSiteName}/` : null,\n        });\n    },\n\n    /**\n     * Remove a selected row.\n     *\n     * Args:\n     *     id (string):\n     *         The ID of the row to remove.\n     */\n    unselect(id) {\n        this.selection.remove(this.selection.get(id));\n    },\n\n    /**\n     * Clear the list of selected rows.\n     */\n    clearSelection() {\n        this.selection.reset();\n    },\n});\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACAA,EAAE,CAACC,YAAY,GAAGD,EAAE,CAACE,IAAI,CAACC,MAAM,CAAC;EAC7BC,QAAQ,EAAEC,CAAC,CAACD,QAAQ,CAAC;IACjBE,KAAK,EAAE,CAAC;IACRC,aAAa,EAAE;EACnB,CAAC,EAAEP,EAAE,CAACE,IAAI,CAACM,SAAS,CAACJ,QAAQ,CAAC;EAE9B;EACAK,aAAa,EAAE,IAAI;EAEnB;AACJ;AACA;EACIC,UAAUA,CAAA,EAAG;IACT,IAAI,CAACC,SAAS,GAAG,IAAIC,QAAQ,CAACC,UAAU,CAAC,EAAE,EAAE;MACzCC,KAAK,EAAE,IAAI,CAACL;IAChB,CAAC,CAAC;IAEF,IAAI,CAACM,QAAQ,CAAC,IAAI,CAACJ,SAAS,EAAE,kBAAkB,EAClC,MAAM,IAAI,CAACK,GAAG,CAAC,OAAO,EAAE,IAAI,CAACL,SAAS,CAACM,MAAM,CAAC,CAAC;EACjE,CAAC;EAED;AACJ;AACA;AACA;AACA;AACA;AACA;EACIC,MAAMA,CAACC,EAAE,EAAE;IACP,MAAMZ,aAAa,GAAG,IAAI,CAACa,GAAG,CAAC,eAAe,CAAC;IAE/C,IAAI,CAACT,SAAS,CAACU,GAAG,CAAC;MACfF,EAAE,EAAEA,EAAE;MACNG,eAAe,EAAEf,aAAa,GAAG,KAAKA,aAAa,GAAG,GAAG;IAC7D,CAAC,CAAC;EACN,CAAC;EAED;AACJ;AACA;AACA;AACA;AACA;AACA;EACIgB,QAAQA,CAACJ,EAAE,EAAE;IACT,IAAI,CAACR,SAAS,CAACa,MAAM,CAAC,IAAI,CAACb,SAAS,CAACS,GAAG,CAACD,EAAE,CAAC,CAAC;EACjD,CAAC;EAED;AACJ;AACA;EACIM,cAAcA,CAAA,EAAG;IACb,IAAI,CAACd,SAAS,CAACe,KAAK,CAAC,CAAC;EAC1B;AACJ,CAAC,CAAC","ignoreList":[]}