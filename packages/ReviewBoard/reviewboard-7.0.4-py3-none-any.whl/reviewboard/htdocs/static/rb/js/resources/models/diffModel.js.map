{"version":3,"file":"diffModel.js","names":["RB","Diff","BaseResource","extend","defaults","_","diff","parentDiff","basedir","prototype","rspNamespace","attrToJsonMap","serializedAttrs","concat","payloadFileKeys","listKey","getErrorString","rsp","err","code","APIErrors","REPO_FILE_NOT_FOUND","interpolate","gettext","file","revision","msg"],"sources":["../../../../../../static/rb/js/resources/models/diffModel.es6.js"],"sourcesContent":["/**\n * A diff to be uploaded to a server.\n *\n * For now, this is used only for uploading new diffs.\n *\n * It is expected that parentObject will be set to a ReviewRequest instance.\n */\nRB.Diff = RB.BaseResource.extend({\n    defaults() {\n        return _.defaults({\n            diff: null,\n            parentDiff: null,\n            basedir: null\n        }, RB.BaseResource.prototype.defaults());\n    },\n\n    rspNamespace: 'diff',\n\n    attrToJsonMap: {\n        diff: 'path',\n        parentDiff: 'parent_diff_path'\n    },\n\n    serializedAttrs: [\n        'basedir',\n        'diff',\n        'parentDiff'\n    ].concat(RB.BaseResource.prototype.serializedAttrs),\n\n    payloadFileKeys: ['path', 'parent_diff_path'],\n\n    listKey: 'diffs',\n\n    /**\n     * Return a user-facing error string for a given server response.\n     *\n     * Args:\n     *     rsp (object):\n     *         The response from the server.\n     *\n     * Returns:\n     *     string:\n     *     A string to show to the user.\n     */\n    getErrorString(rsp) {\n        if (rsp.err.code === RB.APIErrors.REPO_FILE_NOT_FOUND) {\n            return interpolate(\n                gettext('The file \"%(file)s\" (revision %(revision)s) was not found in the repository'),\n                {\n                    file: rsp.file,\n                    revision: rsp.revision\n                },\n                true);\n        }\n\n        return rsp.err.msg;\n    }\n});\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACAA,EAAE,CAACC,IAAI,GAAGD,EAAE,CAACE,YAAY,CAACC,MAAM,CAAC;EAC7BC,QAAQA,CAAA,EAAG;IACP,OAAOC,CAAC,CAACD,QAAQ,CAAC;MACdE,IAAI,EAAE,IAAI;MACVC,UAAU,EAAE,IAAI;MAChBC,OAAO,EAAE;IACb,CAAC,EAAER,EAAE,CAACE,YAAY,CAACO,SAAS,CAACL,QAAQ,CAAC,CAAC,CAAC;EAC5C,CAAC;EAEDM,YAAY,EAAE,MAAM;EAEpBC,aAAa,EAAE;IACXL,IAAI,EAAE,MAAM;IACZC,UAAU,EAAE;EAChB,CAAC;EAEDK,eAAe,EAAE,CACb,SAAS,EACT,MAAM,EACN,YAAY,CACf,CAACC,MAAM,CAACb,EAAE,CAACE,YAAY,CAACO,SAAS,CAACG,eAAe,CAAC;EAEnDE,eAAe,EAAE,CAAC,MAAM,EAAE,kBAAkB,CAAC;EAE7CC,OAAO,EAAE,OAAO;EAEhB;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACIC,cAAcA,CAACC,GAAG,EAAE;IAChB,IAAIA,GAAG,CAACC,GAAG,CAACC,IAAI,KAAKnB,EAAE,CAACoB,SAAS,CAACC,mBAAmB,EAAE;MACnD,OAAOC,WAAW,CAAAC,OAAA,mFAEd;QACIC,IAAI,EAAEP,GAAG,CAACO,IAAI;QACdC,QAAQ,EAAER,GAAG,CAACQ;MAClB,CAAC,EACD,IAAI,CAAC;IACb;IAEA,OAAOR,GAAG,CAACC,GAAG,CAACQ,GAAG;EACtB;AACJ,CAAC,CAAC","ignoreList":[]}