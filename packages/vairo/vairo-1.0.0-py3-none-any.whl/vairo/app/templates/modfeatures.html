<!DOCTYPE html>
<html lang="en">
    {% include 'header.html' %}
    <body>
        {% include 'nav.html' %}
        <div class="layout-main">
            <div class="container-fluid px-4">
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">INPUT</h2>
                    </div>
                    <div class="card-body">
                        <div class="form-group" style="padding-bottom: 20px;">
                            <label for="modfeatures-pkl">Select an AlphaFold2 input file</label>
                            <input type="file" accept=".pkl" class="form-control" id="modfeatures-pkl" title="Choose an AlphaFold2 input file (pkl format)">
                        </div>
                        <ul class="nav nav-tabs border">
                            <li class="nav-item">
                                <a class="nav-link active" data-bs-toggle="tab" href="#features-tab">Features</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-bs-toggle="tab" href="#remove-tab">Remove Sequences</a>
                            </li>
                        </ul>
                        <div class="tab-content border">
                            <div id="features-tab" class="tab-pane fade show active">
                                <div class="card-body">
                                    <form id="feature-form">
                                        <fieldset name="feature-field" class="row g-3">
                                            <div class="row row-margin">
                                                <div class="col-md-auto form-group">
                                                    <label for="modfeatures-range">Selection range</label>
                                                    <input type="text" class="form-control" id="modfeatures-range" placeholder="e.g. 1-10, 50-100">
                                                </div>
                                            </div>
                                            <div class="row row-margin">
                                                <div class="col-md-auto form-group align-items-center">
                                                    <label for="modfeatures-indentity-ini">Show identity from</label>
                                                    <input type="number" id="modfeatures-indentity-ini" class="form-control" value="0" min="0" max="100">
                                                </div>
                                                <div class="col-md-auto form-group align-items-center">
                                                    <label for="modfeatures-indentity-end">to</label>
                                                    <input type="number" id="modfeatures-indentity-end" class="form-control" value="100" min="0" max="100">
                                                </div>
                                            </div>
                                            <div class="row row-margin">
                                                <div class="col-md-auto form-group">
                                                    <input class="form-check-input" type="checkbox" id="modfeatures-uniprot">
                                                    <label class="form-check-label" for="modfeatures-uniprot">Run uniprot</label>
                                                </div>
                                            </div>
                                            <div class="row row-margin">
                                                <div class="col-md-auto form-group">
                                                    <button id="modfeatures-run-button" type="button" class="btn btn-primary" onclick="updateModFeatures()">Run</button>
                                                </div>
                                            </div>
                                        </fieldset>
                                    </form>
                                </div>
                            </div>
                            <div id="remove-tab" class="tab-pane fade">
                                <div class="card-body">
                                    <form id="remove-form">
                                        <fieldset name="feature-field" class="row g-3">
                                            <div class="row row-margin">
                                                <div class="form-group">
                                                    <label for="modfeatures-remove-list">Remove sequences IDS</label>
                                                    <input type="text" class="form-control" id="modfeatures-remove-list" aria-describedby="modfeatures-remove-list-desc" placeholder="e.g. 1, 2">
                                                    <small id="modfeatures-remove-list-desc">The entered sequence IDs will be removed</small>
                                                </div>
                                            </div>
                                            <div class="row row-margin">
                                                <div class="col-md-auto form-group align-items-center">
                                                    <label for="modfeatures-indentity-ini">Delete identity from</label>
                                                    <input type="number" id="modfeatures-identity-min" class="form-control" value="0" min="0" max="100">
                                                </div>
                                                <div class="col-md-auto form-group align-items-center">
                                                    <label for="modfeatures-indentity-end">to</label>
                                                    <input type="number" id="modfeatures-identity-max" class="form-control" value="100" min="0" max="100">
                                                </div>
                                            </div>
                                            <div class="row row-margin">
                                                <div class="col-md-auto form-group">
                                                    <button id="modfeatures-delete-button" type="button" class="btn btn-primary" onclick="deleteModFeatures()">Run</button>
                                                </div>
                                            </div>
                                        </fieldset>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <h2>RESULTS</h2>
                <div id="modfeatures-download-button"></div>
                <div id="modfeatures-general-info"></div>
                <div id="modfeatures-coverage-plot"></div>
                <div id="modfeatures-description-plot"></div>
                <div id="modfeatures-organism-plot"></div>

                <div class="accordion-item" id="accordion-table" hidden>
                    <div class="accordion-heading">
                        <div class="card">
                            <div class="card-header" id="modfeatures-msa">
                                <div id="modfeatures-msa-text" style="font-size: 26px" class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#modfeatures-msa-table" aria-expanded="false" aria-controls="modfeatures-msa-table">
                                    MSA
                                </div>
                            </div>
                            <div id="modfeatures-msa-table" class="accordion-collapse collapse show" aria-labelledby="modfeatures-msa" data-bs-parent="accordion-table">
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-header" id="modfeatures-templates">
                                <div id="modfeatures-templates-text" style="font-size: 26px" class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#modfeatures-templates-table" aria-expanded="false" aria-controls="modfeatures-templates-table">
                                    TEMPLATES
                                </div>
                            </div>
                            <div id="modfeatures-templates-table" class="accordion-collapse collapse show" aria-labelledby="modfeatures-templates" data-bs-parent="accordion-table">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% include 'footer.html' %}
    </body>
    <script src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/bootstrap.js') }}"></script>
    <script src="{{ url_for('static', filename='js/plotly.js') }}"></script>
    <script src="{{ url_for('static', filename='components/modfeatures.js') }}"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</html>