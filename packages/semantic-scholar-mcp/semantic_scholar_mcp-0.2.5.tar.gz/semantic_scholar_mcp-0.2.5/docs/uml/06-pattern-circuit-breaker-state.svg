<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="960px" preserveAspectRatio="none" style="width:924px;height:960px;background:#FFFFFF;" version="1.1" viewBox="0 0 924 960" width="924px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="Verdana" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="379" x="268" y="35.4209">Circuit Breaker State Machine</text><ellipse cx="409" cy="67.6094" fill="#FFFFFF" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;"/><path d="M171,154.6094 L647,154.6094 A12.5,12.5 0 0 1 659.5,167.1094 L659.5,180.9063 L158.5,180.9063 L158.5,167.1094 A12.5,12.5 0 0 1 171,154.6094 " fill="#FFFFFF" style="stroke:#FFFFFF;stroke-width:1.0;"/><path d="M158.5,180.9063 L659.5,180.9063 L659.5,310.6406 A12.5,12.5 0 0 1 647,323.1406 L171,323.1406 A12.5,12.5 0 0 1 158.5,310.6406 L158.5,180.9063 " fill="#FFFFFF" style="stroke:#FFFFFF;stroke-width:1.0;"/><rect fill="none" height="168.5313" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="501" x="158.5" y="154.6094"/><line style="stroke:#000000;stroke-width:1.0;" x1="158.5" x2="659.5" y1="180.9063" y2="180.9063"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="57" x="380.5" y="172.6045">CLOSED</text><ellipse cx="243" cy="201.9063" fill="#FFFFFF" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;"/><g id="CLOSED.Monitoring"><rect fill="#FFFFFF" height="64.2344" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="145" x="170.5" y="248.9063"/><line style="stroke:#000000;stroke-width:1.0;" x1="170.5" x2="315.5" y1="275.2031" y2="275.2031"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="73" x="206.5" y="266.9014">Monitoring</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="107" x="175.5" y="291.3418">failure_count = 0</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="125" x="175.5" y="305.3105">Monitor all requests</text></g><!--link *start*CLOSED to Monitoring--><g id="link_*start*CLOSED_Monitoring"><path d="M243,212.0463 C243,221.1263 243,229.5763 243,242.8163 " fill="none" id="*start*CLOSED-to-Monitoring" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="243,248.8163,247,239.8163,243,243.8163,239,239.8163,243,248.8163" style="stroke:#000000;stroke-width:1.0;"/></g><!--link Monitoring to Monitoring--><g id="link_Monitoring_Monitoring"><path d="M315.79,276.6763 C326.37,277.3463 333.5,278.7563 333.5,280.9063 C333.5,283.0563 332.358,284.087 321.778,284.757 " fill="none" id="Monitoring-to-Monitoring" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="315.79,285.1363,325.0248,288.5594,320.78,284.8202,324.5192,280.5754,315.79,285.1363" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="53" x="379" y="277.9731">Success</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="132" x="339.5" y="293.106">[Reset failure_count]</text></g><!--link Monitoring to Monitoring--><g id="link_Monitoring_Monitoring"><path d="M315.52,272.7563 C385.61,269.6763 477.5,272.3963 477.5,280.9063 C477.5,289.4163 391.6042,292.3997 321.5142,289.3197 " fill="none" id="Monitoring-to-Monitoring-1" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="315.52,289.0563,324.3357,293.4475,320.5152,289.2758,324.6869,285.4552,315.52,289.0563" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="42" x="543" y="277.9731">Failure</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="161" x="483.5" y="293.106">[Increment failure_count]</text></g><path d="M24.5,415.6094 L325.5,415.6094 A12.5,12.5 0 0 1 338,428.1094 L338,441.9063 L12,441.9063 L12,428.1094 A12.5,12.5 0 0 1 24.5,415.6094 " fill="#FFFFFF" style="stroke:#FFFFFF;stroke-width:1.0;"/><path d="M12,441.9063 L338,441.9063 L338,674.4063 A12.5,12.5 0 0 1 325.5,686.9063 L24.5,686.9063 A12.5,12.5 0 0 1 12,674.4063 L12,441.9063 " fill="#FFFFFF" style="stroke:#FFFFFF;stroke-width:1.0;"/><rect fill="none" height="271.2969" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="326" x="12" y="415.6094"/><line style="stroke:#000000;stroke-width:1.0;" x1="12" x2="338" y1="441.9063" y2="441.9063"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="39" x="155.5" y="433.6045">OPEN</text><ellipse cx="131" cy="462.9063" fill="#FFFFFF" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;"/><g id="OPEN.Rejecting"><rect fill="#FFFFFF" height="64.2344" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="214" x="24" y="509.9063"/><line style="stroke:#000000;stroke-width:1.0;" x1="24" x2="238" y1="536.2031" y2="536.2031"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="65" x="98.5" y="527.9014">Rejecting</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="127" x="29" y="552.3418">Fast fail all requests</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="194" x="29" y="566.3105">Return ServiceUnavailableError</text></g><g id="OPEN.CheckTimeout"><rect fill="#FFFFFF" height="50" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="121" x="70.5" y="626.9063"/><line style="stroke:#000000;stroke-width:1.0;" x1="70.5" x2="191.5" y1="653.2031" y2="653.2031"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="101" x="80.5" y="644.9014">CheckTimeout</text></g><!--link *start*OPEN to Rejecting--><g id="link_*start*OPEN_Rejecting"><path d="M131,473.0463 C131,482.1263 131,490.5762 131,503.8162 " fill="none" id="*start*OPEN-to-Rejecting" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="131,509.8162,135,500.8162,131,504.8162,127,500.8162,131,509.8162" style="stroke:#000000;stroke-width:1.0;"/></g><!--link Rejecting to CheckTimeout--><g id="link_Rejecting_CheckTimeout"><path d="M54.49,573.9862 C41.99,583.6763 35.53,595.4163 44,608.9063 C50.33,618.9963 54.6143,623.768 65.0543,629.658 " fill="none" id="Rejecting-to-CheckTimeout" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="70.28,632.6063,64.4069,624.7001,65.9252,630.1494,60.476,631.6677,70.28,632.6063" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="152" x="45" y="604.9731">Check recovery timeout</text></g><!--link CheckTimeout to Rejecting--><g id="link_CheckTimeout_Rejecting"><path d="M182.32,626.8963 C188.6,621.8363 194.14,615.8763 198,608.9063 C205.12,596.0463 203.3636,588.1408 192.3636,578.0108 " fill="none" id="CheckTimeout-to-Rejecting" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="187.95,573.9463,191.8607,582.9854,191.628,577.3333,197.2801,577.1006,187.95,573.9463" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="126" x="202" y="604.9731">timeout not expired</text></g><path d="M97,778.6094 L693,778.6094 A12.5,12.5 0 0 1 705.5,791.1094 L705.5,804.9063 L84.5,804.9063 L84.5,791.1094 A12.5,12.5 0 0 1 97,778.6094 " fill="#FFFFFF" style="stroke:#FFFFFF;stroke-width:1.0;"/><path d="M84.5,804.9063 L705.5,804.9063 L705.5,934.6406 A12.5,12.5 0 0 1 693,947.1406 L97,947.1406 A12.5,12.5 0 0 1 84.5,934.6406 L84.5,804.9063 " fill="#FFFFFF" style="stroke:#FFFFFF;stroke-width:1.0;"/><rect fill="none" height="168.5313" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="621" x="84.5" y="778.6094"/><line style="stroke:#000000;stroke-width:1.0;" x1="84.5" x2="705.5" y1="804.9063" y2="804.9063"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="80" x="355" y="796.6045">HALF_OPEN</text><ellipse cx="181.5" cy="825.9063" fill="#FFFFFF" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;"/><g id="HALF_OPEN.Testing"><rect fill="#FFFFFF" height="64.2344" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="170" x="96.5" y="872.9063"/><line style="stroke:#000000;stroke-width:1.0;" x1="96.5" x2="266.5" y1="899.2031" y2="899.2031"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="52" x="155.5" y="890.9014">Testing</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="150" x="101.5" y="915.3418">half_open_attempts = 0</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="136" x="101.5" y="929.3105">Allow limited requests</text></g><!--link *start*HALF_OPEN to Testing--><g id="link_*start*HALF_OPEN_Testing"><path d="M181.5,836.0463 C181.5,845.1263 181.5,853.5763 181.5,866.8163 " fill="none" id="*start*HALF_OPEN-to-Testing" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="181.5,872.8163,185.5,863.8163,181.5,867.8163,177.5,863.8163,181.5,872.8163" style="stroke:#000000;stroke-width:1.0;"/></g><!--link Testing to Testing--><g id="link_Testing_Testing"><path d="M266.75,900.8263 C277.45,901.5463 284.5,902.9063 284.5,904.9063 C284.5,906.9063 283.4365,907.8634 272.7365,908.5834 " fill="none" id="Testing-to-Testing" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="266.75,908.9863,275.9982,912.373,271.7387,908.6506,275.4611,904.391,266.75,908.9863" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="53" x="367.5" y="901.9731">Success</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="207" x="290.5" y="917.106">[Increment half_open_attempts]</text></g><!--link Testing to Testing--><g id="link_Testing_Testing"><path d="M266.74,897.1063 C363.47,893.4963 503.5,896.0963 503.5,904.9063 C503.5,913.7163 369.4658,916.54 272.7358,912.93 " fill="none" id="Testing-to-Testing-1" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="266.74,912.7063,275.5846,917.0391,271.7365,912.8927,275.8829,909.0447,266.74,912.7063" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="42" x="579" y="901.9731">Failure</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="181" x="509.5" y="917.106">[Back to OPEN immediately]</text></g><g id="elem_GMN27"><path d="M694.5,219.1094 L694.5,235.1094 L659.59,239.1094 L694.5,243.1094 L694.5,259.375 A0,0 0 0 0 694.5,259.375 L827.5,259.375 A0,0 0 0 0 827.5,259.375 L827.5,229.1094 L817.5,219.1094 L694.5,219.1094 A0,0 0 0 0 694.5,219.1094 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><path d="M817.5,219.1094 L817.5,229.1094 L827.5,229.1094 L817.5,219.1094 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="112" x="700.5" y="236.1763">Normal operation</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="84" x="700.5" y="251.3091">Track failures</text></g><g id="elem_GMN30"><path d="M373.5,531.1094 L373.5,547.1094 L338.26,551.1094 L373.5,555.1094 L373.5,571.375 A0,0 0 0 0 373.5,571.375 L572.5,571.375 A0,0 0 0 0 572.5,571.375 L572.5,541.1094 L562.5,531.1094 L373.5,531.1094 A0,0 0 0 0 373.5,531.1094 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><path d="M562.5,531.1094 L562.5,541.1094 L572.5,541.1094 L562.5,531.1094 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="178" x="379.5" y="548.1763">Protect downstream service</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="110" x="379.5" y="563.3091">No requests sent</text></g><g id="elem_GMN33"><path d="M741,843.1094 L741,859.1094 L705.67,863.1094 L741,867.1094 L741,883.375 A0,0 0 0 0 741,883.375 L917,883.375 A0,0 0 0 0 917,883.375 L917,853.1094 L907,843.1094 L741,843.1094 A0,0 0 0 0 741,843.1094 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><path d="M907,843.1094 L907,853.1094 L917,853.1094 L907,843.1094 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="155" x="747" y="860.1763">Test if service recovered</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="135" x="747" y="875.3091">Limited trial requests</text></g><!--link *start* to CLOSED--><g id="link_*start*_CLOSED"><path d="M409,77.7194 C409,92.6394 409,117.7294 409,148.5894 " fill="none" id="*start*-to-CLOSED" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="409,154.5894,413,145.5894,409,149.5894,405,145.5894,409,154.5894" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="72" x="410" y="120.6763">Initial State</text></g><!--link CLOSED to OPEN--><g id="link_CLOSED_OPEN"><path d="M345.68,323.9994 C324.43,352.1494 303.7741,379.5099 280.3441,410.5599 " fill="none" id="CLOSED-to-OPEN" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="276.73,415.3494,285.344,410.5746,279.7417,411.3582,278.9581,405.7559,276.73,415.3494" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="172" x="321" y="366.6763">failure_count &gt;= threshold</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="141" x="336.5" y="381.8091">[Set last_failure_time]</text></g><!--link OPEN to HALF_OPEN--><g id="link_OPEN_HALF_OPEN"><path d="M153.23,686.7494 C155.11,708.5694 160.63,730.0694 172,748.6094 C178.7,759.5394 182.537,765.2373 191.657,774.2273 " fill="none" id="OPEN-to-HALF_OPEN" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="195.93,778.4394,192.3286,769.2726,192.3692,774.9293,186.7125,774.9699,195.93,778.4394" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="163" x="180.5" y="729.6763">recovery_timeout expired</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="178" x="173" y="744.8091">[Reset half_open_attempts]</text></g><!--link HALF_OPEN to OPEN--><g id="link_HALF_OPEN_OPEN"><path d="M381.22,778.3494 C375.47,757.2194 367.37,735.2594 356,716.6094 C349.76,706.3694 346.412,701.0854 338.772,691.4254 " fill="none" id="HALF_OPEN-to-OPEN" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="335.05,686.7194,337.4956,696.2598,338.1516,690.6411,343.7703,691.2971,335.05,686.7194" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="67" x="388.5" y="729.6763">Any failure</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="100" x="372" y="744.8091">[Reset timeout]</text></g><!--link HALF_OPEN to CLOSED--><g id="link_HALF_OPEN_CLOSED"><path d="M519.46,778.4594 C547.93,752.6494 574.39,721.6594 590,686.6094 C639,576.5794 636.95,526.5294 590,415.6094 C575.33,380.9494 554.4062,353.9372 527.3462,327.8072 " fill="none" id="HALF_OPEN-to-CLOSED" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="523.03,323.6394,526.7257,332.7686,526.6268,327.1126,532.2828,327.0137,523.03,323.6394" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="166" x="626" y="548.1763">half_open_attempts &gt;= 3</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="124" x="647" y="563.3091">[Reset all counters]</text></g><!--SRC=[XLHTRzim37pNh-1U2nGOiBS1BP1sALOW_K3SFNM1eSfChLMMCefE5mpxxwDjsOwJ5dspvBiZUJpx4vTO8MoSjbufjkmGBYsPsZ9S4EeN9CXOCyADDgNrgDJZoGfEJy_XSd6NpR_1LxZsbgrs7KwfsCBJsxyAe2VS1046ilvPBiU3AAorTJLXRaBj6SxWyo4W7K0x1uI_QumS1JE5JMi8AwkDmHX_-iSbHkHfcTK7vAiEBEHhRqXCyaS2_vHAOpRik_lvxT4ivsV09M4iWoj4AfCkd8wSzoYs5Qvwprg5VSUM-0iDTuODpsrliMlcq91zq1Av9WyPqjOQ_E7rLWZwoU6SA53dteXlDrgYUNcGZaBD8j0UHTs4BT8Ek7iXh0bkqgUm4WnyOC0_6qjOD4QripNOxxF5LPwywhNpdfG8myPAxTPvsA3FDJDM6uw3MQFElcCFOaJdLtgIAiSYAM8ZPEPSU0LdAyjO72IiH-t9Jx8rnkEjRj_ZZ_6wqE8oXsxxjggmi3AVsxNv6gUSV79lZ2H9-pBuriIY3I2Iz30LITxF_AxFwa1BQn2FPNi8P9zBXh1ETMMMsq2LVEbIcJJRu9lngEa_AKM5lcXMZuSIJLL1tvFS6eOYlFh8yeEf87O1RTK7w-NMyxjYmq39Nh3hNgRFbAGEO94MojJyduQr3hB_0G00]--></g></svg>