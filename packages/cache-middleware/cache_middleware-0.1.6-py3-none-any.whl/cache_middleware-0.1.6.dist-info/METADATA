Metadata-Version: 2.4
Name: cache-middleware
Version: 0.1.6
Summary: Cache capabilities middleware for Starlette/Fastapi
Author-email: Linus <impalah@gmail.com>
License: MIT
License-File: LICENSE
Keywords: cache,fastapi,middleware,starlette
Classifier: Development Status :: 4 - Beta
Classifier: Framework :: FastAPI
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Classifier: Topic :: System :: Distributed Computing
Requires-Python: >=3.12
Requires-Dist: fastapi>=0.116.1
Requires-Dist: loguru>=0.7.3
Requires-Dist: svix-ksuid>=0.6.2
Requires-Dist: tenacity>=9.1.2
Requires-Dist: uvicorn>=0.35.0
Provides-Extra: all
Requires-Dist: aiomcache>=0.8.2; extra == 'all'
Requires-Dist: redis[hiredis]>=6.2.0; extra == 'all'
Provides-Extra: memcached
Requires-Dist: aiomcache>=0.8.2; extra == 'memcached'
Provides-Extra: redis
Requires-Dist: redis[hiredis]>=6.2.0; extra == 'redis'
Description-Content-Type: text/markdown

# Cache Middleware

A high-performance HTTP response caching solution for FastAPI and Starlette applications.

Cache Middleware provides transparent response caching with pluggable backends, following the Starlette middleware pattern for seamless integration.

[![PyPI Version](https://img.shields.io/pypi/v/cache-middleware.svg)](https://pypi.org/project/cache-middleware/)
[![Python Version](https://img.shields.io/pypi/pyversions/cache-middleware.svg)](https://pypi.org/project/cache-middleware/)
[![License](https://img.shields.io/pypi/l/cache-middleware.svg)](https://github.com/impalah/cache-middleware/blob/main/LICENSE)

## âœ¨ Features

- **ğŸ”„ Multiple Backends**: Redis, Memcached, in-memory, and custom backend support
- **ğŸ¯ Decorator-based**: Simple `@cache(timeout=300)` decorator for endpoint caching
- **ğŸ“‹ Cache-Control Support**: Respects HTTP Cache-Control headers
- **âš™ï¸ Flexible Configuration**: Environment-based or explicit configuration
- **ğŸš€ Production Ready**: Comprehensive error handling and logging
- **ğŸ”’ Type Safe**: Full type hints and mypy support
- **ğŸ“¦ Modular Installation**: Install only the backends you need

## ğŸ“– Documentation

Complete documentation is available at: **https://impalah.github.io/cache-middleware/**

## ğŸš€ Quick Start

### Installation

**Basic installation (memory backend only):**

```bash
pip install cache-middleware
```

**With Redis backend:**

```bash
pip install cache-middleware[redis]
```

**With Memcached backend:**

```bash
pip install cache-middleware[memcached]
```

**With all backends:**

```bash
pip install cache-middleware[all]
```

### Basic Usage

```python
from fastapi import FastAPI
from cache_middleware import CacheMiddleware, MemoryBackend, cache

app = FastAPI()

# Configure memory backend
memory_backend = MemoryBackend(max_size=1000)
app.add_middleware(CacheMiddleware, backend=memory_backend)

@app.get("/items")
@cache(timeout=300)  # Cache for 5 minutes
async def get_items():
    return {"items": [1, 2, 3, 4, 5]}
```

### Redis/ValKey Backend Example

```python
from cache_middleware import RedisBackend

# Configure Redis backend
redis_backend = RedisBackend(url="redis://localhost:6379")
app.add_middleware(CacheMiddleware, backend=redis_backend)

# Or configure ValKey backend (same API)
valkey_backend = RedisBackend(url="redis://localhost:6380")
app.add_middleware(CacheMiddleware, backend=valkey_backend)
```

## ğŸ”§ Backend Options

### Memory Backend

- âœ… No external dependencies
- âœ… Perfect for development and testing
- âœ… LRU eviction policy
- âœ… Configurable size limits

### Redis/ValKey Backend

- âœ… Production-ready distributed caching
- âœ… Persistence and high availability
- âœ… Clustering support
- âœ… High performance with hiredis
- âœ… **Redis & ValKey Compatible**: Works with both Redis and ValKey servers

### Memcached Backend

- âœ… Lightweight distributed caching
- âœ… Simple and fast
- âœ… Wide ecosystem support

### Custom Backends

- âœ… Implement your own backend
- âœ… Simple abstract interface
- âœ… Easy integration

## ğŸ“‹ Requirements

- **Python**: 3.12 or higher
- **FastAPI**: 0.116.1 or higher
- **Redis/ValKey**: Optional, required only for Redis/ValKey backend
- **Memcached**: Optional, required only for Memcached backend

## ğŸ”— Links

- **ğŸ“– Documentation**: https://impalah.github.io/cache-middleware/
- **ğŸ“¦ PyPI**: https://pypi.org/project/cache-middleware/
- **ğŸ™ GitHub**: https://github.com/impalah/cache-middleware
- **ğŸ› Issues**: https://github.com/impalah/cache-middleware/issues

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## ğŸ¤ Contributing

Contributions are welcome! Please read our [Contributing Guide](https://impalah.github.io/cache-middleware/) for details on our code of conduct and the process for submitting pull requests.

## ğŸ› ï¸ Development

### Version Management

This project uses automatic version synchronization across all files. When you bump the version:

```bash
# Development commands
make bump-version           # Bumps patch version (0.1.5 â†’ 0.1.6)
make bump-version PART=minor # Bumps minor version (0.1.5 â†’ 0.2.0)
make bump-version PART=major # Bumps major version (0.1.5 â†’ 1.0.0)

# Sync only (without bumping)
make sync-version           # Synchronizes current version across all files
```

The version is automatically updated in:

- `pyproject.toml` (source of truth)
- `src/cache_middleware/__init__.py` (`__version__`)
- `docs_source/conf.py` (Sphinx documentation)

### Build and Test

```bash
make build     # Build package (includes version bump)
make test      # Run tests
make lint      # Code linting
make format    # Code formatting
make docs      # Build documentation
```

For more details, see [`scripts/README.md`](scripts/README.md).

## ğŸš€ Getting Started

Ready to add caching to your FastAPI application? Check out our [User Guide](https://impalah.github.io/cache-middleware/user-guide.html) for detailed examples and best practices.

For advanced configuration and custom backends, see our [Configuration Guide](https://impalah.github.io/cache-middleware/middleware-configuration.html).

---

**Cache Middleware** - Making FastAPI applications faster, one cache at a time! ğŸš€
