[tool.poetry]
name          = "dtpyfw"
version       = "0.2.59"
description   = "DealerTower Python Framework: reusable buildingâ€‘blocks for DealerTower services"
authors       = ["Reza Shirazi <reza@dealertower.com>"]
readme = "README.md"
license       = "DealerTower Proprietary License"
include       = [
  "README.md",
  "LICENSE",
  { path = "docs" }
]
exclude       = [
  "AGENTS.md",
]

packages     = [
  { include = "dtpyfw" }
]

[tool.poetry.dependencies]
python = "~=3.11.9"
requests = "~=2.32.3"

python-jose       = { version = "~=3.4.0",    optional = true }
passlib           = { version = "~=1.7.4",    optional = true, extras = ["bcrypt"] }
fastapi           = { version = "~=0.115.12", optional = true }
gunicorn          = { version = "~=23.0.0",   optional = true }
uvicorn           = { version = "~=0.34.0",   optional = true }
python-multipart  = { version = "~=0.0.18",   optional = true }
boto3             = { version = "~=1.37.19",  optional = true }
botocore          = { version = "~=1.37.19",  optional = true }
SQLAlchemy        = { version = "~=2.0.39",   optional = true }
psycopg2          = { version = "~=2.9.10",   optional = true }
asyncpg           = { version = "~=0.30.0",   optional = true }
paramiko          = { version = "~=3.5.1",   optional = true }
python-dateutil   = { version = "~=2.9.0",   optional = true }
redis             = { version = "~=5.2.1",   optional = true }
celery            = { version = "~=5.4.0",   optional = true }
celery-redbeat    = { version = "~=2.3.2",   optional = true }
kafka-python      = { version = "~=2.2.10",   optional = true }

[tool.poetry.extras]
all = [
  "python-jose", "passlib",
  "fastapi", "gunicorn", "uvicorn", "python-multipart",
  "boto3", "botocore",
  "SQLAlchemy", "psycopg2", "asyncpg",
  "paramiko", "python-dateutil",
  "redis", "celery", "celery-redbeat",
  "kafka-python",
]
normal  = [
  "fastapi", "gunicorn", "uvicorn", "python-multipart",
  "SQLAlchemy", "psycopg2", "asyncpg",
  "redis", "celery", "celery-redbeat"
]
slim-api  = [
  "fastapi", "gunicorn", "uvicorn", "python-multipart",
  "SQLAlchemy", "psycopg2", "asyncpg"
]
slim-task  = [
  "SQLAlchemy", "psycopg2", "asyncpg",
  "redis", "celery", "celery-redbeat"
]
encrypt  = ["python-jose", "passlib"]
api      = ["fastapi", "gunicorn", "uvicorn", "python-multipart"]
bucket   = ["boto3", "botocore"]
db       = ["SQLAlchemy", "psycopg2", "asyncpg"]
ftp      = ["paramiko", "python-dateutil"]
redis    = ["redis"]
kafka    = ["kafka-python"]
worker   = ["redis", "celery", "celery-redbeat"]

[build-system]
requires    = ["poetry-core"]
build-backend = "poetry.core.masonry.api"
