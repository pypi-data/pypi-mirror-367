<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>hysteresis_correct &#8212; Stoner Pacakge API Documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/better.css?v=58ad701a" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=0b74bb8b" />
    <script src="../_static/documentation_options.js?v=29a6c3e3"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="all_size" href="Stoner.tools.all_size.html" />
    <link rel="prev" title="split_up_down" href="Stoner.Util.split_up_down.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  </head><body>
    <header id="pageheader"><h1><a href="../index.html ">
        Stoner Pacakge API Documentation
    </a></h1></header>
  <div class="related top">
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="Stoner.Util.split_up_down.html" title="Previous document">split_up_down</a>
        </li>
        <li>
          <a href="Stoner.tools.all_size.html" title="Next document">all_size</a>
          &rarr;
        </li>
    </ul>
  </nav>
  <nav id="breadcrumbs">
    <ul>
      <li><a href="../index.html">Stoner Package</a></li>
      <li>
        <a href="../Stoner.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Stoner</span></code> Package</a>
      </li> 
    </ul>
  </nav>
  </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="hysteresis-correct">
<h1>hysteresis_correct<a class="headerlink" href="#hysteresis-correct" title="Link to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="Stoner.Util.hysteresis_correct">
<span class="sig-prename descclassname"><span class="pre">Stoner.Util.</span></span><span class="sig-name descname"><span class="pre">hysteresis_correct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Stoner/Util.html#hysteresis_correct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Stoner.Util.hysteresis_correct" title="Link to this definition">¶</a></dt>
<dd><p>Perform corrections to a hysteresis loop.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>Data</em>) – The data containing the hysteresis loop. The <code class="xref py py-attr docutils literal notranslate"><span class="pre">DataFile.setas</span></code> attribute
should be set to give the H and M axes as x and y.</p>
</dd>
<dt class="field-even">Keyword Arguments<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>correct_background</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – Correct for a diamagnetic or paramagnetic background to the hystersis loop
also recentres the loop about zero moment (default True).</p></li>
<li><p><strong>correct_H</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – Finds the co-ercive fields and sets them to be equal and opposite. If the loop is sysmmetric
this will remove any offset in filed due to trapped flux (default True)</p></li>
<li><p><strong>saturated_fraction</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – The fraction of the horizontal (field) range where the moment can be assumed to be
fully saturated. If an integer is given it will use that many data points at the end of the loop.</p></li>
<li><p><strong>h_sat_method</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – <p>The method used to determine thwe saturation field. Options are -
-   “linear_intercept” (default): Fit a straight line to the central region of each branch of the loop</p>
<blockquote>
<div><p>and look at the
intercept with the relevant saturation moment.</p>
</div></blockquote>
<ul>
<li><p>”delta_M”: Look for a field where the moment has changed by <em>h_sat_fraction</em> times the error in M_s.</p></li>
<li><p>”susceptibility” - Calculate H_sat from where the susceptibility changes by 1% of the average
susceptibility</p></li>
</ul>
</p></li>
<li><p><strong>h_sat_fraction</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – The central fraction of the saturation moment that is used for calculating the saturation field. Defaults
to 0.5</p></li>
<li><p><strong>xcol</strong> (<em>column index</em>) – Column with the x data in it</p></li>
<li><p><strong>ycol</strong> (<em>column_index</em>) – Column with the y data in it</p></li>
<li><p><strong>setas</strong> (<em>string</em><em> or </em><em>iterable</em>) – Column assignments.</p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>(<a class="reference internal" href="Stoner.Data.html#Stoner.Data" title="Stoner.Data"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stoner.Data</span></code></a>) –     The original loop with the x and y columns replaced with corrected data and extra metadata added to give
the background suceptibility, offset in moment, co-ercive fields and saturation magnetisation.</p>
</dd>
</dl>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/StonerLogo2.png" alt="Logo of Stoner Package"/>
            </a></p>
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">hysteresis_correct</a><ul>
<li><a class="reference internal" href="#Stoner.Util.hysteresis_correct"><code class="docutils literal notranslate"><span class="pre">hysteresis_correct()</span></code></a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="Stoner.Util.split_up_down.html"
                          title="previous chapter">split_up_down</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="Stoner.tools.all_size.html"
                          title="next chapter">all_size</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/classes/Stoner.Util.hysteresis_correct.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<form class="search" action="../search.html" method="get">
  <input type="text" name="q"
   placeholder="type to search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="related bottom">
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="Stoner.Util.split_up_down.html" title="Previous document">split_up_down</a>
        </li>
        <li>
          <a href="Stoner.tools.all_size.html" title="Next document">all_size</a>
          &rarr;
        </li>
    </ul>
  </nav>
  <nav id="breadcrumbs">
    <ul>
      <li><a href="../index.html">Stoner Package</a></li>
      <li>
        <a href="../Stoner.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Stoner</span></code> Package</a>
      </li> 
    </ul>
  </nav>
  </div>
  <footer id="pagefooter">&copy; 2013-15, Gavin Burnell et al.Last updated on Apr 16, 2025.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a>
      8.2.3
        with the <a href="http://github.com/irskep/sphinx-better-theme">
          better</a> theme.

  </footer>

  
  </body>
</html>