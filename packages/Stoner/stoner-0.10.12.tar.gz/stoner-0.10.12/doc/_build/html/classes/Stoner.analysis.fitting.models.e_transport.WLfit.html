<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>WLfit &#8212; Stoner Pacakge API Documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/better.css?v=58ad701a" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=0b74bb8b" />
    <script src="../_static/documentation_options.js?v=29a6c3e3"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="BlochLaw" href="Stoner.analysis.fitting.models.magnetism.BlochLaw.html" />
    <link rel="prev" title="FluchsSondheimer" href="Stoner.analysis.fitting.models.e_transport.FluchsSondheimer.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  </head><body>
    <header id="pageheader"><h1><a href="../index.html ">
        Stoner Pacakge API Documentation
    </a></h1></header>
  <div class="related top">
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="Stoner.analysis.fitting.models.e_transport.FluchsSondheimer.html" title="Previous document">FluchsSondheimer</a>
        </li>
        <li>
          <a href="Stoner.analysis.fitting.models.magnetism.BlochLaw.html" title="Next document">BlochLaw</a>
          &rarr;
        </li>
    </ul>
  </nav>
  <nav id="breadcrumbs">
    <ul>
      <li><a href="../index.html">Stoner Package</a></li>
      <li>
        <a href="../Stoner.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Stoner</span></code> Package</a>
      </li>
      <li>
        <a href="../analysis-fitting.html">Additional Fitting models</a>
      </li> 
    </ul>
  </nav>
  </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="wlfit">
<h1>WLfit<a class="headerlink" href="#wlfit" title="Link to this heading">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="Stoner.analysis.fitting.models.e_transport.WLfit">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">Stoner.analysis.fitting.models.e_transport.</span></span><span class="sig-name descname"><span class="pre">WLfit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Stoner/analysis/fitting/models/e_transport.html#WLfit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Stoner.analysis.fitting.models.e_transport.WLfit" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://lmfit.github.io/lmfit-py/model.html#lmfit.model.Model" title="(in lmfit v1.3.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a></p>
<p>Weak localisation model class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>B</strong> (<em>array</em>) – mag. field</p></li>
<li><p><strong>s0</strong> (<em>float</em>) – zero field conductance</p></li>
<li><p><strong>DS</strong> (<em>float</em>) – scaling parameter</p></li>
<li><p><strong>B1</strong> (<em>float</em>) – elastic characteristic field (B1)</p></li>
<li><p><strong>B2</strong> (<em>float</em>) – inelastic characteristic field (B2)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Conductance vs Field for a weak localisation system</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>2D WL model as per Wu et al  PRL 98, 136801 (2007), Porter et al PRB 86, 064423 (2012)</p>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;Test Weak-localisation fitting.&quot;&quot;&quot;</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">copy</span><span class="w"> </span><span class="kn">import</span> <span class="n">copy</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">linspace</span><span class="p">,</span> <span class="n">ones_like</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">numpy.random</span><span class="w"> </span><span class="kn">import</span> <span class="n">normal</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">Stoner</span><span class="w"> </span><span class="kn">import</span> <span class="n">Data</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">Stoner.analysis.fitting.models.e_transport</span><span class="w"> </span><span class="kn">import</span> <span class="n">WLfit</span><span class="p">,</span> <span class="n">wlfit</span>

<span class="n">B</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">201</span><span class="p">)</span>
<span class="n">params</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1e-3</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">1.4</span><span class="p">]</span>
<span class="n">G</span> <span class="o">=</span> <span class="n">wlfit</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="o">*</span><span class="n">params</span><span class="p">)</span> <span class="o">+</span> <span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">B</span><span class="p">),</span> <span class="n">scale</span><span class="o">=</span><span class="mf">5e-7</span><span class="p">)</span>
<span class="n">dG</span> <span class="o">=</span> <span class="n">ones_like</span><span class="p">(</span><span class="n">B</span><span class="p">)</span> <span class="o">*</span> <span class="mf">5e-7</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">Data</span><span class="p">(</span>
    <span class="n">B</span><span class="p">,</span>
    <span class="n">G</span><span class="p">,</span>
    <span class="n">dG</span><span class="p">,</span>
    <span class="n">setas</span><span class="o">=</span><span class="s2">&quot;xye&quot;</span><span class="p">,</span>
    <span class="n">column_headers</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Field $</span><span class="se">\\</span><span class="s2">mu_0H (T)$&quot;</span><span class="p">,</span> <span class="s2">&quot;Conductance&quot;</span><span class="p">,</span> <span class="s2">&quot;dConductance&quot;</span><span class="p">],</span>
<span class="p">)</span>

<span class="n">d</span><span class="o">.</span><span class="n">curve_fit</span><span class="p">(</span><span class="n">wlfit</span><span class="p">,</span> <span class="n">p0</span><span class="o">=</span><span class="n">copy</span><span class="p">(</span><span class="n">params</span><span class="p">),</span> <span class="n">result</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;curve_fit&quot;</span><span class="p">)</span>

<span class="n">d</span><span class="o">.</span><span class="n">setas</span> <span class="o">=</span> <span class="s2">&quot;xye&quot;</span>
<span class="n">d</span><span class="o">.</span><span class="n">lmfit</span><span class="p">(</span><span class="n">WLfit</span><span class="p">,</span> <span class="n">result</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;lmfit&quot;</span><span class="p">)</span>

<span class="n">d</span><span class="o">.</span><span class="n">setas</span> <span class="o">=</span> <span class="s2">&quot;xyeyy&quot;</span>
<span class="n">d</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">fmt</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;r.&quot;</span><span class="p">,</span> <span class="s2">&quot;b-&quot;</span><span class="p">,</span> <span class="s2">&quot;g-&quot;</span><span class="p">])</span>

<span class="n">d</span><span class="o">.</span><span class="n">annotate_fit</span><span class="p">(</span>
    <span class="n">wlfit</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span> <span class="n">fontdict</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="s2">&quot;x-small&quot;</span><span class="p">,</span> <span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;blue&quot;</span><span class="p">}</span>
<span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">annotate_fit</span><span class="p">(</span>
    <span class="n">WLfit</span><span class="p">,</span>
    <span class="n">x</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="n">fontdict</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="s2">&quot;x-small&quot;</span><span class="p">,</span> <span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;green&quot;</span><span class="p">},</span>
    <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;WLfit&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Weak Localisation Fit&quot;</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../samples/Fitting/wlfit.png">png</a>, <a class="reference external" href="../samples/Fitting/wlfit.hires.png">hires.png</a>, <a class="reference external" href="../samples/Fitting/wlfit.pdf">pdf</a>)</p>
<figure class="align-default">
<img alt="../_images/wlfit.png" src="../_images/wlfit.png" />
</figure>
<p class="rubric">Attributes Summary</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.components" title="Stoner.analysis.fitting.models.e_transport.WLfit.components"><code class="xref py py-obj docutils literal notranslate"><span class="pre">components</span></code></a></p></td>
<td><p>Return components for composite model.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.display_names" title="Stoner.analysis.fitting.models.e_transport.WLfit.display_names"><code class="xref py py-obj docutils literal notranslate"><span class="pre">display_names</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.name" title="Stoner.analysis.fitting.models.e_transport.WLfit.name"><code class="xref py py-obj docutils literal notranslate"><span class="pre">name</span></code></a></p></td>
<td><p>Return Model name.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.param_names" title="Stoner.analysis.fitting.models.e_transport.WLfit.param_names"><code class="xref py py-obj docutils literal notranslate"><span class="pre">param_names</span></code></a></p></td>
<td><p>Return the parameter names of the Model.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.prefix" title="Stoner.analysis.fitting.models.e_transport.WLfit.prefix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">prefix</span></code></a></p></td>
<td><p>Return Model prefix.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.valid_forms" title="Stoner.analysis.fitting.models.e_transport.WLfit.valid_forms"><code class="xref py py-obj docutils literal notranslate"><span class="pre">valid_forms</span></code></a></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods Summary</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.copy" title="Stoner.analysis.fitting.models.e_transport.WLfit.copy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">copy</span></code></a>(**kwargs)</p></td>
<td><p>DOES NOT WORK.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.dump" title="Stoner.analysis.fitting.models.e_transport.WLfit.dump"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dump</span></code></a>(fp, **kws)</p></td>
<td><p>Dump serialization of Model to a file.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.dumps" title="Stoner.analysis.fitting.models.e_transport.WLfit.dumps"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dumps</span></code></a>(**kws)</p></td>
<td><p>Dump serialization of Model as a JSON string.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.eval" title="Stoner.analysis.fitting.models.e_transport.WLfit.eval"><code class="xref py py-obj docutils literal notranslate"><span class="pre">eval</span></code></a>([params])</p></td>
<td><p>Evaluate the model with supplied parameters and keyword arguments.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.eval_components" title="Stoner.analysis.fitting.models.e_transport.WLfit.eval_components"><code class="xref py py-obj docutils literal notranslate"><span class="pre">eval_components</span></code></a>([params])</p></td>
<td><p>Evaluate the model with the supplied parameters.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.fit" title="Stoner.analysis.fitting.models.e_transport.WLfit.fit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fit</span></code></a>(data[, params, weights, method, ...])</p></td>
<td><p>Fit the model to the data using the supplied Parameters.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.guess" title="Stoner.analysis.fitting.models.e_transport.WLfit.guess"><code class="xref py py-obj docutils literal notranslate"><span class="pre">guess</span></code></a>(data[, x])</p></td>
<td><p>Guess parameters for weak localisation fit.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.load" title="Stoner.analysis.fitting.models.e_transport.WLfit.load"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load</span></code></a>(fp[, funcdefs])</p></td>
<td><p>Load JSON representation of Model from a file-like object.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.loads" title="Stoner.analysis.fitting.models.e_transport.WLfit.loads"><code class="xref py py-obj docutils literal notranslate"><span class="pre">loads</span></code></a>(s[, funcdefs])</p></td>
<td><p>Load Model from a JSON string.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.make_funcargs" title="Stoner.analysis.fitting.models.e_transport.WLfit.make_funcargs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_funcargs</span></code></a>([params, kwargs, strip])</p></td>
<td><p>Convert parameter values and keywords to function arguments.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.make_params" title="Stoner.analysis.fitting.models.e_transport.WLfit.make_params"><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_params</span></code></a>([verbose])</p></td>
<td><p>Create a Parameters object for a Model.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.post_fit" title="Stoner.analysis.fitting.models.e_transport.WLfit.post_fit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">post_fit</span></code></a>(fitresult)</p></td>
<td><p>function that is called just after fit, can be overloaded by subclasses to add non-fitting 'calculated parameters'</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.print_param_hints" title="Stoner.analysis.fitting.models.e_transport.WLfit.print_param_hints"><code class="xref py py-obj docutils literal notranslate"><span class="pre">print_param_hints</span></code></a>([colwidth])</p></td>
<td><p>Print a nicely aligned text-table of parameter hints.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.set_param_hint" title="Stoner.analysis.fitting.models.e_transport.WLfit.set_param_hint"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_param_hint</span></code></a>(name, **kwargs)</p></td>
<td><p>Set <em>hints</em> to use when creating parameters with <cite>make_params()</cite>.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes Documentation</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="Stoner.analysis.fitting.models.e_transport.WLfit.components">
<span class="sig-name descname"><span class="pre">components</span></span><a class="headerlink" href="#Stoner.analysis.fitting.models.e_transport.WLfit.components" title="Link to this definition">¶</a></dt>
<dd><p>Return components for composite model.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Stoner.analysis.fitting.models.e_transport.WLfit.display_names">
<span class="sig-name descname"><span class="pre">display_names</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['\\sigma_0',</span> <span class="pre">'D_S',</span> <span class="pre">'B_1',</span> <span class="pre">'B_2']</span></em><a class="headerlink" href="#Stoner.analysis.fitting.models.e_transport.WLfit.display_names" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Stoner.analysis.fitting.models.e_transport.WLfit.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#Stoner.analysis.fitting.models.e_transport.WLfit.name" title="Link to this definition">¶</a></dt>
<dd><p>Return Model name.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Stoner.analysis.fitting.models.e_transport.WLfit.param_names">
<span class="sig-name descname"><span class="pre">param_names</span></span><a class="headerlink" href="#Stoner.analysis.fitting.models.e_transport.WLfit.param_names" title="Link to this definition">¶</a></dt>
<dd><p>Return the parameter names of the Model.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Stoner.analysis.fitting.models.e_transport.WLfit.prefix">
<span class="sig-name descname"><span class="pre">prefix</span></span><a class="headerlink" href="#Stoner.analysis.fitting.models.e_transport.WLfit.prefix" title="Link to this definition">¶</a></dt>
<dd><p>Return Model prefix.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Stoner.analysis.fitting.models.e_transport.WLfit.valid_forms">
<span class="sig-name descname"><span class="pre">valid_forms</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#Stoner.analysis.fitting.models.e_transport.WLfit.valid_forms" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p class="rubric">Methods Documentation</p>
<dl class="py method">
<dt class="sig sig-object py" id="Stoner.analysis.fitting.models.e_transport.WLfit.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Stoner.analysis.fitting.models.e_transport.WLfit.copy" title="Link to this definition">¶</a></dt>
<dd><p>DOES NOT WORK.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Stoner.analysis.fitting.models.e_transport.WLfit.dump">
<span class="sig-name descname"><span class="pre">dump</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kws</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Stoner.analysis.fitting.models.e_transport.WLfit.dump" title="Link to this definition">¶</a></dt>
<dd><p>Dump serialization of Model to a file.</p>
<section id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>fp<span class="classifier">file-like object</span></dt><dd><p>An open and <cite>.write()</cite>-supporting file-like object.</p>
</dd>
<dt><a href="#id1"><span class="problematic" id="id2">**</span></a>kws<span class="classifier">optional</span></dt><dd><p>Keyword arguments that are passed to <cite>json.dumps</cite>.</p>
</dd>
</dl>
</section>
<section id="returns">
<h2>Returns<a class="headerlink" href="#returns" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>int</dt><dd><p>Return value from <cite>fp.write()</cite>: the number of characters
written.</p>
</dd>
</dl>
</section>
<section id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Link to this heading">¶</a></h2>
<p>dumps, load, json.dump</p>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Stoner.analysis.fitting.models.e_transport.WLfit.dumps">
<span class="sig-name descname"><span class="pre">dumps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kws</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Stoner.analysis.fitting.models.e_transport.WLfit.dumps" title="Link to this definition">¶</a></dt>
<dd><p>Dump serialization of Model as a JSON string.</p>
<section id="id3">
<h2>Parameters<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt><a href="#id4"><span class="problematic" id="id5">**</span></a>kws<span class="classifier">optional</span></dt><dd><p>Keyword arguments that are passed to <cite>json.dumps</cite>.</p>
</dd>
</dl>
</section>
<section id="id6">
<h2>Returns<a class="headerlink" href="#id6" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>str</dt><dd><p>JSON string representation of Model.</p>
</dd>
</dl>
</section>
<section id="id7">
<h2>See Also<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h2>
<p>loads, json.dumps</p>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Stoner.analysis.fitting.models.e_transport.WLfit.eval">
<span class="sig-name descname"><span class="pre">eval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Stoner.analysis.fitting.models.e_transport.WLfit.eval" title="Link to this definition">¶</a></dt>
<dd><p>Evaluate the model with supplied parameters and keyword arguments.</p>
<section id="id8">
<h2>Parameters<a class="headerlink" href="#id8" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>params<span class="classifier">Parameters, optional</span></dt><dd><p>Parameters to use in Model.</p>
</dd>
<dt><a href="#id9"><span class="problematic" id="id10">**</span></a>kwargs<span class="classifier">optional</span></dt><dd><p>Additional keyword arguments to pass to model function.</p>
</dd>
</dl>
</section>
<section id="id11">
<h2>Returns<a class="headerlink" href="#id11" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>numpy.ndarray, float, int or complex</dt><dd><p>Value of model given the parameters and other arguments.</p>
</dd>
</dl>
</section>
<section id="notes">
<h2>Notes<a class="headerlink" href="#notes" title="Link to this heading">¶</a></h2>
<p>1. if <cite>params</cite> is None, the values for all parameters are expected
to be provided as keyword arguments.</p>
<p>2. If <cite>params</cite> is given, and a keyword argument for a parameter value
is also given, the keyword argument will be used in place of the value
in the value in <cite>params</cite>.</p>
<p>3. all non-parameter arguments for the model function, <strong>including
all the independent variables</strong> will need to be passed in using
keyword arguments.</p>
<p>4. The return types are generally <cite>numpy.ndarray</cite>, but may depends on
the model function and input independent variables. That is, return
values may be Python <cite>float</cite>, <cite>int</cite>, or  <cite>complex</cite> values.</p>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Stoner.analysis.fitting.models.e_transport.WLfit.eval_components">
<span class="sig-name descname"><span class="pre">eval_components</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Stoner.analysis.fitting.models.e_transport.WLfit.eval_components" title="Link to this definition">¶</a></dt>
<dd><p>Evaluate the model with the supplied parameters.</p>
<section id="id12">
<h2>Parameters<a class="headerlink" href="#id12" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>params<span class="classifier">Parameters, optional</span></dt><dd><p>Parameters to use in Model.</p>
</dd>
<dt><a href="#id13"><span class="problematic" id="id14">**</span></a>kwargs<span class="classifier">optional</span></dt><dd><p>Additional keyword arguments to pass to model function.</p>
</dd>
</dl>
</section>
<section id="id15">
<h2>Returns<a class="headerlink" href="#id15" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>dict</dt><dd><p>Keys are prefixes for component model, values are value of
each component.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Stoner.analysis.fitting.models.e_transport.WLfit.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'leastsq'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iter_cb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale_covar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fit_kws</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nan_policy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calc_covar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_nfev</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coerce_farray</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Stoner.analysis.fitting.models.e_transport.WLfit.fit" title="Link to this definition">¶</a></dt>
<dd><p>Fit the model to the data using the supplied Parameters.</p>
<section id="id16">
<h2>Parameters<a class="headerlink" href="#id16" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>data<span class="classifier">array_like</span></dt><dd><p>Array of data to be fit.</p>
</dd>
<dt>params<span class="classifier">Parameters, optional</span></dt><dd><p>Parameters to use in fit (default is None).</p>
</dd>
<dt>weights<span class="classifier">array_like, optional</span></dt><dd><p>Weights to use for the calculation of the fit residual [i.e.,
<cite>weights*(data-fit)</cite>]. Default is None; must have the same size as
<cite>data</cite>.</p>
</dd>
<dt>method<span class="classifier">str, optional</span></dt><dd><p>Name of fitting method to use (default is <cite>‘leastsq’</cite>).</p>
</dd>
<dt>iter_cb<span class="classifier">callable, optional</span></dt><dd><p>Callback function to call at each iteration (default is None).</p>
</dd>
<dt>scale_covar<span class="classifier">bool, optional</span></dt><dd><p>Whether to automatically scale the covariance matrix when
calculating uncertainties (default is True).</p>
</dd>
<dt>verbose<span class="classifier">bool, optional</span></dt><dd><p>Whether to print a message when a new parameter is added
because of a hint (default is True).</p>
</dd>
<dt>fit_kws<span class="classifier">dict, optional</span></dt><dd><p>Options to pass to the minimizer being used.</p>
</dd>
<dt>nan_policy<span class="classifier">{‘raise’, ‘propagate’, ‘omit’}, optional</span></dt><dd><p>What to do when encountering NaNs when fitting Model.</p>
</dd>
<dt>calc_covar<span class="classifier">bool, optional</span></dt><dd><p>Whether to calculate the covariance matrix (default is True)
for solvers other than <cite>‘leastsq’</cite> and <cite>‘least_squares’</cite>.
Requires the <code class="docutils literal notranslate"><span class="pre">numdifftools</span></code> package to be installed.</p>
</dd>
<dt>max_nfev<span class="classifier">int or None, optional</span></dt><dd><p>Maximum number of function evaluations (default is None). The
default value depends on the fitting method.</p>
</dd>
<dt>coerce_farray<span class="classifier">bool, optional</span></dt><dd><p>Whether to coerce data and independent data to be ndarrays
with dtype of float64 (or complex128).  If set to False, data
and independent data are not coerced at all, but the output of
the model function will be. (default is True)</p>
</dd>
<dt><a href="#id17"><span class="problematic" id="id18">**</span></a>kwargs<span class="classifier">optional</span></dt><dd><p>Arguments to pass to the model function, possibly overriding
parameters.</p>
</dd>
</dl>
</section>
<section id="id19">
<h2>Returns<a class="headerlink" href="#id19" title="Link to this heading">¶</a></h2>
<p>ModelResult</p>
</section>
<section id="id20">
<h2>Notes<a class="headerlink" href="#id20" title="Link to this heading">¶</a></h2>
<p>1. if <cite>params</cite> is None, the values for all parameters are expected
to be provided as keyword arguments. Mixing <cite>params</cite> and
keyword arguments is deprecated (see <cite>Model.eval</cite>).</p>
<p>2. all non-parameter arguments for the model function, <strong>including
all the independent variables</strong> will need to be passed in using
keyword arguments.</p>
<p>3. Parameters are copied on input, so that the original Parameter objects
are unchanged, and the updated values are in the returned <cite>ModelResult</cite>.</p>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Link to this heading">¶</a></h2>
<p>Take <code class="docutils literal notranslate"><span class="pre">t</span></code> to be the independent variable and data to be the curve
we will fit. Use keyword arguments to set initial guesses:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">my_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">tau</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="n">t</span><span class="p">)</span>
</pre></div>
</div>
<p>Or, for more control, pass a Parameters object.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">my_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="n">t</span><span class="p">)</span>
</pre></div>
</div>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Stoner.analysis.fitting.models.e_transport.WLfit.guess">
<span class="sig-name descname"><span class="pre">guess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Stoner/analysis/fitting/models/e_transport.html#WLfit.guess"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Stoner.analysis.fitting.models.e_transport.WLfit.guess" title="Link to this definition">¶</a></dt>
<dd><p>Guess parameters for weak localisation fit.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Stoner.analysis.fitting.models.e_transport.WLfit.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funcdefs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kws</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Stoner.analysis.fitting.models.e_transport.WLfit.load" title="Link to this definition">¶</a></dt>
<dd><p>Load JSON representation of Model from a file-like object.</p>
<section id="id21">
<h2>Parameters<a class="headerlink" href="#id21" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>fp<span class="classifier">file-like object</span></dt><dd><p>An open and <cite>.read()</cite>-supporting file-like object.</p>
</dd>
<dt>funcdefs<span class="classifier">dict, optional</span></dt><dd><p>Dictionary of function definitions to use to construct Model.</p>
</dd>
<dt><a href="#id22"><span class="problematic" id="id23">**</span></a>kws<span class="classifier">optional</span></dt><dd><p>Keyword arguments that are passed to <cite>loads</cite>.</p>
</dd>
</dl>
</section>
<section id="id24">
<h2>Returns<a class="headerlink" href="#id24" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>Model</dt><dd><p>Model created from <cite>fp</cite>.</p>
</dd>
</dl>
</section>
<section id="id25">
<h2>See Also<a class="headerlink" href="#id25" title="Link to this heading">¶</a></h2>
<p>dump, loads, json.load</p>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Stoner.analysis.fitting.models.e_transport.WLfit.loads">
<span class="sig-name descname"><span class="pre">loads</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funcdefs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kws</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Stoner.analysis.fitting.models.e_transport.WLfit.loads" title="Link to this definition">¶</a></dt>
<dd><p>Load Model from a JSON string.</p>
<section id="id26">
<h2>Parameters<a class="headerlink" href="#id26" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>s<span class="classifier">str</span></dt><dd><p>Input JSON string containing serialized Model.</p>
</dd>
<dt>funcdefs<span class="classifier">dict, optional</span></dt><dd><p>Dictionary of function definitions to use to construct Model.</p>
</dd>
<dt><a href="#id27"><span class="problematic" id="id28">**</span></a>kws<span class="classifier">optional</span></dt><dd><p>Keyword arguments that are passed to <cite>json.loads</cite>.</p>
</dd>
</dl>
</section>
<section id="id29">
<h2>Returns<a class="headerlink" href="#id29" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>Model</dt><dd><p>Model created from JSON string.</p>
</dd>
</dl>
</section>
<section id="id30">
<h2>See Also<a class="headerlink" href="#id30" title="Link to this heading">¶</a></h2>
<p>dump, dumps, load, json.loads</p>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Stoner.analysis.fitting.models.e_transport.WLfit.make_funcargs">
<span class="sig-name descname"><span class="pre">make_funcargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Stoner.analysis.fitting.models.e_transport.WLfit.make_funcargs" title="Link to this definition">¶</a></dt>
<dd><p>Convert parameter values and keywords to function arguments.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Stoner.analysis.fitting.models.e_transport.WLfit.make_params">
<span class="sig-name descname"><span class="pre">make_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Stoner.analysis.fitting.models.e_transport.WLfit.make_params" title="Link to this definition">¶</a></dt>
<dd><p>Create a Parameters object for a Model.</p>
<section id="id31">
<h2>Parameters<a class="headerlink" href="#id31" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>verbose<span class="classifier">bool, optional</span></dt><dd><p>Whether to print out messages (default is False).</p>
</dd>
<dt><a href="#id32"><span class="problematic" id="id33">**</span></a>kwargs<span class="classifier">optional</span></dt><dd><dl class="simple">
<dt>Parameter names and initial values or dictionaries of</dt><dd><p>values and attributes.</p>
</dd>
</dl>
</dd>
</dl>
</section>
<section id="id34">
<h2>Returns<a class="headerlink" href="#id34" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>params<span class="classifier">Parameters</span></dt><dd><p>Parameters object for the Model.</p>
</dd>
</dl>
</section>
<section id="id35">
<h2>Notes<a class="headerlink" href="#id35" title="Link to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>Parameter values can be numbers (floats or ints) to set the parameter
value, or dictionaries with any of the following keywords:
<code class="docutils literal notranslate"><span class="pre">value</span></code>, <code class="docutils literal notranslate"><span class="pre">vary</span></code>, <code class="docutils literal notranslate"><span class="pre">min</span></code>, <code class="docutils literal notranslate"><span class="pre">max</span></code>, <code class="docutils literal notranslate"><span class="pre">expr</span></code>, <code class="docutils literal notranslate"><span class="pre">brute_step</span></code>,
<code class="docutils literal notranslate"><span class="pre">is_init_value</span></code> to set those parameter attributes.</p></li>
<li><p>This method will also apply any default values or parameter hints
that may have been defined for the model.</p></li>
</ol>
</section>
<section id="example">
<h2>Example<a class="headerlink" href="#example" title="Link to this heading">¶</a></h2>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gmodel</span> <span class="o">=</span> <span class="n">GaussianModel</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s1">&#39;peak_&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">LinearModel</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s1">&#39;bkg_&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gmodel</span><span class="o">.</span><span class="n">make_params</span><span class="p">(</span><span class="n">peak_center</span><span class="o">=</span><span class="mi">3200</span><span class="p">,</span> <span class="n">bkg_offset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">bkg_slope</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<span class="gp">... </span>                   <span class="n">peak_amplitdue</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="nb">min</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span>
<span class="gp">... </span>                   <span class="n">peak_sigma</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="nb">min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">1000</span><span class="p">))</span>
</pre></div>
</div>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Stoner.analysis.fitting.models.e_transport.WLfit.post_fit">
<span class="sig-name descname"><span class="pre">post_fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fitresult</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Stoner.analysis.fitting.models.e_transport.WLfit.post_fit" title="Link to this definition">¶</a></dt>
<dd><p>function that is called just after fit, can be overloaded by
subclasses to add non-fitting ‘calculated parameters’</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Stoner.analysis.fitting.models.e_transport.WLfit.print_param_hints">
<span class="sig-name descname"><span class="pre">print_param_hints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">colwidth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Stoner.analysis.fitting.models.e_transport.WLfit.print_param_hints" title="Link to this definition">¶</a></dt>
<dd><p>Print a nicely aligned text-table of parameter hints.</p>
<section id="id36">
<h2>Parameters<a class="headerlink" href="#id36" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>colwidth<span class="classifier">int, optional</span></dt><dd><p>Width of each column, except for first and last columns.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Stoner.analysis.fitting.models.e_transport.WLfit.set_param_hint">
<span class="sig-name descname"><span class="pre">set_param_hint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Stoner.analysis.fitting.models.e_transport.WLfit.set_param_hint" title="Link to this definition">¶</a></dt>
<dd><p>Set <em>hints</em> to use when creating parameters with <cite>make_params()</cite>.</p>
<p>The given hint can include optional bounds and constraints
<code class="docutils literal notranslate"><span class="pre">(value,</span> <span class="pre">vary,</span> <span class="pre">min,</span> <span class="pre">max,</span> <span class="pre">expr)</span></code>, which will be used by
<cite>Model.make_params()</cite> when building default parameters.</p>
<p>While this can be used to set initial values, <cite>Model.make_params</cite> or
the function <cite>create_params</cite> should be preferred for creating
parameters with initial values.</p>
<p>The intended use here is to control how a Model should create
parameters, such as setting bounds that are required by the mathematics
of the model (for example, that a peak width cannot be negative), or to
define common constrained parameters.</p>
<section id="id37">
<h2>Parameters<a class="headerlink" href="#id37" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>name<span class="classifier">str</span></dt><dd><p>Parameter name, can include the models <cite>prefix</cite> or not.</p>
</dd>
<dt><a href="#id38"><span class="problematic" id="id39">**</span></a>kwargs<span class="classifier">optional</span></dt><dd><p>Arbitrary keyword arguments, needs to be a Parameter attribute.
Can be any of the following:</p>
<ul class="simple">
<li><dl class="simple">
<dt>value<span class="classifier">float, optional</span></dt><dd><p>Numerical Parameter value.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>vary<span class="classifier">bool, optional</span></dt><dd><p>Whether the Parameter is varied during a fit (default is
True).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>min<span class="classifier">float, optional</span></dt><dd><p>Lower bound for value (default is <code class="docutils literal notranslate"><span class="pre">-numpy.inf</span></code>, no lower
bound).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>max<span class="classifier">float, optional</span></dt><dd><p>Upper bound for value (default is <code class="docutils literal notranslate"><span class="pre">numpy.inf</span></code>, no upper
bound).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>expr<span class="classifier">str, optional</span></dt><dd><p>Mathematical expression used to constrain the value during
the fit.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</section>
<section id="id40">
<h2>Example<a class="headerlink" href="#id40" title="Link to this heading">¶</a></h2>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">GaussianModel</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">set_param_hint</span><span class="p">(</span><span class="s1">&#39;sigma&#39;</span><span class="p">,</span> <span class="nb">min</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</section>
</dd></dl>

</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/StonerLogo2.png" alt="Logo of Stoner Package"/>
            </a></p>
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">WLfit</a><ul>
<li><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit"><code class="docutils literal notranslate"><span class="pre">WLfit</span></code></a><ul>
<li><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.components"><code class="docutils literal notranslate"><span class="pre">WLfit.components</span></code></a></li>
<li><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.display_names"><code class="docutils literal notranslate"><span class="pre">WLfit.display_names</span></code></a></li>
<li><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.name"><code class="docutils literal notranslate"><span class="pre">WLfit.name</span></code></a></li>
<li><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.param_names"><code class="docutils literal notranslate"><span class="pre">WLfit.param_names</span></code></a></li>
<li><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.prefix"><code class="docutils literal notranslate"><span class="pre">WLfit.prefix</span></code></a></li>
<li><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.valid_forms"><code class="docutils literal notranslate"><span class="pre">WLfit.valid_forms</span></code></a></li>
<li><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.copy"><code class="docutils literal notranslate"><span class="pre">WLfit.copy()</span></code></a></li>
<li><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.dump"><code class="docutils literal notranslate"><span class="pre">WLfit.dump()</span></code></a></li>
<li><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.dumps"><code class="docutils literal notranslate"><span class="pre">WLfit.dumps()</span></code></a></li>
<li><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.eval"><code class="docutils literal notranslate"><span class="pre">WLfit.eval()</span></code></a></li>
<li><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.eval_components"><code class="docutils literal notranslate"><span class="pre">WLfit.eval_components()</span></code></a></li>
<li><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.fit"><code class="docutils literal notranslate"><span class="pre">WLfit.fit()</span></code></a></li>
<li><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.guess"><code class="docutils literal notranslate"><span class="pre">WLfit.guess()</span></code></a></li>
<li><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.load"><code class="docutils literal notranslate"><span class="pre">WLfit.load()</span></code></a></li>
<li><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.loads"><code class="docutils literal notranslate"><span class="pre">WLfit.loads()</span></code></a></li>
<li><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.make_funcargs"><code class="docutils literal notranslate"><span class="pre">WLfit.make_funcargs()</span></code></a></li>
<li><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.make_params"><code class="docutils literal notranslate"><span class="pre">WLfit.make_params()</span></code></a></li>
<li><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.post_fit"><code class="docutils literal notranslate"><span class="pre">WLfit.post_fit()</span></code></a></li>
<li><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.print_param_hints"><code class="docutils literal notranslate"><span class="pre">WLfit.print_param_hints()</span></code></a></li>
<li><a class="reference internal" href="#Stoner.analysis.fitting.models.e_transport.WLfit.set_param_hint"><code class="docutils literal notranslate"><span class="pre">WLfit.set_param_hint()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="Stoner.analysis.fitting.models.e_transport.FluchsSondheimer.html"
                          title="previous chapter">FluchsSondheimer</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="Stoner.analysis.fitting.models.magnetism.BlochLaw.html"
                          title="next chapter">BlochLaw</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/classes/Stoner.analysis.fitting.models.e_transport.WLfit.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<form class="search" action="../search.html" method="get">
  <input type="text" name="q"
   placeholder="type to search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="related bottom">
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="Stoner.analysis.fitting.models.e_transport.FluchsSondheimer.html" title="Previous document">FluchsSondheimer</a>
        </li>
        <li>
          <a href="Stoner.analysis.fitting.models.magnetism.BlochLaw.html" title="Next document">BlochLaw</a>
          &rarr;
        </li>
    </ul>
  </nav>
  <nav id="breadcrumbs">
    <ul>
      <li><a href="../index.html">Stoner Package</a></li>
      <li>
        <a href="../Stoner.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Stoner</span></code> Package</a>
      </li>
      <li>
        <a href="../analysis-fitting.html">Additional Fitting models</a>
      </li> 
    </ul>
  </nav>
  </div>
  <footer id="pagefooter">&copy; 2013-15, Gavin Burnell et al.Last updated on Apr 16, 2025.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a>
      8.2.3
        with the <a href="http://github.com/irskep/sphinx-better-theme">
          better</a> theme.

  </footer>

  
  </body>
</html>