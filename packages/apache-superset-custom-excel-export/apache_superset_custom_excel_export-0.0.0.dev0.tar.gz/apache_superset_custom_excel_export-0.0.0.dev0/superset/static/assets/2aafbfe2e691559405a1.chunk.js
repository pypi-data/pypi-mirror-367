"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[8452],{13130:(t,e,n)=>{n.d(e,{A:()=>c});const o=t=>"object"==typeof t&&null!=t&&1===t.nodeType,l=(t,e)=>(!e||"hidden"!==t)&&"visible"!==t&&"clip"!==t,r=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const n=getComputedStyle(t,null);return l(n.overflowY,e)||l(n.overflowX,e)||(t=>{const e=(t=>{if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch(t){return null}})(t);return!!e&&(e.clientHeight<t.scrollHeight||e.clientWidth<t.scrollWidth)})(t)}return!1},i=(t,e,n,o,l,r,i,a)=>r<t&&i>e||r>t&&i<e?0:r<=t&&a<=n||i>=e&&a>=n?r-t-o:i>e&&a<n||r<t&&a>n?i-e+l:0,a=t=>{const e=t.parentElement;return null==e?t.getRootNode().host||null:e},s=(t,e)=>{var n,l,s,d;if("undefined"==typeof document)return[];const{scrollMode:c,block:u,inline:h,boundary:f,skipOverflowHiddenElements:p}=e,g="function"==typeof f?f:t=>t!==f;if(!o(t))throw new TypeError("Invalid target");const m=document.scrollingElement||document.documentElement,b=[];let v=t;for(;o(v)&&g(v);){if(v=a(v),v===m){b.push(v);break}null!=v&&v===document.body&&r(v)&&!r(document.documentElement)||null!=v&&r(v,p)&&b.push(v)}const w=null!=(l=null==(n=window.visualViewport)?void 0:n.width)?l:innerWidth,M=null!=(d=null==(s=window.visualViewport)?void 0:s.height)?d:innerHeight,{scrollX:y,scrollY:S}=window,{height:F,width:x,top:H,right:W,bottom:k,left:C}=t.getBoundingClientRect(),{top:$,right:E,bottom:I,left:T}=(t=>{const e=window.getComputedStyle(t);return{top:parseFloat(e.scrollMarginTop)||0,right:parseFloat(e.scrollMarginRight)||0,bottom:parseFloat(e.scrollMarginBottom)||0,left:parseFloat(e.scrollMarginLeft)||0}})(t);let N="start"===u||"nearest"===u?H-$:"end"===u?k+I:H+F/2-$+I,R="center"===h?C+x/2-T+E:"end"===h?W+E:C-T;const z=[];for(let t=0;t<b.length;t++){const e=b[t],{height:n,width:o,top:l,right:a,bottom:s,left:d}=e.getBoundingClientRect();if("if-needed"===c&&H>=0&&C>=0&&k<=M&&W<=w&&(e===m&&!r(e)||H>=l&&k<=s&&C>=d&&W<=a))return z;const f=getComputedStyle(e),p=parseInt(f.borderLeftWidth,10),g=parseInt(f.borderTopWidth,10),v=parseInt(f.borderRightWidth,10),$=parseInt(f.borderBottomWidth,10);let E=0,I=0;const T="offsetWidth"in e?e.offsetWidth-e.clientWidth-p-v:0,Y="offsetHeight"in e?e.offsetHeight-e.clientHeight-g-$:0,j="offsetWidth"in e?0===e.offsetWidth?0:o/e.offsetWidth:0,B="offsetHeight"in e?0===e.offsetHeight?0:n/e.offsetHeight:0;if(m===e)E="start"===u?N:"end"===u?N-M:"nearest"===u?i(S,S+M,M,g,$,S+N,S+N+F,F):N-M/2,I="start"===h?R:"center"===h?R-w/2:"end"===h?R-w:i(y,y+w,w,p,v,y+R,y+R+x,x),E=Math.max(0,E+S),I=Math.max(0,I+y);else{E="start"===u?N-l-g:"end"===u?N-s+$+Y:"nearest"===u?i(l,s,n,g,$+Y,N,N+F,F):N-(l+n/2)+Y/2,I="start"===h?R-d-p:"center"===h?R-(d+o/2)+T/2:"end"===h?R-a+v+T:i(d,a,o,p,v+T,R,R+x,x);const{scrollLeft:t,scrollTop:r}=e;E=0===B?0:Math.max(0,Math.min(r+E/B,e.scrollHeight-n/B+Y)),I=0===j?0:Math.max(0,Math.min(t+I/j,e.scrollWidth-o/j+T)),N+=r-E,R+=t-I}z.push({el:e,top:E,left:I})}return z},d=t=>!1===t?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&0!==Object.keys(t).length)(t)?t:{block:"start",inline:"nearest"};function c(t,e){if(!t.isConnected||!(t=>{let e=t;for(;e&&e.parentNode;){if(e.parentNode===document)return!0;e=e.parentNode instanceof ShadowRoot?e.parentNode.host:e.parentNode}return!1})(t))return;const n=(t=>{const e=window.getComputedStyle(t);return{top:parseFloat(e.scrollMarginTop)||0,right:parseFloat(e.scrollMarginRight)||0,bottom:parseFloat(e.scrollMarginBottom)||0,left:parseFloat(e.scrollMarginLeft)||0}})(t);if((t=>"object"==typeof t&&"function"==typeof t.behavior)(e))return e.behavior(s(t,e));const o="boolean"==typeof e||null==e?void 0:e.behavior;for(const{el:l,top:r,left:i}of s(t,d(e))){const t=r-n.top+n.bottom,e=i-n.left+n.right;l.scroll({top:t,left:e,behavior:o})}}},54923:(t,e,n)=>{n.r(e),n.d(e,{default:()=>u});var o=n(2445),l=n(62952),r=n(87903),i=n(95579),a=n(96540),s=n(56268),d=n(71781),c=n(67874);function u(t){const{data:e,formData:n,height:u,width:h,setDataMask:f,setHoveredFilter:p,unsetHoveredFilter:g,setFocusedFilter:m,unsetFocusedFilter:b,setFilterActive:v,filterState:w,inputRef:M}=t,{defaultValue:y}=n,[S,F]=(0,a.useState)(null!=y?y:[]),x=t=>{const e=(0,l.A)(t);F(e);const n={};e.length&&(n.granularity_sqla=e[0]),f({extraFormData:n,filterState:{value:e.length?e:null}})};(0,a.useEffect)((()=>{x(null!=y?y:null)}),[JSON.stringify(y)]),(0,a.useEffect)((()=>{var t;x(null!=(t=w.value)?t:null)}),[JSON.stringify(w.value)]);const H=(e||[]).filter((t=>t.dtype===r.s.Temporal)),W=0===H.length?(0,i.t)("No time columns"):(0,i.tn)("%s option","%s options",H.length,H.length),k={};w.validateMessage&&(k.extra=(0,o.Y)(c.Mo,{status:w.validateStatus,children:w.validateMessage}));const C=H.map((t=>{const{column_name:e,verbose_name:n}=t;return{label:null!=n?n:e,value:e}}));return(0,o.Y)(c.j3,{height:u,width:h,children:(0,o.Y)(s.e,{validateStatus:w.validateStatus,...k,children:(0,o.Y)(d.A,{name:n.nativeFilterId,allowClear:!0,value:S,placeholder:W,onChange:x,onBlur:b,onFocus:m,onMouseEnter:p,onMouseLeave:g,ref:M,options:C,onOpenChange:v})})})}},56268:(t,e,n)=>{n.d(e,{e:()=>l});var o=n(89467);const l=(0,n(72234).I4)(o.A.Item)`
  ${({theme:t})=>`\n    &.ant-form-item > .ant-row > .ant-form-item-label {\n      padding-bottom: ${t.paddingXXS}px;\n    }\n    .ant-form-item-label {\n      & > label {\n        font-size: ${t.fontSizeSM}px;\n        &.ant-form-item-required:not(.ant-form-item-required-mark-optional) {\n          &::before {\n            display: none;\n          }\n          &::after {\n            display: inline-block;\n            visibility: visible;\n            color: ${t.colorError};\n            font-size: ${t.fontSizeSM}px;\n            content: '*';\n          }\n        }\n      }\n    }\n    .ant-form-item-extra {\n      margin-top: ${t.sizeUnit}px;\n      font-size: ${t.fontSizeSM}px;\n    }\n  `}
`},67874:(t,e,n)=>{n.d(e,{Mo:()=>a,YH:()=>r,j3:()=>i});var o=n(72234),l=n(56268);const r=0,i=o.I4.div`
  min-height: ${({height:t})=>t}px;
  width: ${({width:t})=>t===r?"100%":`${t}px`};
`,a=((0,o.I4)(l.e)`
  &.ant-row.ant-form-item {
    margin: 0;
  }
`,o.I4.div`
  color: ${({theme:t,status:e="error"})=>{var n;return"help"===e?t.colors.grayscale.light1:null==(n=t.colors[e])?void 0:n.base}};
  text-align: ${({centerText:t})=>t?"center":"left"};
  width: 100%;
`)}}]);