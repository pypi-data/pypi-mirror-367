# =============================================================================
# Automagik Hive Agent Database - Simplified Architecture  
# =============================================================================
#
# Simple PostgreSQL database with pgvector extension for agent development.
# This provides the database backend that the agent API connects to.
#
# Usage:
#   docker-compose -f docker/agent/docker-compose.yml up -d
#   
# The agent API runs separately via: uvx automagik-hive --agent-dev
#
# =============================================================================

services:
  # Agent PostgreSQL Database with pgvector extension
  hive-postgres-agent:
    image: pgvector/pgvector:pg16
    container_name: hive-postgres-agent
    restart: unless-stopped
    ports:
      - "35532:5432"
    environment:
      - POSTGRES_DB=hive_agent
      - POSTGRES_USER=agent
      - POSTGRES_PASSWORD=agent_secure_password
    volumes:
      - ./data/postgres-agent:/var/lib/postgresql/data

