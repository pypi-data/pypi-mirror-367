- During the development of the shipping label generation feature, we initially evaluated the use of the Zebrafy library to convert ZPL labels into PDF format. However, Zebrafy is based on the presence of graphic fields (^GF) in the ZPL source, which are not always included in the labels generated by CBL.
- To ensure broader compatibility, it's opted to use the external service Labelary.com, returns the corresponding label in PDF format via an HTTP request.
- To provide flexibility, a new field cbl_label_format has been added to the delivery.carrier model, allowing the user to select between ZPL (default) and PDF formats.
The method cdl_generate_labels will only invoke the external Labelary service if the selected format is PDF. Otherwise, the label is stored directly in ZPL format without any transformation.
