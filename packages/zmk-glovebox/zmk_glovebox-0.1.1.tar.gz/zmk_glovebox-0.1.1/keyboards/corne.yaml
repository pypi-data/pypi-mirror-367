keyboard: "corne"
description: "Corne (CRKBD) 42-key split keyboard"
vendor: "foostan"
key_count: 42
is_split: true

# Include all component configurations
includes:
  - "config/all.yaml" # All shared config files
  - "config/firmware/zmk.yaml" # All shared config files

compile_methods:
  - method_type: zmk_config
    repository: "zmkfirmware/zmk"
    branch: "main" # Default, overridden by firmware config
    build_config:
      board: ["nice_nano_v2"]
      shield: ["corne_left", "corne_right"]

  # - method_type: moergo
  #   image: glove80-zmk-config-docker
  #   repository: "moergo-sc/zmk"
  #   branch: "v25.05"

# Flash method configurations
flash_methods:
  - method_type: usb
    device_query: "vendor=Adafruit and serial~=QTPY-.* and removable=true"
    mount_timeout: 30
    copy_timeout: 60
    sync_after_copy: true

firmwares:
  main:
    version: "main"
    description: "Latest ZMK firmware main branch"
    build_options:
      repository: "zmkfirmware/zmk"
      branch: "main"

  v3.5:
    version: "v3.5"
    description: "Stable ZMK firmware v3.5"
    build_options:
      repository: "zmkfirmware/zmk"
      branch: "v3.5"

keymap:
  header_includes:
    - "dt-bindings/zmk/bt.h"
    - "dt-bindings/zmk/rgb.h"
  formatting:
    key_gap: "  "
    base_indent: ""
    rows:
      - [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]
      - [12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23]
      - [24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35]
      - [-1, -1, -1, 36, 37, 38, 39, 40, 41, -1, -1, -1]

  keymap_dtsi_file: "config/templates/keymap.dtsi.j2"

  key_position_header: |
    #define POS_L0 0
    #define POS_L1 1
    #define POS_L2 2
    #define POS_L3 3
    #define POS_L4 4
    #define POS_L5 5
    #define POS_L6 12
    #define POS_L7 13
    #define POS_L8 14
    #define POS_L9 15
    #define POS_L10 16
    #define POS_L11 17
    #define POS_L12 24
    #define POS_L13 25
    #define POS_L14 26
    #define POS_L15 27
    #define POS_L16 28
    #define POS_L17 29
    #define POS_L18 36
    #define POS_L19 37
    #define POS_L20 38

    #define POS_R0 6
    #define POS_R1 7
    #define POS_R2 8
    #define POS_R3 9
    #define POS_R4 10
    #define POS_R5 11
    #define POS_R6 18
    #define POS_R7 19
    #define POS_R8 20
    #define POS_R9 21
    #define POS_R10 22
    #define POS_R11 23
    #define POS_R12 30
    #define POS_R13 31
    #define POS_R14 32
    #define POS_R15 33
    #define POS_R16 34
    #define POS_R17 35
    #define POS_R18 39
    #define POS_R19 40
    #define POS_R21 41
