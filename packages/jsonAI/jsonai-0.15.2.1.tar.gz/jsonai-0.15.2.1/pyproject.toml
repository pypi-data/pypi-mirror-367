[tool.poetry]
name = "jsonAI"
version = "0.15.2.1"  # Patch bump for PyPI republish; previous versions exist on PyPI
description = "A Python library for dynamic JSON generation based on schemas using language models."
authors = ["1rgs <kishoretvk9@gmail.com>"]
readme = "README.md"

[[tool.poetry.packages]]
from = "."
include = "jsonAI"

[tool.poetry.dependencies]
python = "^3.9,<4.0"
termcolor = "^2.3.0"
jaxtyping = "^0.2.28"
jsonschema = "^4.22.0"
PyYAML = "^6.0.1"
lxml = "^5.2.2"
ollama = "^0.2.1"
click = "^8.1.7"
requests = "^2.32.0"
aiohttp = "^3.9.5"
cachetools = "^5.3.1"

[tool.poetry.group.dev.dependencies]
pandas = "^2.2.2"
ipykernel = "^6.22.0"
torch = "^2.0.0"
accelerate = "^0.18.0"
bitsandbytes = "^0.38.1"
transformers = "^4.27.4"
pytest = "^8.2.2"
pytest-cov = "^5.0.0"
flake8 = "^7.1.0"
fastapi = "^0.111.0"
uvicorn = {extras = ["standard"], version = "^0.30.1"}
black = "^24.8.0"
mypy = "^1.8.0"
bandit = "^1.7.5"
  # ...existing dev dependencies...
pre-commit = "^3.8.0"
pylint = "^3.2.7"

[build-system]
requires = ["poetry-core>=1.0.0"]
build-backend = "poetry.core.masonry.api"

[virtualenvs]
create = true
in-project = true

[tool.black]
line-length = 120
target-version = ['py39']


[tool.pytest]
addopts = "--cov=jsonAI --cov-report=xml"
python_files = "jsonAI/*.py"

[tool.pylint]
max-line-length = 120
disable = [
  "C0114", "C0115", "C0116",  # missing module/class/function docstrings
  "C0301",  # line-too-long
  "C0303",  # trailing-whitespace
  "W0707",  # raise-missing-from
  "C0415",  # import-outside-toplevel
  "W0613",  # unused-argument
  "W0612",  # unused-variable
  "R0903",  # too-few-public-methods
  "C0103"   # invalid-name
]
ignore = ["tests", "examples"]
