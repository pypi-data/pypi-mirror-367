# –ë—ã—Å—Ç—Ä–∞—è —Å–ø—Ä–∞–≤–∫–∞: –§–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è save_product_prices

## –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ—Ä–º–∞—Ç (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

```json
{
  "marketplaces": {
    "komus.ru": {
      "price": "1250 —Ä—É–±",
      "availability": "–≤ –Ω–∞–ª–∏—á–∏–∏",
      "url": "https://www.komus.ru/product/12345"
    },
    "vseinstrumenti.ru": {
      "price": "1320.50 —Ä—É–±",
      "availability": "–¥–æ—Å—Ç—É–ø–µ–Ω",
      "url": "https://www.vseinstrumenti.ru/product/67890"
    }
  }
}
```

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

### –ú–∞—Å—Å–∏–≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

```json
{
  "results": [
    {
      "marketplace": "ozon.ru",
      "price": 890.5,
      "currency": "RUB",
      "availability": "–≤ –Ω–∞–ª–∏—á–∏–∏",
      "product_url": "https://www.ozon.ru/product/123456789",
      "product_found": true
    }
  ]
}
```

### –û–¥–∏–Ω–æ—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

```json
{
  "marketplace": "wildberries.ru",
  "price": 945.0,
  "currency": "RUB",
  "availability": "–≤ –Ω–∞–ª–∏—á–∏–∏",
  "product_url": "https://www.wildberries.ru/catalog/12345/detail.aspx",
  "product_found": true
}
```

### –ü—Ä—è–º–æ–π –º–∞—Å—Å–∏–≤

```json
[
  {
    "marketplace": "officemag.ru",
    "price": 567.0,
    "currency": "RUB",
    "availability": "–≤ –Ω–∞–ª–∏—á–∏–∏",
    "product_url": "https://www.officemag.ru/product/abc123"
  }
]
```

## –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è

- ‚úÖ **`marketplace`** - –Ω–∞–∑–≤–∞–Ω–∏–µ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞
- ‚úÖ **`price`** - —Ü–µ–Ω–∞ (—á–∏—Å–ª–æ –∏–ª–∏ —Å—Ç—Ä–æ–∫–∞ —Å —á–∏—Å–ª–æ–º)

## –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø–æ–ª—è

- üî∏ **`currency`** - –≤–∞–ª—é—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é "RUB")
- üî∏ **`availability`** - —Å—Ç–∞—Ç—É—Å –Ω–∞–ª–∏—á–∏—è
- üî∏ **`product_url`** - —Å—Å—ã–ª–∫–∞ –Ω–∞ —Ç–æ–≤–∞—Ä (–í–ê–ñ–ù–û –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏)
- üî∏ **`product_found`** - –Ω–∞–π–¥–µ–Ω –ª–∏ —Ç–æ–≤–∞—Ä (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é true)

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã —Ü–µ–Ω

- `1250.0` - —á–∏—Å–ª–æ
- `"1250"` - —Å—Ç—Ä–æ–∫–∞ —Å —á–∏—Å–ª–æ–º
- `"299 —Ä—É–±"` - —Å—Ç—Ä–æ–∫–∞ —Å —Ç–µ–∫—Å—Ç–æ–º (–∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è 299)
- `"–æ—Ç 280 —Ä—É–±"` - —Å—Ç—Ä–æ–∫–∞ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º (–∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è 280)

## –ü—Ä–∏–º–µ—Ä –≤—ã–∑–æ–≤–∞

```python
result = await save_product_prices(195385.0, search_results)
```

## –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç

```json
{
  "status": "success",
  "message": "–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ 2 —Ü–µ–Ω –¥–ª—è —Ç–æ–≤–∞—Ä–∞ 195385.0",
  "product_code": 195385.0,
  "saved_prices": 2,
  "prices_saved": [
    {
      "marketplace": "komus.ru",
      "price": 1250.0,
      "currency": "RUB",
      "availability": "–≤ –Ω–∞–ª–∏—á–∏–∏"
    }
  ]
}
```

## –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

‚ùå **–ù—É–ª–µ–≤–∞—è —Ü–µ–Ω–∞**: `"price": 0`  
‚ùå **–¢–æ–≤–∞—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω**: `"product_found": false`  
‚ùå **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å**: –±–µ–∑ –ø–æ–ª—è `marketplace`  
‚ùå **–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥ —Ç–æ–≤–∞—Ä–∞**: —Ç–æ–≤–∞—Ä –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –ë–î

## –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

–ü—Ä–∏ –æ—à–∏–±–∫–µ `"status": "no_data"` –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–ª–µ `diagnostic_info` –≤ –æ—Ç–≤–µ—Ç–µ –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–æ–±–ª–µ–º–µ.
