# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ñ–æ—Ä–º–∞—Ç–∞–º –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ò–ò-–∞–≥–µ–Ω—Ç–∞

## –û–±–∑–æ—Ä

–î–∞–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –ò–ò-–∞–≥–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Å —Ñ—É–Ω–∫—Ü–∏–µ–π `save_product_prices`. –ó–¥–µ—Å—å –æ–ø–∏—Å–∞–Ω—ã —Ç–æ—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ò–ò-–∞–≥–µ–Ω—Ç –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Ü–µ–Ω —Ç–æ–≤–∞—Ä–æ–≤.

## –§—É–Ω–∫—Ü–∏—è save_product_prices

```python
save_product_prices(product_code: float, search_results: dict) -> dict
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

- **`product_code`** (float) - –∫–æ–¥ —Ç–æ–≤–∞—Ä–∞ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)
- **`search_results`** (dict) - —Å–ª–æ–≤–∞—Ä—å —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –ø–æ–∏—Å–∫–∞ —Ü–µ–Ω (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)

## üéØ –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ô –§–û–†–ú–ê–¢ (–§–æ—Ä–º–∞—Ç 1)

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç —Ñ–æ—Ä–º–∞—Ç –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å:**

```json
{
  "marketplaces": {
    "komus.ru": {
      "price": "1250 —Ä—É–±",
      "availability": "–≤ –Ω–∞–ª–∏—á–∏–∏",
      "url": "https://www.komus.ru/product/12345",
      "rating": "4.5",
      "reviews_count": "12"
    },
    "vseinstrumenti.ru": {
      "price": "1320.50 —Ä—É–±",
      "availability": "–¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –∑–∞–∫–∞–∑–∞",
      "url": "https://www.vseinstrumenti.ru/product/67890"
    }
  }
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- ‚úÖ –¶–µ–Ω–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å—Ç—Ä–æ–∫–æ–π —Å —Ç–µ–∫—Å—Ç–æ–º ("299 —Ä—É–±", "–æ—Ç 280 —Ä—É–±")
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç —á–∏—Å–ª–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è (rating, reviews_count)
- ‚úÖ –ù–∞–∏–±–æ–ª–µ–µ –≥–∏–±–∫–∏–π —Ñ–æ—Ä–º–∞—Ç

## üìã –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–´–ï –§–û–†–ú–ê–¢–´

### –§–æ—Ä–º–∞—Ç 2: –ú–∞—Å—Å–∏–≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

```json
{
  "results": [
    {
      "marketplace": "ozon.ru",
      "price": 890.5,
      "currency": "RUB",
      "availability": "–≤ –Ω–∞–ª–∏—á–∏–∏",
      "product_url": "https://www.ozon.ru/product/123456789",
      "product_found": true
    },
    {
      "marketplace": "wildberries.ru",
      "price": 945.0,
      "currency": "RUB",
      "availability": "–≤ –Ω–∞–ª–∏—á–∏–∏",
      "product_url": "https://www.wildberries.ru/catalog/12345/detail.aspx",
      "product_found": true
    }
  ]
}
```

### –§–æ—Ä–º–∞—Ç 3: –ú–∞—Å—Å–∏–≤ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π

```json
{
  "found_offers": [
    {
      "marketplace": "officemag.ru",
      "price": 567.0,
      "currency": "RUB",
      "availability": "–≤ –Ω–∞–ª–∏—á–∏–∏",
      "product_url": "https://www.officemag.ru/product/abc123"
    }
  ]
}
```

### –§–æ—Ä–º–∞—Ç 4: –û–¥–∏–Ω–æ—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

```json
{
  "marketplace": "komus.ru",
  "price": 1250.0,
  "currency": "RUB",
  "availability": "–≤ –Ω–∞–ª–∏—á–∏–∏",
  "product_url": "https://www.komus.ru/product/12345",
  "product_found": true
}
```

### –§–æ—Ä–º–∞—Ç 5: –ü—Ä—è–º–æ–π –º–∞—Å—Å–∏–≤

```json
[
  {
    "marketplace": "vseinstrumenti.ru",
    "price": 1320.0,
    "currency": "RUB",
    "availability": "–≤ –Ω–∞–ª–∏—á–∏–∏",
    "product_url": "https://www.vseinstrumenti.ru/product/67890"
  }
]
```

## üîß –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –ü–û–õ–Ø

### –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–ª—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:

1. **`marketplace`** (string) - –Ω–∞–∑–≤–∞–Ω–∏–µ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞
2. **`price`** (number –∏–ª–∏ string) - —Ü–µ–Ω–∞ —Ç–æ–≤–∞—Ä–∞

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø–æ–ª—è:

3. **`currency`** (string) - –≤–∞–ª—é—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é "RUB")
4. **`availability`** (string) - —Å—Ç–∞—Ç—É—Å –Ω–∞–ª–∏—á–∏—è —Ç–æ–≤–∞—Ä–∞
5. **`product_url`** (string) - —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç–æ–≤–∞—Ä–∞ (–í–ê–ñ–ù–û!)
6. **`product_found`** (boolean) - –Ω–∞–π–¥–µ–Ω –ª–∏ —Ç–æ–≤–∞—Ä (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é true)

## üí∞ –û–ë–†–ê–ë–û–¢–ö–ê –¶–ï–ù

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã —Ü–µ–Ω:

| –§–æ—Ä–º–∞—Ç               | –ü—Ä–∏–º–µ—Ä         | –†–µ–∑—É–ª—å—Ç–∞—Ç            |
| -------------------- | -------------- | -------------------- |
| –ß–∏—Å–ª–æ                | `1250.0`       | `1250.0`             |
| –°—Ç—Ä–æ–∫–∞ —Å —á–∏—Å–ª–æ–º      | `"1250"`       | `1250.0`             |
| –°—Ç—Ä–æ–∫–∞ —Å —Ç–µ–∫—Å—Ç–æ–º     | `"299 —Ä—É–±"`    | `299.0`              |
| –°—Ç—Ä–æ–∫–∞ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º   | `"–æ—Ç 280 —Ä—É–±"` | `280.0`              |
| –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ü–µ–Ω–∞ | `"1 250,00 ‚ÇΩ"` | `1.0` (–ø–µ—Ä–≤–æ–µ —á–∏—Å–ª–æ) |

### ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞:

- –¶–µ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å **–±–æ–ª—å—à–µ 0**
- –°–∏—Å—Ç–µ–º–∞ –∏–∑–≤–ª–µ–∫–∞–µ—Ç **–ø–µ—Ä–≤–æ–µ –Ω–∞–π–¥–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ** –∏–∑ —Å—Ç—Ä–æ–∫–∏
- –ï—Å–ª–∏ —Ü–µ–Ω–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–≤–ª–µ—á–µ–Ω–∞, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è

## üè™ –ù–ê–ó–í–ê–ù–ò–Ø –ú–ê–†–ö–ï–¢–ü–õ–ï–ô–°–û–í

### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–º–µ–Ω–Ω–æ —ç—Ç–∏):

- `komus.ru` - –ö–æ–º—É—Å
- `vseinstrumenti.ru` - –í—Å–µ–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- `ozon.ru` - –û–∑–æ–Ω
- `wildberries.ru` - Wildberries
- `officemag.ru` - –û—Ñ–∏—Å–º–∞–≥
- `yandex_market` - –Ø–Ω–¥–µ–∫—Å.–ú–∞—Ä–∫–µ—Ç

## üìù –ü–†–ò–ú–ï–†–´ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø

### –ü—Ä–∏–º–µ—Ä 1: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ü–µ–Ω –≤ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ

```python
# –î–∞–Ω–Ω—ã–µ –æ—Ç –ò–ò-–∞–≥–µ–Ω—Ç–∞
search_results = {
    "marketplaces": {
        "komus.ru": {
            "price": "1250 —Ä—É–±",
            "availability": "–≤ –Ω–∞–ª–∏—á–∏–∏",
            "url": "https://www.komus.ru/product/12345"
        },
        "vseinstrumenti.ru": {
            "price": "1320.50 —Ä—É–±",
            "availability": "–¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –∑–∞–∫–∞–∑–∞",
            "url": "https://www.vseinstrumenti.ru/product/67890"
        }
    }
}

# –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏
result = await save_product_prices(195385.0, search_results)
```

### –ü—Ä–∏–º–µ—Ä 2: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ–¥–∏–Ω–æ—á–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

```python
search_results = {
    "marketplace": "ozon.ru",
    "price": 890.5,
    "currency": "RUB",
    "availability": "–≤ –Ω–∞–ª–∏—á–∏–∏",
    "product_url": "https://www.ozon.ru/product/123456789",
    "product_found": true
}

result = await save_product_prices(194744.0, search_results)
```

## ‚úÖ –£–°–ü–ï–®–ù–´–ï –û–¢–í–ï–¢–´

### –ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏:

```json
{
  "status": "success",
  "message": "–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ 2 —Ü–µ–Ω –¥–ª—è —Ç–æ–≤–∞—Ä–∞ 195385.0",
  "product_code": 195385.0,
  "product_name": "–ü–æ–ª–æ—Ç–Ω–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –ë–Ø–ó–¨ –û–¢–ë–ï–õ–ï–ù–ù–ê–Ø –ì–û–°–¢",
  "saved_prices": 2,
  "total_results": 2,
  "prices_saved": [
    {
      "marketplace": "komus.ru",
      "price": 1250.0,
      "currency": "RUB",
      "availability": "–≤ –Ω–∞–ª–∏—á–∏–∏"
    },
    {
      "marketplace": "vseinstrumenti.ru",
      "price": 1320.5,
      "currency": "RUB",
      "availability": "–¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –∑–∞–∫–∞–∑–∞"
    }
  ],
  "timestamp": "2025-01-08T15:30:45.123456"
}
```

## ‚ùå –û–®–ò–ë–ö–ò –ò –ò–• –†–ï–®–ï–ù–ò–ï

### –û—à–∏–±–∫–∞: "–¢–æ–≤–∞—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω"

```json
{
  "status": "not_found",
  "message": "–ü—Ä–æ–¥—É–∫—Ç —Å –∫–æ–¥–æ–º 999999.0 –Ω–µ –Ω–∞–π–¥–µ–Ω",
  "error_code": "PRODUCT_NOT_FOUND"
}
```

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∫–æ–¥–∞ —Ç–æ–≤–∞—Ä–∞ —Å –ø–æ–º–æ—â—å—é `get_product_list()`

### –û—à–∏–±–∫–∞: "–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è"

```json
{
  "status": "no_data",
  "message": "–ù–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è",
  "diagnostic_info": {
    "received_keys": ["search_timestamp", "marketplaces"],
    "has_marketplaces": true,
    "marketplaces_count": 2,
    "komus.ru_has_price": false,
    "vseinstrumenti.ru_has_price": true
  }
}
```

**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:

- –ü–æ–ª–µ `price` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –∫–∞–∂–¥–æ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ
- –¶–µ–Ω–∞ –±–æ–ª—å—à–µ 0
- –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ–ª–µ `product_found`, –æ–Ω–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `true`

### –û—à–∏–±–∫–∞: "–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ü–µ–Ω–∞"

**–ü—Ä–∏—á–∏–Ω—ã:**

- –¶–µ–Ω–∞ —Ä–∞–≤–Ω–∞ 0 –∏–ª–∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è
- –¶–µ–Ω–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∞ –≤ —á–∏—Å–ª–æ
- –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª–µ `price`

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç —Ü–µ–Ω—ã —Å–æ–≥–ª–∞—Å–Ω–æ —Ç–∞–±–ª–∏—Ü–µ –≤—ã—à–µ

## üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ü–†–û–ë–õ–ï–ú

### –ï—Å–ª–∏ —Ü–µ–Ω—ã –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–∏–Ω –∏–∑ 5 –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ü–µ–Ω—ã** - –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º–∏ —á–∏—Å–ª–∞–º–∏
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–¥ —Ç–æ–≤–∞—Ä–∞** - —Ç–æ–≤–∞—Ä –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
4. **–ò–∑—É—á–∏—Ç–µ –ø–æ–ª–µ `diagnostic_info`** –≤ –æ—Ç–≤–µ—Ç–µ –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:

–§—É–Ω–∫—Ü–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ –ª–æ–≥–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö:

- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é —Ü–µ–Ω
- –ü—Ä–æ—Ü–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–∞–∂–¥–æ–π —Ü–µ–Ω—ã
- –û—à–∏–±–∫–∏ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

## üéØ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –î–õ–Ø –ò–ò-–ê–ì–ï–ù–¢–ê

### 1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç (marketplaces)

–≠—Ç–æ –Ω–∞–∏–±–æ–ª–µ–µ –≥–∏–±–∫–∏–π –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç.

### 2. –í—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ URL —Ç–æ–≤–∞—Ä–∞

–ü–æ–ª–µ `product_url` –∏–ª–∏ `url` –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏.

### 3. –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–æ–≤–∞—Ä–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞–π–¥–µ–Ω–Ω—ã–π —Ç–æ–≤–∞—Ä –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∏—Å–∫–æ–º–æ–º—É.

### 4. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏

–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –æ—Ç–≤–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã –æ—à–∏–±–æ–∫.

### 5. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤

–°–º. —Ç–∞–±–ª–∏—Ü—É –≤—ã—à–µ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π.

## üìä –®–ê–ë–õ–û–ù –î–õ–Ø –ö–û–ü–ò–†–û–í–ê–ù–ò–Ø

```json
{
  "marketplaces": {
    "–ù–ê–ó–í–ê–ù–ò–ï_–ú–ê–†–ö–ï–¢–ü–õ–ï–ô–°–ê": {
      "price": "–¶–ï–ù–ê_–°–¢–†–û–ö–ê_–ò–õ–ò_–ß–ò–°–õ–û",
      "availability": "–°–¢–ê–¢–£–°_–ù–ê–õ–ò–ß–ò–Ø",
      "url": "–°–°–´–õ–ö–ê_–ù–ê_–¢–û–í–ê–†",
      "rating": "–†–ï–ô–¢–ò–ù–ì_–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û",
      "reviews_count": "–ö–û–õ–ò–ß–ï–°–¢–í–û_–û–¢–ó–´–í–û–í_–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û"
    }
  }
}
```

## üîÑ –ü–†–û–¶–ï–°–° –†–ê–ë–û–¢–´ –° –¶–ï–ù–ê–ú–ò

1. **–ü–æ–ª—É—á–∏—Ç–µ —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤:** `get_product_list()`
2. **–ù–∞–π–¥–∏—Ç–µ —Ü–µ–Ω—ã –Ω–∞ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞—Ö** (–∏—Å–ø–æ–ª—å–∑—É—è MCP Playwright)
3. **–°—Ñ–æ—Ä–º–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ** –≤ –æ–¥–Ω–æ–º –∏–∑ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
4. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ü–µ–Ω—ã:** `save_product_prices(product_code, search_results)`
5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç** –∏ –æ–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ –æ—à–∏–±–∫–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

---

**–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —è–≤–ª—è–µ—Ç—Å—è –∏—Å—á–µ—Ä–ø—ã–≤–∞—é—â–∏–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º –¥–ª—è –ò–ò-–∞–≥–µ–Ω—Ç–æ–≤ –ø–æ —Ä–∞–±–æ—Ç–µ —Å —Ñ—É–Ω–∫—Ü–∏–µ–π `save_product_prices`. –°–ª–µ–¥—É–π—Ç–µ —É–∫–∞–∑–∞–Ω–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–∞–º –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ü–µ–Ω.**
