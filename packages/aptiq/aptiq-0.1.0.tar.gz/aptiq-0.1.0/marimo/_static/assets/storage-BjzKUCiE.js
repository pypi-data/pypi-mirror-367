const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./slides-component-BIjT59tF.js","./index-B9kQEPpA.js","./index-BhqTgU7h.css","./slides-component-DeDT_a8V.css"])))=>i.map(i=>d[i]);
var Oa=Object.defineProperty;var Da=(Ce,_e,Le)=>_e in Ce?Oa(Ce,_e,{enumerable:!0,configurable:!0,writable:!0,value:Le}):Ce[_e]=Le;var re=(Ce,_e,Le)=>Da(Ce,typeof _e!="symbol"?_e+"":_e,Le);import{c as ge,dI as Ca,dJ as Ea,dK as po,dL as Na,W as U,dM as ka,dN as Ra,dO as Pa,dP as Ma,b as be,a as G,$ as ee,j as S,dQ as Ta,av as Ot,aJ as za,T as Oe,dR as La,dS as fo,dT as Ia,dU as Xt,dV as mo,dW as go,dX as Ha,dY as lt,dZ as Wa,d_ as Aa,cF as qa,d$ as Ba,aP as Kt,e0 as Fa,e1 as Ga,e2 as De,a1 as we,e3 as yo,e4 as $a,e5 as Va,e6 as bo,e7 as Ya,e8 as Ua,e9 as vo,ea as wo,eb as xo,ec as Xa,ed as Ka,ee as Qa,ef as Ja,eg as Za,eh as So,al as Te,ei,ej as ti,bg as Qt,ek as ni,el as ri,em as oi,bq as si,en as ai,eo as _o,ar as Jt,bh as jo,aF as xe,ep as Zt,aG as qe,dl as ii,ca as li,eq as ci,V as ui,R as Oo,b9 as Do,er as en,es as Dt,et as tn,eu as nn,b0 as ct,dB as di,ev as Co,ew as hi,bu as ut,ex as pi,b2 as rn,aW as on,aV as sn,ey as fi,ez as an,L as Se,eA as mi,eB as Eo,eC as ze,eD as gi,eE as No,_ as yi,o as bi,aU as vi,a7 as ko,eF as Ct,dE as Ro,bs as Po,aS as ln,eG as wi,eH as xi,eI as cn,b5 as Si,bf as _i,eJ as ji,aq as Oi,as as Di,eK as Ci,dx as Ei,eL as Ni,eM as ki,a3 as Ri,eN as Pi,bx as Mi,at as Ti,eO as zi,eP as Mo,eQ as Li,eR as Ii,eS as Hi,eT as Wi,eU as un,eV as Ai,af as dt,aQ as qi,aR as Bi,eW as Fi,eX as Gi,eY as To,eZ as $i,e_ as Vi,e$ as Yi,f0 as Ui,f1 as zo,f2 as Xi,dy as Et,f3 as Lo,f4 as Ki,f5 as Qi,f6 as Ji,f7 as ht,f8 as Io,f9 as Zi,fa as Ho,fb as dn,fc as el,fd as tl,fe as nl,ff as rl,fg as ol,fh as sl,fi as al,fj as il,fk as ll,fl as Wo,fm as cl,fn as ul,X as Ao,fo as dl,cp as hl,fp as pl,fq as fl,fr as ml,fs as gl,ft as yl,fu as bl,fv as vl,fw as wl,fx as Nt,fy as xl,fz as Sl,__tla as _l}from"./index-B9kQEPpA.js";import{a as jl}from"./index-B_dVYwwr.js";import{T as Ol}from"./trash-IThOop3w.js";let qo,hn,pn,fn,mn,Bo,gn,Fo,yn,Go,bn,vn,kt,Xe,$o,Vo,Yo,wn,xn,Rt,Sn,Uo,_n,Pt,jn,Mt,Xo,On,Ko,Qo,Jo,Zo,Dn,Cn,En,Nn,kn,Rn,Pn,Mn,Dl=Promise.all([(()=>{try{return _l}catch{}})()]).then(async()=>{let Ce,_e,Le,Tn,zn,Ln,In,Hn,Wn;Ce=ge("align-end-vertical",[["rect",{width:"16",height:"6",x:"2",y:"4",rx:"2",key:"10wcwx"}],["rect",{width:"9",height:"6",x:"9",y:"14",rx:"2",key:"4p5bwg"}],["path",{d:"M22 22V2",key:"12ipfv"}]]),_e=ge("align-horizontal-space-around",[["rect",{width:"6",height:"10",x:"9",y:"7",rx:"2",key:"yn7j0q"}],["path",{d:"M4 22V2",key:"tsjzd3"}],["path",{d:"M20 22V2",key:"1bnhr8"}]]),Le=ge("align-start-vertical",[["rect",{width:"9",height:"6",x:"6",y:"14",rx:"2",key:"lpm2y7"}],["rect",{width:"16",height:"6",x:"6",y:"4",rx:"2",key:"rdj6ps"}],["path",{d:"M2 2v20",key:"1ivd8o"}]]),pn=ge("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),fn=ge("folder-down",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"m15 13-3 3-3-3",key:"6j2sf0"}]]),Tn=ge("hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]),mn=ge("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),zn=ge("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),gn=ge("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),wn=ge("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),Ln=ge("scroll",[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]),In=ge("skip-forward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),Hn=ge("square-arrow-right",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]]),Wn=ge("unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);function An(n,e,t){const{isSelected:r}=e,{isPressed:l,buttonProps:s}=Ca({...n,onPress:Ea(e.toggle,n.onPress)},t);return{isPressed:l,isSelected:r,isDisabled:n.isDisabled||!1,buttonProps:po(s,{"aria-pressed":r})}}const es=U.createContext(null),ts=U.createContext({}),ns=U.forwardRef(function(n,e){[n,e]=ka(n,e,ts);let t=U.useContext(es),r=function(c={}){let{isReadOnly:p}=c,[m,h]=Na(c.isSelected,c.defaultSelected||!1,c.onChange);return{isSelected:m,setSelected:function(y){p||h(y)},toggle:function(){p||h(!m)}}}(t&&n.id!=null?{isSelected:t.selectedKeys.has(n.id),onChange(c){t.setSelected(n.id,c)}}:n),{buttonProps:l,isPressed:s,isSelected:u,isDisabled:f}=t&&n.id!=null?function(c,p,m){let h={isSelected:p.selectedKeys.has(c.id),setSelected(E){p.setSelected(c.id,E)},toggle(){p.toggleKey(c.id)}},{isPressed:y,isSelected:v,isDisabled:_,buttonProps:O}=An({...c,id:void 0,isDisabled:c.isDisabled||p.isDisabled},h,m);return p.selectionMode==="single"&&(O.role="radio",O["aria-checked"]=h.isSelected,delete O["aria-pressed"]),{isPressed:y,isSelected:v,isDisabled:_,buttonProps:O}}({...n,id:n.id},t,e):An({...n,id:n.id!=null?String(n.id):void 0},r,e),{focusProps:i,isFocused:d,isFocusVisible:g}=Ra(n),{hoverProps:b,isHovered:a}=Pa(n),o=Ma({...n,id:void 0,values:{isHovered:a,isPressed:s,isFocused:d,isSelected:r.isSelected,isFocusVisible:g,isDisabled:f,state:r},defaultClassName:"react-aria-ToggleButton"});return be.createElement("button",{...po(l,i,b),...o,ref:e,slot:n.slot||void 0,"data-focused":d||void 0,"data-disabled":f||void 0,"data-pressed":s||void 0,"data-selected":u||void 0,"data-hovered":a||void 0,"data-focus-visible":g||void 0})}),rs=n=>{const e=G.c(10),{title:t}=n,[r,l]=U.useState(t),[s,u]=U.useState(!0);let f,i,d;e[0]!==r||e[1]!==t?(f=()=>{if(t!==r){u(!1);const o=setTimeout(()=>{l(t),u(!0)},300);return()=>clearTimeout(o)}},i=[t,r],e[0]=r,e[1]=t,e[2]=f,e[3]=i):(f=e[2],i=e[3]),U.useEffect(f,i),e[4]===Symbol.for("react.memo_cache_sentinel")?(d=S.jsx(Ta,{className:"size-20 animate-spin text-primary","data-testid":"large-spinner",strokeWidth:1}),e[4]=d):d=e[4];const g=s?"opacity-100":"opacity-0";let b,a;return e[5]!==g?(b=ee("mt-2 text-muted-foreground font-semibold text-lg transition-opacity duration-300",g),e[5]=g,e[6]=b):b=e[6],e[7]!==r||e[8]!==b?(a=S.jsxs("div",{className:"flex flex-col h-full flex-1 items-center justify-center p-4",children:[d,S.jsx("div",{className:b,children:r})]}),e[7]=r,e[8]=b,e[9]=a):a=e[9],a},os=n=>{const e=G.c(2),{children:t}=n;if(!Ot())return t;let r;return e[0]!==t?(r=S.jsx(ss,{children:t}),e[0]=t,e[1]=r):r=e[1],r},ss=n=>{const e=G.c(3),{children:t}=n;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=[],e[0]=r):r=e[0];const{isPending:l,error:s}=za(as,r),u=Oe(La);if(l){let f;return e[1]===Symbol.for("react.memo_cache_sentinel")?(f=S.jsx(qn,{}),e[1]=f):f=e[1],f}if(!u&&fo()==="read"&&(Ia(lt.showCode,"false")||!Xt.get(mo))){let f;return e[2]===Symbol.for("react.memo_cache_sentinel")?(f=S.jsx(qn,{}),e[2]=f):f=e[2],f}if(s)throw s;return t},qn=n=>{const e=G.c(2),t=Oe(Ha);let r;return e[0]!==t?(r=S.jsx(rs,{title:t}),e[0]=t,e[1]=r):r=e[1],r};async function as(){return await go.INSTANCE.initialized.promise,!0}const is={idle:"./favicon.ico",success:"./circle-check.ico",running:"./circle-play.ico",error:"./circle-x.ico"},Tt=new Map;async function Ke(n){const e=Tt.get(n);if(e)return e;const t=await fetch(is[n]),r=await t.blob(),l=URL.createObjectURL(r);return Tt.set(n,l),l}const ls=n=>{const e=G.c(6),{isRunning:t}=n,r=Wa();let l,s=document.querySelector("link[rel~='icon']");s||(s=document.createElement("link"),s.rel="icon",document.getElementsByTagName("head")[0].append(s)),e[0]===Symbol.for("react.memo_cache_sentinel")?(l=[],e[0]=l):l=e[0],U.useEffect(ds,l),U.useEffect(()=>{!t&&s.href.includes("favicon")||(async()=>{let d;if(d=t?"running":r.length===0?"success":"error",s.href=await Ke(d),!document.hasFocus())return;const g=setTimeout(async()=>{s.href=await Ke("idle")},3e3)})()},[t,r,s]);const u=Aa(t)??t;let f,i;return e[1]!==r||e[2]!==t||e[3]!==u?(f=()=>{u&&!t&&function(d){if(document.visibilityState==="visible")return;const g=async()=>{d===0?new Notification("Execution completed",{body:"Your notebook run completed successfully.",icon:await Ke("success")}):new Notification("Execution failed",{body:`Your notebook run encountered ${d} error(s).`,icon:await Ke("error")})};"Notification"in window&&Notification.permission!=="denied"&&(Notification.permission==="granted"?g():Notification.permission==="default"&&Notification.requestPermission().then(b=>{b==="granted"&&g()}))}(r.length)},i=[r,u,t],e[1]=r,e[2]=t,e[3]=u,e[4]=f,e[5]=i):(f=e[4],i=e[5]),U.useEffect(f,i),qa(window,"focus",async d=>{t||(s.href=await Ke("idle"))}),null};function cs(n){return URL.revokeObjectURL(n)}function us(){Tt.forEach(cs)}function ds(){return us}function hs(){const{cellRuntime:n}=Xt.get(Ba),e=Kt.entries(n).find(([t,r])=>r.status==="running");e&&Fa(e[0],"focus")}const ps=n=>{const e=G.c(22),{connection:t,isRunning:r}=n,{mode:l}=Oe(Ga),s=t.state===De.CLOSED,u=t.state===De.OPEN;let f;e[0]!==t.canTakeover||e[1]!==s?(f=s&&!t.canTakeover&&S.jsx(ys,{}),e[0]=t.canTakeover,e[1]=s,e[2]=f):f=e[2];const i=l==="read"?"fixed":"absolute";let d,g,b,a,o,c;return e[3]!==i?(d=ee("z-50 top-4 left-4",i),e[3]=i,e[4]=d):d=e[4],e[5]!==u||e[6]!==r?(g=u&&r&&S.jsx(gs,{}),e[5]=u,e[6]=r,e[7]=g):g=e[7],e[8]!==t.canTakeover||e[9]!==s?(b=s&&!t.canTakeover&&S.jsx(fs,{}),e[8]=t.canTakeover,e[9]=s,e[10]=b):b=e[10],e[11]!==t.canTakeover||e[12]!==s?(a=s&&t.canTakeover&&S.jsx(ms,{}),e[11]=t.canTakeover,e[12]=s,e[13]=a):a=e[13],e[14]!==d||e[15]!==g||e[16]!==b||e[17]!==a?(o=S.jsxs("div",{className:d,children:[g,b,a]}),e[14]=d,e[15]=g,e[16]=b,e[17]=a,e[18]=o):o=e[18],e[19]!==f||e[20]!==o?(c=S.jsxs(S.Fragment,{children:[f,o]}),e[19]=f,e[20]=o,e[21]=c):c=e[21],c},zt="no-print pointer-events-auto hover:cursor-pointer",fs=()=>{const n=G.c(1);let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=S.jsx(we,{content:"App disconnected",children:S.jsx("div",{className:zt,children:S.jsx(Wn,{className:"w-[25px] h-[25px] text-[var(--red-11)]"})})}),n[0]=e):e=n[0],e},ms=()=>{const n=G.c(1);let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=S.jsx(we,{content:"Notebook locked",children:S.jsx("div",{className:zt,children:S.jsx(yo,{className:"w-[25px] h-[25px] text-[var(--blue-11)]"})})}),n[0]=e):e=n[0],e},gs=()=>{const n=G.c(1);let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=S.jsx(we,{content:"Jump to running cell",side:"right",children:S.jsx("div",{className:zt,"data-testid":"loading-indicator",onClick:hs,children:S.jsx(Tn,{className:"running-app-icon",size:30,strokeWidth:1})})}),n[0]=e):e=n[0],e},ys=()=>{const n=G.c(1);let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"noise"}),S.jsx("div",{className:"disconnected-gradient"})]}),n[0]=e):e=n[0],e},bs=Ja,vs=Qa,ws=$a(Va),Bn=be.forwardRef((n,e)=>{const t=G.c(9);let r,l,s,u;return t[0]!==n?({className:r,...l}=n,t[0]=n,t[1]=r,t[2]=l):(r=t[1],l=t[2]),t[3]!==r?(s=ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),t[3]=r,t[4]=s):s=t[4],t[5]!==l||t[6]!==e||t[7]!==s?(u=S.jsx(bo,{className:s,...l,ref:e}),t[5]=l,t[6]=e,t[7]=s,t[8]=u):u=t[8],u});Bn.displayName=bo.displayName;const xs=Ya("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Fn=be.forwardRef((n,e)=>{const t=G.c(15);let r,l,s,u;t[0]!==n?({side:u,className:l,children:r,...s}=n,t[0]=n,t[1]=r,t[2]=l,t[3]=s,t[4]=u):(r=t[1],l=t[2],s=t[3],u=t[4]);const f=u===void 0?"right":u;let i,d,g,b;return t[5]===Symbol.for("react.memo_cache_sentinel")?(i=S.jsx(Bn,{}),t[5]=i):i=t[5],t[6]!==l||t[7]!==f?(d=ee(xs({side:f}),l),t[6]=l,t[7]=f,t[8]=d):d=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(g=S.jsxs(Xa,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[S.jsx(Ka,{className:"h-4 w-4"}),S.jsx("span",{className:"sr-only",children:"Close"})]}),t[9]=g):g=t[9],t[10]!==r||t[11]!==s||t[12]!==e||t[13]!==d?(b=S.jsx(ws,{children:S.jsxs(Ua,{children:[i,S.jsxs(vo,{ref:e,className:d,...s,children:[r,g]})]})}),t[10]=r,t[11]=s,t[12]=e,t[13]=d,t[14]=b):b=t[14],b});Fn.displayName=vo.displayName,be.forwardRef((n,e)=>{const t=G.c(9);let r,l,s,u;return t[0]!==n?({className:r,...l}=n,t[0]=n,t[1]=r,t[2]=l):(r=t[1],l=t[2]),t[3]!==r?(s=ee("text-lg font-semibold text-foreground",r),t[3]=r,t[4]=s):s=t[4],t[5]!==l||t[6]!==e||t[7]!==s?(u=S.jsx(wo,{ref:e,className:s,...l}),t[5]=l,t[6]=e,t[7]=s,t[8]=u):u=t[8],u}).displayName=wo.displayName,be.forwardRef((n,e)=>{const t=G.c(9);let r,l,s,u;return t[0]!==n?({className:r,...l}=n,t[0]=n,t[1]=r,t[2]=l):(r=t[1],l=t[2]),t[3]!==r?(s=ee("text-sm text-muted-foreground",r),t[3]=r,t[4]=s):s=t[4],t[5]!==l||t[6]!==e||t[7]!==s?(u=S.jsx(xo,{ref:e,className:s,...l}),t[5]=l,t[6]=e,t[7]=s,t[8]=u):u=t[8],u}).displayName=xo.displayName;const Lt=U.memo(()=>{const n=G.c(1);let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=S.jsx(Za,{name:So.SIDEBAR}),n[0]=e):e=n[0],e});Lt.displayName="SidebarSlot";let Gn,$n,Vn,Yn,Un;Gn=n=>{const e=G.c(6),{openWidth:t}=n;let r,l,s,u;return e[0]===Symbol.for("react.memo_cache_sentinel")?(r=S.jsx(vs,{className:"lg:hidden",asChild:!0,children:S.jsx(Te,{variant:"ghost",className:"bg-background",children:S.jsx(gn,{className:"w-5 h-5"})})}),e[0]=r):r=e[0],e[1]!==t?(l={maxWidth:t},e[1]=t,e[2]=l):l=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(s=S.jsx(Lt,{}),e[3]=s):s=e[3],e[4]!==l?(u=S.jsxs(bs,{children:[r,S.jsx(Fn,{className:"w-full px-3 h-full flex flex-col overflow-y-auto",style:l,side:"left",children:s})]}),e[4]=l,e[5]=u):u=e[5],u},$n=n=>{const e=G.c(7),{isOpen:t,toggle:r}=n,l=t?"rotate-0":"rotate-180";let s,u,f;return e[0]!==l?(s=ee("h-5 w-5 transition-transform ease-in-out duration-700",l),e[0]=l,e[1]=s):s=e[1],e[2]!==s?(u=S.jsx(ei,{className:s}),e[2]=s,e[3]=u):u=e[3],e[4]!==u||e[5]!==r?(f=S.jsx("div",{className:"invisible lg:visible absolute top-[12px] right-[16px] z-20",children:S.jsx(Te,{onClick:r,className:"w-10 h-8",variant:"ghost",size:"icon",children:u})}),e[4]=u,e[5]=r,e[6]=f):f=e[6],f},Vn=n=>{const e=G.c(11),{isOpen:t,toggle:r,width:l}=n,s=t?l:ti;let u,f,i,d,g;return e[0]!==s?(u={width:s},e[0]=s,e[1]=u):u=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(f=ee("app-sidebar auto-collapse-nav","top-0 left-0 z-20 h-full hidden lg:block relative transition-[width] ease-in-out duration-300"),e[2]=f):f=e[2],e[3]!==t||e[4]!==r?(i=S.jsx($n,{isOpen:t,toggle:r}),e[3]=t,e[4]=r,e[5]=i):i=e[5],e[6]===Symbol.for("react.memo_cache_sentinel")?(d=S.jsx("div",{className:"relative h-full flex flex-col px-3 pb-16 pt-14 overflow-y-auto shadow-sm border-l",children:S.jsx(Lt,{})}),e[6]=d):d=e[6],e[7]!==t||e[8]!==u||e[9]!==i?(g=S.jsxs("aside",{"data-expanded":t,style:u,className:f,children:[i,d]}),e[7]=t,e[8]=u,e[9]=i,e[10]=g):g=e[10],g},Yn=n=>{const e=G.c(15),{children:t}=n,[r,l]=Qt(ni),{isOpen:s,width:u}=r;if(ri(So.SIDEBAR).length===0)return t;let f;e[0]!==u?(f=oi(u),e[0]=u,e[1]=f):f=e[1];const i=f;let d,g,b,a;return e[2]!==l||e[3]!==s?(d=()=>l({type:"toggle",isOpen:!s}),e[2]=l,e[3]=s,e[4]=d):d=e[4],e[5]!==s||e[6]!==i||e[7]!==d?(g=S.jsx(Vn,{isOpen:s,width:i,toggle:d}),e[5]=s,e[6]=i,e[7]=d,e[8]=g):g=e[8],e[9]!==i?(b=S.jsx("div",{className:"absolute top-3 left-4 flex items-center z-50",children:S.jsx(Gn,{openWidth:i})}),e[9]=i,e[10]=b):b=e[10],e[11]!==t||e[12]!==g||e[13]!==b?(a=S.jsxs("div",{className:"inset-0 absolute flex",children:[g,b,t]}),e[11]=t,e[12]=g,e[13]=b,e[14]=a):a=e[14],a},Vo=n=>{const e=G.c(18),{width:t,connection:r,isRunning:l,children:s}=n,u=r.state;let f,i;e[0]!==l?(f=S.jsx(ls,{isRunning:l}),e[0]=l,e[1]=f):f=e[1],e[2]!==r||e[3]!==l?(i=S.jsx(ps,{connection:r,isRunning:l}),e[2]=r,e[3]=l,e[4]=i):i=e[4];const d=u===De.CLOSED&&"disconnected",g=t==="full"&&"config-width-full",b=t==="columns"?"overflow-x-auto":"overflow-x-hidden";let a,o,c;return e[5]!==d||e[6]!==g||e[7]!==b?(a=ee("mathjax_ignore",d,"bg-background w-full h-full text-textColor","flex flex-col overflow-y-auto",g,b,"print:height-fit"),e[5]=d,e[6]=g,e[7]=b,e[8]=a):a=e[8],e[9]!==s||e[10]!==u||e[11]!==a||e[12]!==t?(o=S.jsx(os,{children:S.jsx(Yn,{children:S.jsx("div",{id:"App","data-config-width":t,"data-connection-state":u,className:a,children:s})})}),e[9]=s,e[10]=u,e[11]=a,e[12]=t,e[13]=o):o=e[13],e[14]!==f||e[15]!==i||e[16]!==o?(c=S.jsxs(S.Fragment,{children:[f,i,o]}),e[14]=f,e[15]=i,e[16]=o,e[17]=c):c=e[17],c},Un=n=>{const e=G.c(10),{reason:t,canTakeover:r}=n,l=r!==void 0&&r,s=Ss;if(l){let f,i,d,g;return e[0]===Symbol.for("react.memo_cache_sentinel")?(f=S.jsx("div",{className:"flex justify-between",children:S.jsx("span",{className:"font-bold text-xl flex items-center mb-2",children:"Notebook already connected"})}),e[0]=f):f=e[0],e[1]!==t?(i=S.jsx("span",{children:t}),e[1]=t,e[2]=i):i=e[2],e[3]!==l?(d=l&&S.jsxs(Te,{onClick:s,variant:"outline","data-testid":"takeover-button",className:"flex-shrink-0",children:[S.jsx(Hn,{className:"w-4 h-4 mr-2"}),"Take over session"]}),e[3]=l,e[4]=d):d=e[4],e[5]!==i||e[6]!==d?(g=S.jsx("div",{className:"flex justify-center",children:S.jsxs(si,{kind:"info",className:"mt-10 flex flex-col rounded p-3 max-w-[800px] mx-4",children:[f,S.jsxs("div",{className:"flex justify-between items-end text-base gap-20",children:[i,d]})]})}),e[5]=i,e[6]=d,e[7]=g):g=e[7],g}let u;return e[8]!==t?(u=S.jsx("div",{className:"font-mono text-center text-base text-[var(--red-11)]",children:S.jsx("p",{children:t})}),e[8]=t,e[9]=u):u=e[9],u};async function Ss(){try{const n=new URL(window.location.href).searchParams;await ai.post(`/kernel/takeover?${n.toString()}`,{}),_o()}catch(n){Jt({title:"Failed to take over session",description:jo(n),variant:"danger"})}}qo=n=>{const e=G.c(8),{connection:t,className:r,children:l}=n;let s,u;return e[0]!==t.canTakeover||e[1]!==t.reason||e[2]!==t.state?(s=t.state===De.CLOSED&&S.jsx(Un,{reason:t.reason,canTakeover:t.canTakeover}),e[0]=t.canTakeover,e[1]=t.reason,e[2]=t.state,e[3]=s):s=e[3],e[4]!==l||e[5]!==r||e[6]!==s?(u=S.jsxs("div",{className:r,children:[l,s]}),e[4]=l,e[5]=r,e[6]=s,e[7]=u):u=e[7],u};var Xn,Kn={exports:{}},Qe={},Qn={exports:{}};function It(){return Xn||(Xn=1,function(n){function e(z){return function(H,$,X,F,se,ne,oe){return z(H,$,oe)}}function t(z){return function(H,$,X,F){if(!H||!$||typeof H!="object"||typeof $!="object")return z(H,$,X,F);var se=F.get(H),ne=F.get($);if(se&&ne)return se===$&&ne===H;F.set(H,$),F.set($,H);var oe=z(H,$,X,F);return F.delete(H),F.delete($),oe}}function r(z,H){var $={};for(var X in z)$[X]=z[X];for(var X in H)$[X]=H[X];return $}function l(z){return z.constructor===Object||z.constructor==null}function s(z){return typeof z.then=="function"}function u(z,H){return z===H||z!=z&&H!=H}var f="[object Arguments]",i="[object Boolean]",d="[object Date]",g="[object RegExp]",b="[object Map]",a="[object Number]",o="[object Object]",c="[object Set]",p="[object String]",m=Object.prototype.toString;function h(z){var H=z.areArraysEqual,$=z.areDatesEqual,X=z.areMapsEqual,F=z.areObjectsEqual,se=z.areRegExpsEqual,ne=z.areSetsEqual,oe=(0,z.createIsNestedEqual)(le);function le(Z,Q,ce){if(Z===Q)return!0;if(!Z||!Q||typeof Z!="object"||typeof Q!="object")return Z!=Z&&Q!=Q;if(l(Z)&&l(Q))return F(Z,Q,oe,ce);var fe=Array.isArray(Z),ke=Array.isArray(Q);if(fe||ke)return fe===ke&&H(Z,Q,oe,ce);var he=m.call(Z);return he===m.call(Q)&&(he===d?$(Z,Q,oe,ce):he===g?se(Z,Q,oe,ce):he===b?X(Z,Q,oe,ce):he===c?ne(Z,Q,oe,ce):he===o||he===f?!s(Z)&&!s(Q)&&F(Z,Q,oe,ce):(he===i||he===a||he===p)&&u(Z.valueOf(),Q.valueOf()))}return le}function y(z,H,$,X){var F=z.length;if(H.length!==F)return!1;for(;F-- >0;)if(!$(z[F],H[F],F,F,z,H,X))return!1;return!0}var v=t(y);function _(z,H){return u(z.valueOf(),H.valueOf())}function O(z,H,$,X){var F=z.size===H.size;if(!F)return!1;if(!z.size)return!0;var se={},ne=0;return z.forEach(function(oe,le){if(F){var Z=!1,Q=0;H.forEach(function(ce,fe){Z||se[Q]||!(Z=$(le,fe,ne,Q,z,H,X)&&$(oe,ce,le,fe,z,H,X))||(se[Q]=!0),Q++}),ne++,F=Z}}),F}var E=t(O),k="_owner",T=Object.prototype.hasOwnProperty;function L(z,H,$,X){var F,se=Object.keys(z),ne=se.length;if(Object.keys(H).length!==ne)return!1;for(;ne-- >0;){if((F=se[ne])===k){var oe=!!z.$$typeof,le=!!H.$$typeof;if((oe||le)&&oe!==le)return!1}if(!T.call(H,F)||!$(z[F],H[F],F,F,z,H,X))return!1}return!0}var N=t(L);function P(z,H){return z.source===H.source&&z.flags===H.flags}function M(z,H,$,X){var F=z.size===H.size;if(!F)return!1;if(!z.size)return!0;var se={};return z.forEach(function(ne,oe){if(F){var le=!1,Z=0;H.forEach(function(Q,ce){le||se[Z]||!(le=$(ne,Q,oe,ce,z,H,X))||(se[Z]=!0),Z++}),F=le}}),F}var q=t(M),A=Object.freeze({areArraysEqual:y,areDatesEqual:_,areMapsEqual:O,areObjectsEqual:L,areRegExpsEqual:P,areSetsEqual:M,createIsNestedEqual:e}),W=Object.freeze({areArraysEqual:v,areDatesEqual:_,areMapsEqual:E,areObjectsEqual:N,areRegExpsEqual:P,areSetsEqual:q,createIsNestedEqual:e}),x=h(A);function w(z,H){return x(z,H,void 0)}var j=h(r(A,{createIsNestedEqual:function(){return u}}));function C(z,H){return j(z,H,void 0)}var D=h(W);function R(z,H){return D(z,H,new WeakMap)}var I=h(r(W,{createIsNestedEqual:function(){return u}}));function B(z,H){return I(z,H,new WeakMap)}function Y(z){return h(r(A,z(A)))}function te(z){var H=h(r(W,z(W)));return function($,X,F){return F===void 0&&(F=new WeakMap),H($,X,F)}}n.circularDeepEqual=R,n.circularShallowEqual=B,n.createCustomCircularEqual=te,n.createCustomEqual=Y,n.deepEqual=w,n.sameValueZeroEqual=u,n.shallowEqual=C,Object.defineProperty(n,"__esModule",{value:!0})}(Qn.exports)),Qn.exports}var Jn,pt={exports:{}};function ft(){if(Jn)return pt.exports;function n(t){var r,l,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var u=t.length;for(r=0;r<u;r++)t[r]&&(l=n(t[r]))&&(s&&(s+=" "),s+=l)}else for(l in t)t[l]&&(s&&(s+=" "),s+=l);return s}function e(){for(var t,r,l=0,s="",u=arguments.length;l<u;l++)(t=arguments[l])&&(r=n(t))&&(s&&(s+=" "),s+=r);return s}return Jn=1,pt.exports=e,pt.exports.clsx=e,pt.exports}var Zn,er,tr,K={};function $e(){if(tr)return K;tr=1,Object.defineProperty(K,"__esModule",{value:!0}),K.bottom=r,K.childrenEqual=function(x,w){return(0,e.deepEqual)(t.default.Children.map(x,j=>j==null?void 0:j.key),t.default.Children.map(w,j=>j==null?void 0:j.key))&&(0,e.deepEqual)(t.default.Children.map(x,j=>j==null?void 0:j.props["data-grid"]),t.default.Children.map(w,j=>j==null?void 0:j.props["data-grid"]))},K.cloneLayout=l,K.cloneLayoutItem=u,K.collides=f,K.compact=i,K.compactItem=b,K.compactType=function(x){const{verticalCompact:w,compactType:j}=x||{};return w===!1?null:j},K.correctBounds=a,K.fastPositionEqual=function(x,w){return x.left===w.left&&x.top===w.top&&x.width===w.width&&x.height===w.height},K.fastRGLPropsEqual=void 0,K.getAllCollisions=p,K.getFirstCollision=c,K.getLayoutItem=o,K.getStatics=m,K.modifyLayout=s,K.moveElement=h,K.moveElementAwayFromCollision=y,K.noop=void 0,K.perc=function(x){return 100*x+"%"},K.resizeItemInDirection=function(x,w,j,C){const D=P[x];return D?D(w,{...w,...j},C):j},K.setTopLeft=function(x){let{top:w,left:j,width:C,height:D}=x;return{top:`${w}px`,left:`${j}px`,width:`${C}px`,height:`${D}px`,position:"absolute"}},K.setTransform=function(x){let{top:w,left:j,width:C,height:D}=x;const R=`translate(${j}px,${w}px)`;return{transform:R,WebkitTransform:R,MozTransform:R,msTransform:R,OTransform:R,width:`${C}px`,height:`${D}px`,position:"absolute"}},K.sortLayoutItems=M,K.sortLayoutItemsByColRow=A,K.sortLayoutItemsByRowCol=q,K.synchronizeLayoutWithChildren=function(x,w,j,C,D){x=x||[];const R=[];t.default.Children.forEach(w,B=>{if((B==null?void 0:B.key)==null)return;const Y=o(x,String(B.key)),te=B.props["data-grid"];Y&&te==null?R.push(u(Y)):te?R.push(u({...te,i:B.key})):R.push(u({w:1,h:1,x:0,y:r(R),i:String(B.key)}))});const I=a(R,{cols:j});return D?I:i(I,C,j)},K.validateLayout=function(x){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout";const j=["x","y","w","h"];if(!Array.isArray(x))throw new Error(w+" must be an array!");for(let C=0,D=x.length;C<D;C++){const R=x[C];for(let I=0;I<j.length;I++){const B=j[I],Y=R[B];if(typeof Y!="number"||Number.isNaN(Y))throw new Error(`ReactGridLayout: ${w}[${C}].${B} must be a number! Received: ${Y} (${typeof Y})`)}if(R.i!==void 0&&typeof R.i!="string")throw new Error(`ReactGridLayout: ${w}[${C}].i must be a string! Received: ${R.i} (${typeof R.i})`)}},K.withLayoutItem=function(x,w,j){let C=o(x,w);return C?(C=j(u(C)),[x=s(x,C),C]):[x,null]};var n,e=It(),t=(n=xe())&&n.__esModule?n:{default:n};function r(x){let w,j=0;for(let C=0,D=x.length;C<D;C++)w=x[C].y+x[C].h,w>j&&(j=w);return j}function l(x){const w=Array(x.length);for(let j=0,C=x.length;j<C;j++)w[j]=u(x[j]);return w}function s(x,w){const j=Array(x.length);for(let C=0,D=x.length;C<D;C++)w.i===x[C].i?j[C]=w:j[C]=x[C];return j}function u(x){return{w:x.w,h:x.h,x:x.x,y:x.y,i:x.i,minW:x.minW,maxW:x.maxW,minH:x.minH,maxH:x.maxH,moved:!!x.moved,static:!!x.static,isDraggable:x.isDraggable,isResizable:x.isResizable,resizeHandles:x.resizeHandles,isBounded:x.isBounded}}function f(x,w){return x.i!==w.i&&!(x.x+x.w<=w.x)&&!(x.x>=w.x+w.w)&&!(x.y+x.h<=w.y)&&!(x.y>=w.y+w.h)}function i(x,w,j,C){const D=m(x),R=M(x,w),I=Array(x.length);for(let B=0,Y=R.length;B<Y;B++){let te=u(R[B]);te.static||(te=b(D,te,w,j,R,C),D.push(te)),I[x.indexOf(R[B])]=te,te.moved=!1}return I}K.fastRGLPropsEqual=er?Zn:(er=1,Zn=function(x,w,j){return x===w||x.className===w.className&&j(x.style,w.style)&&x.width===w.width&&x.autoSize===w.autoSize&&x.cols===w.cols&&x.draggableCancel===w.draggableCancel&&x.draggableHandle===w.draggableHandle&&j(x.verticalCompact,w.verticalCompact)&&j(x.compactType,w.compactType)&&j(x.layout,w.layout)&&j(x.margin,w.margin)&&j(x.containerPadding,w.containerPadding)&&x.rowHeight===w.rowHeight&&x.maxRows===w.maxRows&&x.isBounded===w.isBounded&&x.isDraggable===w.isDraggable&&x.isResizable===w.isResizable&&x.allowOverlap===w.allowOverlap&&x.preventCollision===w.preventCollision&&x.useCSSTransforms===w.useCSSTransforms&&x.transformScale===w.transformScale&&x.isDroppable===w.isDroppable&&j(x.resizeHandles,w.resizeHandles)&&j(x.resizeHandle,w.resizeHandle)&&x.onLayoutChange===w.onLayoutChange&&x.onDragStart===w.onDragStart&&x.onDrag===w.onDrag&&x.onDragStop===w.onDragStop&&x.onResizeStart===w.onResizeStart&&x.onResize===w.onResize&&x.onResizeStop===w.onResizeStop&&x.onDrop===w.onDrop&&j(x.droppingItem,w.droppingItem)&&j(x.innerRef,w.innerRef)});const d={x:"w",y:"h"};function g(x,w,j,C){const D=d[C];w[C]+=1;for(let R=x.map(I=>I.i).indexOf(w.i)+1;R<x.length;R++){const I=x[R];if(!I.static){if(I.y>w.y+w.h)break;f(w,I)&&g(x,I,j+w[D],C)}}w[C]=j}function b(x,w,j,C,D,R){const I=j==="horizontal";if(j==="vertical")for(w.y=Math.min(r(x),w.y);w.y>0&&!c(x,w);)w.y--;else if(I)for(;w.x>0&&!c(x,w);)w.x--;let B;for(;(B=c(x,w))&&(j!==null||!R);)if(I?g(D,w,B.x+B.w,"x"):g(D,w,B.y+B.h,"y"),I&&w.x+w.w>C)for(w.x=C-w.w,w.y++;w.x>0&&!c(x,w);)w.x--;return w.y=Math.max(w.y,0),w.x=Math.max(w.x,0),w}function a(x,w){const j=m(x);for(let C=0,D=x.length;C<D;C++){const R=x[C];if(R.x+R.w>w.cols&&(R.x=w.cols-R.w),R.x<0&&(R.x=0,R.w=w.cols),R.static)for(;c(j,R);)R.y++;else j.push(R)}return x}function o(x,w){for(let j=0,C=x.length;j<C;j++)if(x[j].i===w)return x[j]}function c(x,w){for(let j=0,C=x.length;j<C;j++)if(f(x[j],w))return x[j]}function p(x,w){return x.filter(j=>f(j,w))}function m(x){return x.filter(w=>w.static)}function h(x,w,j,C,D,R,I,B,Y){if(w.static&&w.isDraggable!==!0||w.y===C&&w.x===j)return x;w.i,String(j),String(C),w.x,w.y;const te=w.x,z=w.y;typeof j=="number"&&(w.x=j),typeof C=="number"&&(w.y=C),w.moved=!0;let H=M(x,I);(I==="vertical"&&typeof C=="number"?z>=C:I==="horizontal"&&typeof j=="number"&&te>=j)&&(H=H.reverse());const $=p(H,w),X=$.length>0;if(X&&Y)return l(x);if(X&&R)return w.i,w.x=te,w.y=z,w.moved=!1,x;for(let F=0,se=$.length;F<se;F++){const ne=$[F];w.i,w.x,w.y,ne.i,ne.x,ne.y,ne.moved||(x=ne.static?y(x,ne,w,D,I):y(x,w,ne,D,I))}return x}function y(x,w,j,C,D,R){const I=D==="horizontal",B=D==="vertical",Y=w.static;if(C){C=!1;const H={x:I?Math.max(w.x-j.w,0):j.x,y:B?Math.max(w.y-j.h,0):j.y,w:j.w,h:j.h,i:"-1"},$=c(x,H),X=$&&$.y+$.h>w.y,F=$&&w.x+w.w>$.x;if(!$)return j.i,H.x,H.y,h(x,j,I?H.x:void 0,B?H.y:void 0,C,Y,D);if(X&&B)return h(x,j,void 0,w.y+1,C,Y,D);if(X&&D==null)return w.y=j.y,j.y=j.y+j.h,x;if(F&&I)return h(x,w,j.x,void 0,C,Y,D)}const te=I?j.x+1:void 0,z=B?j.y+1:void 0;return te==null&&z==null?x:h(x,j,I?j.x+1:void 0,B?j.y+1:void 0,C,Y,D)}const v=(x,w,j,C)=>x+j>C?w:j,_=(x,w,j)=>x<0?w:j,O=x=>Math.max(0,x),E=x=>Math.max(0,x),k=(x,w,j)=>{let{left:C,height:D,width:R}=w;const I=x.top-(D-x.height);return{left:C,width:R,height:_(I,x.height,D),top:E(I)}},T=(x,w,j)=>{let{top:C,left:D,height:R,width:I}=w;return{top:C,height:R,width:v(x.left,x.width,I,j),left:O(D)}},L=(x,w,j)=>{let{top:C,height:D,width:R}=w;const I=x.left-(R-x.width);return{height:D,width:I<0?x.width:v(x.left,x.width,R,j),top:E(C),left:O(I)}},N=(x,w,j)=>{let{top:C,left:D,height:R,width:I}=w;return{width:I,left:D,height:_(C,x.height,R),top:E(C)}},P={n:k,ne:function(){return k(arguments.length<=0?void 0:arguments[0],T(...arguments))},e:T,se:function(){return N(arguments.length<=0?void 0:arguments[0],T(...arguments))},s:N,sw:function(){return N(arguments.length<=0?void 0:arguments[0],L(...arguments))},w:L,nw:function(){return k(arguments.length<=0?void 0:arguments[0],L(...arguments))}};function M(x,w){return w==="horizontal"?A(x):w==="vertical"?q(x):x}function q(x){return x.slice(0).sort(function(w,j){return w.y>j.y||w.y===j.y&&w.x>j.x?1:w.y===j.y&&w.x===j.x?0:-1})}function A(x){return x.slice(0).sort(function(w,j){return w.x>j.x||w.x===j.x&&w.y>j.y?1:-1})}function W(){}return K.noop=()=>{},K}var nr,Ee={};function Ht(){if(nr)return Ee;function n(r){const{margin:l,containerPadding:s,containerWidth:u,cols:f}=r;return(u-l[0]*(f-1)-2*s[0])/f}function e(r,l,s){return Number.isFinite(r)?Math.round(l*r+Math.max(0,r-1)*s):r}function t(r,l,s){return Math.max(Math.min(r,s),l)}return nr=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.calcGridColWidth=n,Ee.calcGridItemPosition=function(r,l,s,u,f,i){const{margin:d,containerPadding:g,rowHeight:b}=r,a=n(r),o={};return i&&i.resizing?(o.width=Math.round(i.resizing.width),o.height=Math.round(i.resizing.height)):(o.width=e(u,a,d[0]),o.height=e(f,b,d[1])),i&&i.dragging?(o.top=Math.round(i.dragging.top),o.left=Math.round(i.dragging.left)):i&&i.resizing&&typeof i.resizing.top=="number"&&typeof i.resizing.left=="number"?(o.top=Math.round(i.resizing.top),o.left=Math.round(i.resizing.left)):(o.top=Math.round((b+d[1])*s+g[1]),o.left=Math.round((a+d[0])*l+g[0])),o},Ee.calcGridItemWHPx=e,Ee.calcWH=function(r,l,s,u,f,i){const{margin:d,maxRows:g,cols:b,rowHeight:a}=r,o=n(r);let c=Math.round((l+d[0])/(o+d[0])),p=Math.round((s+d[1])/(a+d[1])),m=t(c,0,b-u),h=t(p,0,g-f);return["sw","w","nw"].indexOf(i)!==-1&&(m=t(c,0,b)),["nw","n","ne"].indexOf(i)!==-1&&(h=t(p,0,g)),{w:m,h}},Ee.calcXY=function(r,l,s,u,f){const{margin:i,containerPadding:d,cols:g,rowHeight:b,maxRows:a}=r,o=n(r);let c=Math.round((s-d[0])/(o+i[0])),p=Math.round((l-d[1])/(b+i[1]));return c=t(c,0,g-u),p=t(p,0,a-f),{x:c,y:p}},Ee.clamp=t,Ee}var rr,Je={},Ze={exports:{}},or={},ie={},Ie={};function mt(){return rr||(rr=1,Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.dontSetMe=function(n,e,t){if(n[e])return new Error(`Invalid prop ${e} passed to ${t} - do not set this, set it on the child.`)},Ie.findInArray=function(n,e){for(let t=0,r=n.length;t<r;t++)if(e.apply(e,[n[t],t,n]))return n[t]},Ie.int=function(n){return parseInt(n,10)},Ie.isFunction=function(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Function]"},Ie.isNum=function(n){return typeof n=="number"&&!isNaN(n)}),Ie}var sr,ar,He={};function Wt(){if(ar)return ie;ar=1,Object.defineProperty(ie,"__esModule",{value:!0}),ie.addClassName=u,ie.addEvent=function(i,d,g,b){if(!i)return;const a={capture:!0,...b};i.addEventListener?i.addEventListener(d,g,a):i.attachEvent?i.attachEvent("on"+d,g):i["on"+d]=g},ie.addUserSelectStyles=function(i){if(!i)return;let d=i.getElementById("react-draggable-style-el");d||(d=i.createElement("style"),d.type="text/css",d.id="react-draggable-style-el",d.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,d.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,i.getElementsByTagName("head")[0].appendChild(d)),i.body&&u(i.body,"react-draggable-transparent-selection")},ie.createCSSTransform=function(i,d){const g=l(i,d,"px");return{[(0,e.browserPrefixToKey)("transform",e.default)]:g}},ie.createSVGTransform=function(i,d){return l(i,d,"")},ie.getTouch=function(i,d){return i.targetTouches&&(0,n.findInArray)(i.targetTouches,g=>d===g.identifier)||i.changedTouches&&(0,n.findInArray)(i.changedTouches,g=>d===g.identifier)},ie.getTouchIdentifier=function(i){if(i.targetTouches&&i.targetTouches[0])return i.targetTouches[0].identifier;if(i.changedTouches&&i.changedTouches[0])return i.changedTouches[0].identifier},ie.getTranslation=l,ie.innerHeight=function(i){let d=i.clientHeight;const g=i.ownerDocument.defaultView.getComputedStyle(i);return d-=(0,n.int)(g.paddingTop),d-=(0,n.int)(g.paddingBottom),d},ie.innerWidth=function(i){let d=i.clientWidth;const g=i.ownerDocument.defaultView.getComputedStyle(i);return d-=(0,n.int)(g.paddingLeft),d-=(0,n.int)(g.paddingRight),d},ie.matchesSelector=r,ie.matchesSelectorAndParentsTo=function(i,d,g){let b=i;do{if(r(b,d))return!0;if(b===g)return!1;b=b.parentNode}while(b);return!1},ie.offsetXYFromParent=function(i,d,g){const b=d===d.ownerDocument.body?{left:0,top:0}:d.getBoundingClientRect(),a=(i.clientX+d.scrollLeft-b.left)/g,o=(i.clientY+d.scrollTop-b.top)/g;return{x:a,y:o}},ie.outerHeight=function(i){let d=i.clientHeight;const g=i.ownerDocument.defaultView.getComputedStyle(i);return d+=(0,n.int)(g.borderTopWidth),d+=(0,n.int)(g.borderBottomWidth),d},ie.outerWidth=function(i){let d=i.clientWidth;const g=i.ownerDocument.defaultView.getComputedStyle(i);return d+=(0,n.int)(g.borderLeftWidth),d+=(0,n.int)(g.borderRightWidth),d},ie.removeClassName=f,ie.removeEvent=function(i,d,g,b){if(!i)return;const a={capture:!0,...b};i.removeEventListener?i.removeEventListener(d,g,a):i.detachEvent?i.detachEvent("on"+d,g):i["on"+d]=null},ie.scheduleRemoveUserSelectStyles=function(i){window.requestAnimationFrame?window.requestAnimationFrame(()=>{s(i)}):s(i)};var n=mt(),e=function(i,d){if(typeof WeakMap=="function")var g=new WeakMap,b=new WeakMap;return function(a,o){if(!o&&a&&a.__esModule)return a;var c,p,m={__proto__:null,default:a};if(a===null||typeof a!="object"&&typeof a!="function")return m;if(c=o?b:g){if(c.has(a))return c.get(a);c.set(a,m)}for(const h in a)h!=="default"&&{}.hasOwnProperty.call(a,h)&&((p=(c=Object.defineProperty)&&Object.getOwnPropertyDescriptor(a,h))&&(p.get||p.set)?c(m,h,p):m[h]=a[h]);return m}(i,d)}(function(){if(sr)return He;sr=1,Object.defineProperty(He,"__esModule",{value:!0}),He.browserPrefixToKey=g,He.browserPrefixToStyle=function(b,a){return a?`-${a.toLowerCase()}-${b}`:b},He.default=void 0,He.getPrefix=d;const i=["Moz","Webkit","O","ms"];function d(){var o,c;let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const a=(c=(o=window.document)==null?void 0:o.documentElement)==null?void 0:c.style;if(!a||b in a)return"";for(let p=0;p<i.length;p++)if(g(b,i[p])in a)return i[p];return""}function g(b,a){return a?`${a}${function(o){let c="",p=!0;for(let m=0;m<o.length;m++)p?(c+=o[m].toUpperCase(),p=!1):o[m]==="-"?p=!0:c+=o[m];return c}(b)}`:b}return He.default=d(),He}());let t="";function r(i,d){return t||(t=(0,n.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(g){return(0,n.isFunction)(i[g])})),!!(0,n.isFunction)(i[t])&&i[t](d)}function l(i,d,g){let{x:b,y:a}=i,o=`translate(${b}${g},${a}${g})`;return d&&(o=`translate(${`${typeof d.x=="string"?d.x:d.x+g}`}, ${`${typeof d.y=="string"?d.y:d.y+g}`})`+o),o}function s(i){if(i)try{if(i.body&&f(i.body,"react-draggable-transparent-selection"),i.selection)i.selection.empty();else{const d=(i.defaultView||window).getSelection();d&&d.type!=="Caret"&&d.removeAllRanges()}}catch{}}function u(i,d){i.classList?i.classList.add(d):i.className.match(new RegExp(`(?:^|\\s)${d}(?!\\S)`))||(i.className+=` ${d}`)}function f(i,d){i.classList?i.classList.remove(d):i.className=i.className.replace(new RegExp(`(?:^|\\s)${d}(?!\\S)`,"g"),"")}return ie}var ir,je={};function lr(){if(ir)return je;ir=1,Object.defineProperty(je,"__esModule",{value:!0}),je.canDragX=function(r){return r.props.axis==="both"||r.props.axis==="x"},je.canDragY=function(r){return r.props.axis==="both"||r.props.axis==="y"},je.createCoreData=function(r,l,s){const u=!(0,n.isNum)(r.lastX),f=t(r);return u?{node:f,deltaX:0,deltaY:0,lastX:l,lastY:s,x:l,y:s}:{node:f,deltaX:l-r.lastX,deltaY:s-r.lastY,lastX:r.lastX,lastY:r.lastY,x:l,y:s}},je.createDraggableData=function(r,l){const s=r.props.scale;return{node:l.node,x:r.state.x+l.deltaX/s,y:r.state.y+l.deltaY/s,deltaX:l.deltaX/s,deltaY:l.deltaY/s,lastX:r.state.x,lastY:r.state.y}},je.getBoundPosition=function(r,l,s){if(!r.props.bounds)return[l,s];let{bounds:u}=r.props;u=typeof u=="string"?u:function(i){return{left:i.left,top:i.top,right:i.right,bottom:i.bottom}}(u);const f=t(r);if(typeof u=="string"){const{ownerDocument:i}=f,d=i.defaultView;let g;if(u==="parent"?g=f.parentNode:g=f.getRootNode().querySelector(u),!(g instanceof d.HTMLElement))throw new Error('Bounds selector "'+u+'" could not find an element.');const b=g,a=d.getComputedStyle(f),o=d.getComputedStyle(b);u={left:-f.offsetLeft+(0,n.int)(o.paddingLeft)+(0,n.int)(a.marginLeft),top:-f.offsetTop+(0,n.int)(o.paddingTop)+(0,n.int)(a.marginTop),right:(0,e.innerWidth)(b)-(0,e.outerWidth)(f)-f.offsetLeft+(0,n.int)(o.paddingRight)-(0,n.int)(a.marginRight),bottom:(0,e.innerHeight)(b)-(0,e.outerHeight)(f)-f.offsetTop+(0,n.int)(o.paddingBottom)-(0,n.int)(a.marginBottom)}}return(0,n.isNum)(u.right)&&(l=Math.min(l,u.right)),(0,n.isNum)(u.bottom)&&(s=Math.min(s,u.bottom)),(0,n.isNum)(u.left)&&(l=Math.max(l,u.left)),(0,n.isNum)(u.top)&&(s=Math.max(s,u.top)),[l,s]},je.getControlPosition=function(r,l,s){const u=typeof l=="number"?(0,e.getTouch)(r,l):null;if(typeof l=="number"&&!u)return null;const f=t(s),i=s.props.offsetParent||f.offsetParent||f.ownerDocument.body;return(0,e.offsetXYFromParent)(u||r,i,s.props.scale)},je.snapToGrid=function(r,l,s){const u=Math.round(l/r[0])*r[0],f=Math.round(s/r[1])*r[1];return[u,f]};var n=mt(),e=Wt();function t(r){const l=r.findDOMNode();if(!l)throw new Error("<DraggableCore>: Unmounted during event!");return l}return je}var cr,ur,dr,hr,et={},gt={};function pr(){return cr||(cr=1,Object.defineProperty(gt,"__esModule",{value:!0}),gt.default=function(){}),gt}function _s(){if(ur)return et;ur=1,Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var n=function(o,c){if(typeof WeakMap=="function")var p=new WeakMap,m=new WeakMap;return function(h,y){if(!y&&h&&h.__esModule)return h;var v,_,O={__proto__:null,default:h};if(h===null||typeof h!="object"&&typeof h!="function")return O;if(v=y?m:p){if(v.has(h))return v.get(h);v.set(h,O)}for(const E in h)E!=="default"&&{}.hasOwnProperty.call(h,E)&&((_=(v=Object.defineProperty)&&Object.getOwnPropertyDescriptor(h,E))&&(_.get||_.set)?v(O,E,_):O[E]=h[E]);return O}(o,c)}(xe()),e=f(qe()),t=f(Zt()),r=Wt(),l=lr(),s=mt(),u=f(pr());function f(o){return o&&o.__esModule?o:{default:o}}function i(o,c,p){return(c=function(m){var h=function(y,v){if(typeof y!="object"||!y)return y;var _=y[Symbol.toPrimitive];if(_!==void 0){var O=_.call(y,v);if(typeof O!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(y)}(m,"string");return typeof h=="symbol"?h:h+""}(c))in o?Object.defineProperty(o,c,{value:p,enumerable:!0,configurable:!0,writable:!0}):o[c]=p,o}const d={start:"touchstart",move:"touchmove",stop:"touchend"},g={start:"mousedown",move:"mousemove",stop:"mouseup"};let b=g,a=class extends n.Component{constructor(){super(...arguments),i(this,"dragging",!1),i(this,"lastX",NaN),i(this,"lastY",NaN),i(this,"touchIdentifier",null),i(this,"mounted",!1),i(this,"handleDragStart",o=>{if(this.props.onMouseDown(o),!this.props.allowAnyClick&&typeof o.button=="number"&&o.button!==0)return!1;const c=this.findDOMNode();if(!c||!c.ownerDocument||!c.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:p}=c;if(this.props.disabled||!(o.target instanceof p.defaultView.Node)||this.props.handle&&!(0,r.matchesSelectorAndParentsTo)(o.target,this.props.handle,c)||this.props.cancel&&(0,r.matchesSelectorAndParentsTo)(o.target,this.props.cancel,c))return;o.type!=="touchstart"||this.props.allowMobileScroll||o.preventDefault();const m=(0,r.getTouchIdentifier)(o);this.touchIdentifier=m;const h=(0,l.getControlPosition)(o,m,this);if(h==null)return;const{x:y,y:v}=h,_=(0,l.createCoreData)(this,y,v);(0,u.default)("DraggableCore: handleDragStart: %j",_),(0,u.default)("calling",this.props.onStart),this.props.onStart(o,_)!==!1&&this.mounted!==!1&&(this.props.enableUserSelectHack&&(0,r.addUserSelectStyles)(p),this.dragging=!0,this.lastX=y,this.lastY=v,(0,r.addEvent)(p,b.move,this.handleDrag),(0,r.addEvent)(p,b.stop,this.handleDragStop))}),i(this,"handleDrag",o=>{const c=(0,l.getControlPosition)(o,this.touchIdentifier,this);if(c==null)return;let{x:p,y:m}=c;if(Array.isArray(this.props.grid)){let y=p-this.lastX,v=m-this.lastY;if([y,v]=(0,l.snapToGrid)(this.props.grid,y,v),!y&&!v)return;p=this.lastX+y,m=this.lastY+v}const h=(0,l.createCoreData)(this,p,m);if((0,u.default)("DraggableCore: handleDrag: %j",h),this.props.onDrag(o,h)!==!1&&this.mounted!==!1)this.lastX=p,this.lastY=m;else try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const v=document.createEvent("MouseEvents");v.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(v)}}),i(this,"handleDragStop",o=>{if(!this.dragging)return;const c=(0,l.getControlPosition)(o,this.touchIdentifier,this);if(c==null)return;let{x:p,y:m}=c;if(Array.isArray(this.props.grid)){let v=p-this.lastX||0,_=m-this.lastY||0;[v,_]=(0,l.snapToGrid)(this.props.grid,v,_),p=this.lastX+v,m=this.lastY+_}const h=(0,l.createCoreData)(this,p,m);if(this.props.onStop(o,h)===!1||this.mounted===!1)return!1;const y=this.findDOMNode();y&&this.props.enableUserSelectHack&&(0,r.scheduleRemoveUserSelectStyles)(y.ownerDocument),(0,u.default)("DraggableCore: handleDragStop: %j",h),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,y&&((0,u.default)("DraggableCore: Removing handlers"),(0,r.removeEvent)(y.ownerDocument,b.move,this.handleDrag),(0,r.removeEvent)(y.ownerDocument,b.stop,this.handleDragStop))}),i(this,"onMouseDown",o=>(b=g,this.handleDragStart(o))),i(this,"onMouseUp",o=>(b=g,this.handleDragStop(o))),i(this,"onTouchStart",o=>(b=d,this.handleDragStart(o))),i(this,"onTouchEnd",o=>(b=d,this.handleDragStop(o)))}componentDidMount(){this.mounted=!0;const o=this.findDOMNode();o&&(0,r.addEvent)(o,d.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const o=this.findDOMNode();if(o){const{ownerDocument:c}=o;(0,r.removeEvent)(c,g.move,this.handleDrag),(0,r.removeEvent)(c,d.move,this.handleDrag),(0,r.removeEvent)(c,g.stop,this.handleDragStop),(0,r.removeEvent)(c,d.stop,this.handleDragStop),(0,r.removeEvent)(o,d.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,r.scheduleRemoveUserSelectStyles)(c)}}findDOMNode(){var o,c,p;return(o=this.props)!=null&&o.nodeRef?(p=(c=this.props)==null?void 0:c.nodeRef)==null?void 0:p.current:t.default.findDOMNode(this)}render(){return n.cloneElement(n.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return et.default=a,i(a,"displayName","DraggableCore"),i(a,"propTypes",{allowAnyClick:e.default.bool,allowMobileScroll:e.default.bool,children:e.default.node.isRequired,disabled:e.default.bool,enableUserSelectHack:e.default.bool,offsetParent:function(o,c){if(o[c]&&o[c].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:e.default.arrayOf(e.default.number),handle:e.default.string,cancel:e.default.string,nodeRef:e.default.object,onStart:e.default.func,onDrag:e.default.func,onStop:e.default.func,onMouseDown:e.default.func,scale:e.default.number,className:s.dontSetMe,style:s.dontSetMe,transform:s.dontSetMe}),i(a,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),et}function js(){return dr||(dr=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DraggableCore",{enumerable:!0,get:function(){return i.default}}),n.default=void 0;var e=function(c,p){if(typeof WeakMap=="function")var m=new WeakMap,h=new WeakMap;return function(y,v){if(!v&&y&&y.__esModule)return y;var _,O,E={__proto__:null,default:y};if(y===null||typeof y!="object"&&typeof y!="function")return E;if(_=v?h:m){if(_.has(y))return _.get(y);_.set(y,E)}for(const k in y)k!=="default"&&{}.hasOwnProperty.call(y,k)&&((O=(_=Object.defineProperty)&&Object.getOwnPropertyDescriptor(y,k))&&(O.get||O.set)?_(E,k,O):E[k]=y[k]);return E}(c,p)}(xe()),t=g(qe()),r=g(Zt()),l=ft(),s=Wt(),u=lr(),f=mt(),i=g(_s()),d=g(pr());function g(c){return c&&c.__esModule?c:{default:c}}function b(){return b=Object.assign?Object.assign.bind():function(c){for(var p=1;p<arguments.length;p++){var m=arguments[p];for(var h in m)({}).hasOwnProperty.call(m,h)&&(c[h]=m[h])}return c},b.apply(null,arguments)}function a(c,p,m){return(p=function(h){var y=function(v,_){if(typeof v!="object"||!v)return v;var O=v[Symbol.toPrimitive];if(O!==void 0){var E=O.call(v,_);if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(v)}(h,"string");return typeof y=="symbol"?y:y+""}(p))in c?Object.defineProperty(c,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):c[p]=m,c}class o extends e.Component{static getDerivedStateFromProps(p,m){let{position:h}=p,{prevPropsPosition:y}=m;return!h||y&&h.x===y.x&&h.y===y.y?null:((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:h,prevPropsPosition:y}),{x:h.x,y:h.y,prevPropsPosition:{...h}})}constructor(p){super(p),a(this,"onDragStart",(m,h)=>{if((0,d.default)("Draggable: onDragStart: %j",h),this.props.onStart(m,(0,u.createDraggableData)(this,h))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),a(this,"onDrag",(m,h)=>{if(!this.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",h);const y=(0,u.createDraggableData)(this,h),v={x:y.x,y:y.y,slackX:0,slackY:0};if(this.props.bounds){const{x:_,y:O}=v;v.x+=this.state.slackX,v.y+=this.state.slackY;const[E,k]=(0,u.getBoundPosition)(this,v.x,v.y);v.x=E,v.y=k,v.slackX=this.state.slackX+(_-v.x),v.slackY=this.state.slackY+(O-v.y),y.x=v.x,y.y=v.y,y.deltaX=v.x-this.state.x,y.deltaY=v.y-this.state.y}if(this.props.onDrag(m,y)===!1)return!1;this.setState(v)}),a(this,"onDragStop",(m,h)=>{if(!this.state.dragging||this.props.onStop(m,(0,u.createDraggableData)(this,h))===!1)return!1;(0,d.default)("Draggable: onDragStop: %j",h);const y={dragging:!1,slackX:0,slackY:0};if(this.props.position){const{x:v,y:_}=this.props.position;y.x=v,y.y=_}this.setState(y)}),this.state={dragging:!1,dragged:!1,x:p.position?p.position.x:p.defaultPosition.x,y:p.position?p.position.y:p.defaultPosition.y,prevPropsPosition:{...p.position},slackX:0,slackY:0,isElementSVG:!1},!p.position||p.onDrag||p.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){window.SVGElement!==void 0&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var p,m;return((m=(p=this.props)==null?void 0:p.nodeRef)==null?void 0:m.current)??r.default.findDOMNode(this)}render(){const{axis:p,bounds:m,children:h,defaultPosition:y,defaultClassName:v,defaultClassNameDragging:_,defaultClassNameDragged:O,position:E,positionOffset:k,scale:T,...L}=this.props;let N={},P=null;const M=!E||this.state.dragging,q=E||y,A={x:(0,u.canDragX)(this)&&M?this.state.x:q.x,y:(0,u.canDragY)(this)&&M?this.state.y:q.y};this.state.isElementSVG?P=(0,s.createSVGTransform)(A,k):N=(0,s.createCSSTransform)(A,k);const W=(0,l.clsx)(h.props.className||"",v,{[_]:this.state.dragging,[O]:this.state.dragged});return e.createElement(i.default,b({},L,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(h),{className:W,style:{...h.props.style,...N},transform:P}))}}n.default=o,a(o,"displayName","Draggable"),a(o,"propTypes",{...i.default.propTypes,axis:t.default.oneOf(["both","x","y","none"]),bounds:t.default.oneOfType([t.default.shape({left:t.default.number,right:t.default.number,top:t.default.number,bottom:t.default.number}),t.default.string,t.default.oneOf([!1])]),defaultClassName:t.default.string,defaultClassNameDragging:t.default.string,defaultClassNameDragged:t.default.string,defaultPosition:t.default.shape({x:t.default.number,y:t.default.number}),positionOffset:t.default.shape({x:t.default.oneOfType([t.default.number,t.default.string]),y:t.default.oneOfType([t.default.number,t.default.string])}),position:t.default.shape({x:t.default.number,y:t.default.number}),className:f.dontSetMe,style:f.dontSetMe,transform:f.dontSetMe}),a(o,"defaultProps",{...i.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(or)),or}function At(){if(hr)return Ze.exports;hr=1;const{default:n,DraggableCore:e}=js();return Ze.exports=n,Ze.exports.default=n,Ze.exports.DraggableCore=e,Ze.exports}var fr,yt={exports:{}},tt={},bt={};function Os(){if(fr)return bt;fr=1,bt.__esModule=!0,bt.cloneElement=function(s,u){return u.style&&s.props.style&&(u.style=r(r({},s.props.style),u.style)),u.className&&s.props.className&&(u.className=s.props.className+" "+u.className),e.default.cloneElement(s,u)};var n,e=(n=xe())&&n.__esModule?n:{default:n};function t(s,u){var f=Object.keys(s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);u&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(s,d).enumerable})),f.push.apply(f,i)}return f}function r(s){for(var u=1;u<arguments.length;u++){var f=arguments[u]!=null?arguments[u]:{};u%2?t(Object(f),!0).forEach(function(i){l(s,i,f[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(f)):t(Object(f)).forEach(function(i){Object.defineProperty(s,i,Object.getOwnPropertyDescriptor(f,i))})}return s}function l(s,u,f){return(u=function(i){var d=function(g,b){if(typeof g!="object"||g===null)return g;var a=g[Symbol.toPrimitive];if(a!==void 0){var o=a.call(g,b);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(g)}(i,"string");return typeof d=="symbol"?d:String(d)}(u))in s?Object.defineProperty(s,u,{value:f,enumerable:!0,configurable:!0,writable:!0}):s[u]=f,s}return bt}var mr,gr,nt={};function yr(){if(mr)return nt;mr=1,nt.__esModule=!0,nt.resizableProps=void 0;var n,e=(n=qe())&&n.__esModule?n:{default:n};At();var t={axis:e.default.oneOf(["both","x","y","none"]),className:e.default.string,children:e.default.element.isRequired,draggableOpts:e.default.shape({allowAnyClick:e.default.bool,cancel:e.default.string,children:e.default.node,disabled:e.default.bool,enableUserSelectHack:e.default.bool,offsetParent:e.default.node,grid:e.default.arrayOf(e.default.number),handle:e.default.string,nodeRef:e.default.object,onStart:e.default.func,onDrag:e.default.func,onStop:e.default.func,onMouseDown:e.default.func,scale:e.default.number}),height:function(){for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];var u,f=l[0];return f.axis==="both"||f.axis==="y"?(u=e.default.number).isRequired.apply(u,l):e.default.number.apply(e.default,l)},handle:e.default.oneOfType([e.default.node,e.default.func]),handleSize:e.default.arrayOf(e.default.number),lockAspectRatio:e.default.bool,maxConstraints:e.default.arrayOf(e.default.number),minConstraints:e.default.arrayOf(e.default.number),onResizeStop:e.default.func,onResizeStart:e.default.func,onResize:e.default.func,resizeHandles:e.default.arrayOf(e.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:e.default.number,width:function(){for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];var u,f=l[0];return f.axis==="both"||f.axis==="x"?(u=e.default.number).isRequired.apply(u,l):e.default.number.apply(e.default,l)}};return nt.resizableProps=t,nt}function br(){if(gr)return tt;gr=1,tt.__esModule=!0,tt.default=void 0;var n=function(a,o){if(a&&a.__esModule)return a;if(a===null||typeof a!="object"&&typeof a!="function")return{default:a};var c=s(o);if(c&&c.has(a))return c.get(a);var p={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in a)if(h!=="default"&&Object.prototype.hasOwnProperty.call(a,h)){var y=m?Object.getOwnPropertyDescriptor(a,h):null;y&&(y.get||y.set)?Object.defineProperty(p,h,y):p[h]=a[h]}return p.default=a,c&&c.set(a,p),p}(xe()),e=At(),t=Os(),r=yr(),l=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function s(a){if(typeof WeakMap!="function")return null;var o=new WeakMap,c=new WeakMap;return(s=function(p){return p?c:o})(a)}function u(){return u=Object.assign?Object.assign.bind():function(a){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(a[p]=c[p])}return a},u.apply(this,arguments)}function f(a,o){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(a);o&&(p=p.filter(function(m){return Object.getOwnPropertyDescriptor(a,m).enumerable})),c.push.apply(c,p)}return c}function i(a){for(var o=1;o<arguments.length;o++){var c=arguments[o]!=null?arguments[o]:{};o%2?f(Object(c),!0).forEach(function(p){d(a,p,c[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):f(Object(c)).forEach(function(p){Object.defineProperty(a,p,Object.getOwnPropertyDescriptor(c,p))})}return a}function d(a,o,c){return(o=function(p){var m=function(h,y){if(typeof h!="object"||h===null)return h;var v=h[Symbol.toPrimitive];if(v!==void 0){var _=v.call(h,y);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(h)}(p,"string");return typeof m=="symbol"?m:String(m)}(o))in a?Object.defineProperty(a,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[o]=c,a}function g(a,o){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,p){return c.__proto__=p,c},g(a,o)}var b=function(a){var o,c;function p(){for(var h,y=arguments.length,v=new Array(y),_=0;_<y;_++)v[_]=arguments[_];return(h=a.call.apply(a,[this].concat(v))||this).handleRefs={},h.lastHandleRect=null,h.slack=null,h}c=a,(o=p).prototype=Object.create(c.prototype),o.prototype.constructor=o,g(o,c);var m=p.prototype;return m.componentWillUnmount=function(){this.resetData()},m.resetData=function(){this.lastHandleRect=this.slack=null},m.runConstraints=function(h,y){var v=this.props,_=v.minConstraints,O=v.maxConstraints,E=v.lockAspectRatio;if(!_&&!O&&!E)return[h,y];if(E){var k=this.props.width/this.props.height,T=h-this.props.width,L=y-this.props.height;Math.abs(T)>Math.abs(L*k)?y=h/k:h=y*k}var N=h,P=y,M=this.slack||[0,0],q=M[0],A=M[1];return h+=q,y+=A,_&&(h=Math.max(_[0],h),y=Math.max(_[1],y)),O&&(h=Math.min(O[0],h),y=Math.min(O[1],y)),this.slack=[q+(N-h),A+(P-y)],[h,y]},m.resizeHandler=function(h,y){var v=this;return function(_,O){var E=O.node,k=O.deltaX,T=O.deltaY;h==="onResizeStart"&&v.resetData();var L=(v.props.axis==="both"||v.props.axis==="x")&&y!=="n"&&y!=="s",N=(v.props.axis==="both"||v.props.axis==="y")&&y!=="e"&&y!=="w";if(L||N){var P=y[0],M=y[y.length-1],q=E.getBoundingClientRect();v.lastHandleRect!=null&&(M==="w"&&(k+=q.left-v.lastHandleRect.left),P==="n"&&(T+=q.top-v.lastHandleRect.top)),v.lastHandleRect=q,M==="w"&&(k=-k),P==="n"&&(T=-T);var A=v.props.width+(L?k/v.props.transformScale:0),W=v.props.height+(N?T/v.props.transformScale:0),x=v.runConstraints(A,W);A=x[0],W=x[1];var w=A!==v.props.width||W!==v.props.height,j=typeof v.props[h]=="function"?v.props[h]:null;j&&!(h==="onResize"&&!w)&&(_.persist==null||_.persist(),j(_,{node:E,size:{width:A,height:W},handle:y})),h==="onResizeStop"&&v.resetData()}}},m.renderResizeHandle=function(h,y){var v=this.props.handle;if(!v)return n.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+h,ref:y});if(typeof v=="function")return v(h,y);var _=i({ref:y},typeof v.type=="string"?{}:{handleAxis:h});return n.cloneElement(v,_)},m.render=function(){var h=this,y=this.props,v=y.children,_=y.className,O=y.draggableOpts;y.width,y.height,y.handle,y.handleSize,y.lockAspectRatio,y.axis,y.minConstraints,y.maxConstraints,y.onResize,y.onResizeStop,y.onResizeStart;var E=y.resizeHandles;y.transformScale;var k=function(T,L){if(T==null)return{};var N,P,M={},q=Object.keys(T);for(P=0;P<q.length;P++)N=q[P],L.indexOf(N)>=0||(M[N]=T[N]);return M}(y,l);return(0,t.cloneElement)(v,i(i({},k),{},{className:(_?_+" ":"")+"react-resizable",children:[].concat(v.props.children,E.map(function(T){var L,N=(L=h.handleRefs[T])!=null?L:h.handleRefs[T]=n.createRef();return n.createElement(e.DraggableCore,u({},O,{nodeRef:N,key:"resizableHandle-"+T,onStop:h.resizeHandler("onResizeStop",T),onStart:h.resizeHandler("onResizeStart",T),onDrag:h.resizeHandler("onResize",T)}),h.renderResizeHandle(T,N))}))}))},p}(n.Component);return tt.default=b,b.propTypes=r.resizableProps,b.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},tt}var vr,wr,rt={};function Ds(){if(vr)return rt;vr=1,rt.__esModule=!0,rt.default=void 0;var n=function(o,c){if(o&&o.__esModule)return o;if(o===null||typeof o!="object"&&typeof o!="function")return{default:o};var p=u(c);if(p&&p.has(o))return p.get(o);var m={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in o)if(y!=="default"&&Object.prototype.hasOwnProperty.call(o,y)){var v=h?Object.getOwnPropertyDescriptor(o,y):null;v&&(v.get||v.set)?Object.defineProperty(m,y,v):m[y]=o[y]}return m.default=o,p&&p.set(o,m),m}(xe()),e=s(qe()),t=s(br()),r=yr(),l=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function s(o){return o&&o.__esModule?o:{default:o}}function u(o){if(typeof WeakMap!="function")return null;var c=new WeakMap,p=new WeakMap;return(u=function(m){return m?p:c})(o)}function f(){return f=Object.assign?Object.assign.bind():function(o){for(var c=1;c<arguments.length;c++){var p=arguments[c];for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(o[m]=p[m])}return o},f.apply(this,arguments)}function i(o,c){var p=Object.keys(o);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(o);c&&(m=m.filter(function(h){return Object.getOwnPropertyDescriptor(o,h).enumerable})),p.push.apply(p,m)}return p}function d(o){for(var c=1;c<arguments.length;c++){var p=arguments[c]!=null?arguments[c]:{};c%2?i(Object(p),!0).forEach(function(m){g(o,m,p[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(p)):i(Object(p)).forEach(function(m){Object.defineProperty(o,m,Object.getOwnPropertyDescriptor(p,m))})}return o}function g(o,c,p){return(c=function(m){var h=function(y,v){if(typeof y!="object"||y===null)return y;var _=y[Symbol.toPrimitive];if(_!==void 0){var O=_.call(y,v);if(typeof O!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(y)}(m,"string");return typeof h=="symbol"?h:String(h)}(c))in o?Object.defineProperty(o,c,{value:p,enumerable:!0,configurable:!0,writable:!0}):o[c]=p,o}function b(o,c){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(p,m){return p.__proto__=m,p},b(o,c)}var a=function(o){var c,p;function m(){for(var h,y=arguments.length,v=new Array(y),_=0;_<y;_++)v[_]=arguments[_];return(h=o.call.apply(o,[this].concat(v))||this).state={width:h.props.width,height:h.props.height,propsWidth:h.props.width,propsHeight:h.props.height},h.onResize=function(O,E){var k=E.size;h.props.onResize?(O.persist==null||O.persist(),h.setState(k,function(){return h.props.onResize&&h.props.onResize(O,E)})):h.setState(k)},h}return p=o,(c=m).prototype=Object.create(p.prototype),c.prototype.constructor=c,b(c,p),m.getDerivedStateFromProps=function(h,y){return y.propsWidth!==h.width||y.propsHeight!==h.height?{width:h.width,height:h.height,propsWidth:h.width,propsHeight:h.height}:null},m.prototype.render=function(){var h=this.props,y=h.handle,v=h.handleSize;h.onResize;var _=h.onResizeStart,O=h.onResizeStop,E=h.draggableOpts,k=h.minConstraints,T=h.maxConstraints,L=h.lockAspectRatio,N=h.axis;h.width,h.height;var P=h.resizeHandles,M=h.style,q=h.transformScale,A=function(W,x){if(W==null)return{};var w,j,C={},D=Object.keys(W);for(j=0;j<D.length;j++)w=D[j],x.indexOf(w)>=0||(C[w]=W[w]);return C}(h,l);return n.createElement(t.default,{axis:N,draggableOpts:E,handle:y,handleSize:v,height:this.state.height,lockAspectRatio:L,maxConstraints:T,minConstraints:k,onResizeStart:_,onResize:this.onResize,onResizeStop:O,resizeHandles:P,transformScale:q,width:this.state.width},n.createElement("div",f({},A,{style:d(d({},M),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},m}(n.Component);return rt.default=a,a.propTypes=d(d({},r.resizableProps),{},{children:e.default.element}),rt}var xr,Sr,_r,Ne={};function jr(){if(xr)return Ne;xr=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.resizeHandleType=Ne.resizeHandleAxesType=Ne.default=void 0;var n=t(qe()),e=t(xe());function t(s){return s&&s.__esModule?s:{default:s}}const r=Ne.resizeHandleAxesType=n.default.arrayOf(n.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),l=Ne.resizeHandleType=n.default.oneOfType([n.default.node,n.default.func]);return Ne.default={className:n.default.string,style:n.default.object,width:n.default.number,autoSize:n.default.bool,cols:n.default.number,draggableCancel:n.default.string,draggableHandle:n.default.string,verticalCompact:function(s){s.verticalCompact},compactType:n.default.oneOf(["vertical","horizontal"]),layout:function(s){var u=s.layout;u!==void 0&&$e().validateLayout(u,"layout")},margin:n.default.arrayOf(n.default.number),containerPadding:n.default.arrayOf(n.default.number),rowHeight:n.default.number,maxRows:n.default.number,isBounded:n.default.bool,isDraggable:n.default.bool,isResizable:n.default.bool,allowOverlap:n.default.bool,preventCollision:n.default.bool,useCSSTransforms:n.default.bool,transformScale:n.default.number,isDroppable:n.default.bool,resizeHandles:r,resizeHandle:l,onLayoutChange:n.default.func,onDragStart:n.default.func,onDrag:n.default.func,onDragStop:n.default.func,onResizeStart:n.default.func,onResize:n.default.func,onResizeStop:n.default.func,onDrop:n.default.func,droppingItem:n.default.shape({i:n.default.string.isRequired,w:n.default.number.isRequired,h:n.default.number.isRequired}),children:function(s,u){const f=s[u],i={};e.default.Children.forEach(f,function(d){if((d==null?void 0:d.key)!=null){if(i[d.key])throw new Error('Duplicate child key "'+d.key+'" found! This will cause problems in ReactGridLayout.');i[d.key]=!0}})},innerRef:n.default.any},Ne}function Cs(){if(Sr)return Je;Sr=1,Object.defineProperty(Je,"__esModule",{value:!0}),Je.default=void 0;var n=d(xe()),e=Zt(),t=d(qe()),r=At(),l=(wr||(wr=1,yt.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},yt.exports.Resizable=br().default,yt.exports.ResizableBox=Ds().default),yt.exports),s=$e(),u=Ht(),f=jr(),i=d(ft());function d(a){return a&&a.__esModule?a:{default:a}}function g(a,o,c){return(o=function(p){var m=function(h,y){if(typeof h!="object"||!h)return h;var v=h[Symbol.toPrimitive];if(v!==void 0){var _=v.call(h,y);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(h)}(p,"string");return typeof m=="symbol"?m:m+""}(o))in a?Object.defineProperty(a,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[o]=c,a}let b=class extends n.default.Component{constructor(){super(...arguments),g(this,"state",{resizing:null,dragging:null,className:""}),g(this,"elementRef",n.default.createRef()),g(this,"onDragStart",(a,o)=>{let{node:c}=o;const{onDragStart:p,transformScale:m}=this.props;if(!p)return;const h={top:0,left:0},{offsetParent:y}=c;if(!y)return;const v=y.getBoundingClientRect(),_=c.getBoundingClientRect(),O=_.left/m,E=v.left/m,k=_.top/m,T=v.top/m;h.left=O-E+y.scrollLeft,h.top=k-T+y.scrollTop,this.setState({dragging:h});const{x:L,y:N}=(0,u.calcXY)(this.getPositionParams(),h.top,h.left,this.props.w,this.props.h);return p.call(this,this.props.i,L,N,{e:a,node:c,newPosition:h})}),g(this,"onDrag",(a,o,c)=>{let{node:p,deltaX:m,deltaY:h}=o;const{onDrag:y}=this.props;if(!y)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let v=this.state.dragging.top+h,_=this.state.dragging.left+m;const{isBounded:O,i:E,w:k,h:T,containerWidth:L}=this.props,N=this.getPositionParams();if(O){const{offsetParent:A}=p;if(A){const{margin:W,rowHeight:x}=this.props,w=A.clientHeight-(0,u.calcGridItemWHPx)(T,x,W[1]);v=(0,u.clamp)(v,0,w);const j=(0,u.calcGridColWidth)(N),C=L-(0,u.calcGridItemWHPx)(k,j,W[0]);_=(0,u.clamp)(_,0,C)}}const P={top:v,left:_};c?this.setState({dragging:P}):(0,e.flushSync)(()=>{this.setState({dragging:P})});const{x:M,y:q}=(0,u.calcXY)(N,v,_,k,T);return y.call(this,E,M,q,{e:a,node:p,newPosition:P})}),g(this,"onDragStop",(a,o)=>{let{node:c}=o;const{onDragStop:p}=this.props;if(!p)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");const{w:m,h,i:y}=this.props,{left:v,top:_}=this.state.dragging,O={top:_,left:v};this.setState({dragging:null});const{x:E,y:k}=(0,u.calcXY)(this.getPositionParams(),_,v,m,h);return p.call(this,y,E,k,{e:a,node:c,newPosition:O})}),g(this,"onResizeStop",(a,o,c)=>this.onResizeHandler(a,o,c,"onResizeStop")),g(this,"onResizeStart",(a,o,c)=>this.onResizeHandler(a,o,c,"onResizeStart")),g(this,"onResize",(a,o,c)=>this.onResizeHandler(a,o,c,"onResize"))}shouldComponentUpdate(a,o){if(this.props.children!==a.children||this.props.droppingPosition!==a.droppingPosition)return!0;const c=(0,u.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),p=(0,u.calcGridItemPosition)(this.getPositionParams(a),a.x,a.y,a.w,a.h,o);return!(0,s.fastPositionEqual)(c,p)||this.props.useCSSTransforms!==a.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(a){this.moveDroppingItem(a)}moveDroppingItem(a){const{droppingPosition:o}=this.props;if(!o)return;const c=this.elementRef.current;if(!c)return;const p=a.droppingPosition||{left:0,top:0},{dragging:m}=this.state,h=m&&o.left!==p.left||o.top!==p.top;if(m){if(h){const y=o.left-m.left,v=o.top-m.top;this.onDrag(o.e,{node:c,deltaX:y,deltaY:v},!0)}}else this.onDragStart(o.e,{node:c,deltaX:o.left,deltaY:o.top})}getPositionParams(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:a.cols,containerPadding:a.containerPadding,containerWidth:a.containerWidth,margin:a.margin,maxRows:a.maxRows,rowHeight:a.rowHeight}}createStyle(a){const{usePercentages:o,containerWidth:c,useCSSTransforms:p}=this.props;let m;return p?m=(0,s.setTransform)(a):(m=(0,s.setTopLeft)(a),o&&(m.left=(0,s.perc)(a.left/c),m.width=(0,s.perc)(a.width/c))),m}mixinDraggable(a,o){return n.default.createElement(r.DraggableCore,{disabled:!o,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},a)}curryResizeHandler(a,o){return(c,p)=>o(c,p,a)}mixinResizable(a,o,c){const{cols:p,minW:m,minH:h,maxW:y,maxH:v,transformScale:_,resizeHandles:O,resizeHandle:E}=this.props,k=this.getPositionParams(),T=(0,u.calcGridItemPosition)(k,0,0,p,0).width,L=(0,u.calcGridItemPosition)(k,0,0,m,h),N=(0,u.calcGridItemPosition)(k,0,0,y,v),P=[L.width,L.height],M=[Math.min(N.width,T),Math.min(N.height,1/0)];return n.default.createElement(l.Resizable,{draggableOpts:{disabled:!c},className:c?void 0:"react-resizable-hide",width:o.width,height:o.height,minConstraints:P,maxConstraints:M,onResizeStop:this.curryResizeHandler(o,this.onResizeStop),onResizeStart:this.curryResizeHandler(o,this.onResizeStart),onResize:this.curryResizeHandler(o,this.onResize),transformScale:_,resizeHandles:O,handle:E},a)}onResizeHandler(a,o,c,p){let{node:m,size:h,handle:y}=o;const v=this.props[p];if(!v)return;const{x:_,y:O,i:E,maxH:k,minH:T,containerWidth:L}=this.props,{minW:N,maxW:P}=this.props;let M=h;m&&(M=(0,s.resizeItemInDirection)(y,c,h,L),(0,e.flushSync)(()=>{this.setState({resizing:p==="onResizeStop"?null:M})}));let{w:q,h:A}=(0,u.calcWH)(this.getPositionParams(),M.width,M.height,_,O,y);q=(0,u.clamp)(q,Math.max(N,1),P),A=(0,u.clamp)(A,T,k),v.call(this,E,q,A,{e:a,node:m,size:M,handle:y})}render(){const{x:a,y:o,w:c,h:p,isDraggable:m,isResizable:h,droppingPosition:y,useCSSTransforms:v}=this.props,_=(0,u.calcGridItemPosition)(this.getPositionParams(),a,o,c,p,this.state),O=n.default.Children.only(this.props.children);let E=n.default.cloneElement(O,{ref:this.elementRef,className:(0,i.default)("react-grid-item",O.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":m,"react-draggable-dragging":!!this.state.dragging,dropping:!!y,cssTransforms:v}),style:{...this.props.style,...O.props.style,...this.createStyle(_)}});return E=this.mixinResizable(E,_,h),E=this.mixinDraggable(E,m),E}};return Je.default=b,g(b,"propTypes",{children:t.default.element,cols:t.default.number.isRequired,containerWidth:t.default.number.isRequired,rowHeight:t.default.number.isRequired,margin:t.default.array.isRequired,maxRows:t.default.number.isRequired,containerPadding:t.default.array.isRequired,x:t.default.number.isRequired,y:t.default.number.isRequired,w:t.default.number.isRequired,h:t.default.number.isRequired,minW:function(a,o){const c=a[o];return typeof c!="number"?new Error("minWidth not Number"):c>a.w||c>a.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(a,o){const c=a[o];return typeof c!="number"?new Error("maxWidth not Number"):c<a.w||c<a.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(a,o){const c=a[o];return typeof c!="number"?new Error("minHeight not Number"):c>a.h||c>a.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(a,o){const c=a[o];return typeof c!="number"?new Error("maxHeight not Number"):c<a.h||c<a.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:t.default.string.isRequired,resizeHandles:f.resizeHandleAxesType,resizeHandle:f.resizeHandleType,onDragStop:t.default.func,onDragStart:t.default.func,onDrag:t.default.func,onResizeStop:t.default.func,onResizeStart:t.default.func,onResize:t.default.func,isDraggable:t.default.bool.isRequired,isResizable:t.default.bool.isRequired,isBounded:t.default.bool.isRequired,static:t.default.bool,useCSSTransforms:t.default.bool.isRequired,transformScale:t.default.number,className:t.default.string,handle:t.default.string,cancel:t.default.string,droppingPosition:t.default.shape({e:t.default.object.isRequired,left:t.default.number.isRequired,top:t.default.number.isRequired})}),g(b,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1}),Je}function Or(){if(_r)return Qe;_r=1,Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.default=void 0;var n=function(a,o){if(typeof WeakMap=="function")var c=new WeakMap,p=new WeakMap;return function(m,h){if(!h&&m&&m.__esModule)return m;var y,v,_={__proto__:null,default:m};if(m===null||typeof m!="object"&&typeof m!="function")return _;if(y=h?p:c){if(y.has(m))return y.get(m);y.set(m,_)}for(const O in m)O!=="default"&&{}.hasOwnProperty.call(m,O)&&((v=(y=Object.defineProperty)&&Object.getOwnPropertyDescriptor(m,O))&&(v.get||v.set)?y(_,O,v):_[O]=m[O]);return _}(a,o)}(xe()),e=It(),t=f(ft()),r=$e(),l=Ht(),s=f(Cs()),u=f(jr());function f(a){return a&&a.__esModule?a:{default:a}}function i(a,o,c){return(o=function(p){var m=function(h,y){if(typeof h!="object"||!h)return h;var v=h[Symbol.toPrimitive];if(v!==void 0){var _=v.call(h,y);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(h)}(p,"string");return typeof m=="symbol"?m:m+""}(o))in a?Object.defineProperty(a,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[o]=c,a}const d="react-grid-layout";let g=!1;try{g=/firefox/i.test(navigator.userAgent)}catch{}class b extends n.Component{constructor(){super(...arguments),i(this,"state",{activeDrag:null,layout:(0,r.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,r.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),i(this,"dragEnterCounter",0),i(this,"onDragStart",(o,c,p,m)=>{let{e:h,node:y}=m;const{layout:v}=this.state,_=(0,r.getLayoutItem)(v,o);if(!_)return;const O={w:_.w,h:_.h,x:_.x,y:_.y,placeholder:!0,i:o};return this.setState({oldDragItem:(0,r.cloneLayoutItem)(_),oldLayout:v,activeDrag:O}),this.props.onDragStart(v,_,_,null,h,y)}),i(this,"onDrag",(o,c,p,m)=>{let{e:h,node:y}=m;const{oldDragItem:v}=this.state;let{layout:_}=this.state;const{cols:O,allowOverlap:E,preventCollision:k}=this.props,T=(0,r.getLayoutItem)(_,o);if(!T)return;const L={w:T.w,h:T.h,x:T.x,y:T.y,placeholder:!0,i:o};_=(0,r.moveElement)(_,T,c,p,!0,k,(0,r.compactType)(this.props),O,E),this.props.onDrag(_,v,T,L,h,y),this.setState({layout:E?_:(0,r.compact)(_,(0,r.compactType)(this.props),O),activeDrag:L})}),i(this,"onDragStop",(o,c,p,m)=>{let{e:h,node:y}=m;if(!this.state.activeDrag)return;const{oldDragItem:v}=this.state;let{layout:_}=this.state;const{cols:O,preventCollision:E,allowOverlap:k}=this.props,T=(0,r.getLayoutItem)(_,o);if(!T)return;_=(0,r.moveElement)(_,T,c,p,!0,E,(0,r.compactType)(this.props),O,k);const L=k?_:(0,r.compact)(_,(0,r.compactType)(this.props),O);this.props.onDragStop(L,v,T,null,h,y);const{oldLayout:N}=this.state;this.setState({activeDrag:null,layout:L,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(L,N)}),i(this,"onResizeStart",(o,c,p,m)=>{let{e:h,node:y}=m;const{layout:v}=this.state,_=(0,r.getLayoutItem)(v,o);_&&(this.setState({oldResizeItem:(0,r.cloneLayoutItem)(_),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(v,_,_,null,h,y))}),i(this,"onResize",(o,c,p,m)=>{let{e:h,node:y,size:v,handle:_}=m;const{oldResizeItem:O}=this.state,{layout:E}=this.state,{cols:k,preventCollision:T,allowOverlap:L}=this.props;let N,P,M,q=!1;const[A,W]=(0,r.withLayoutItem)(E,o,w=>{let j;return P=w.x,M=w.y,["sw","w","nw","n","ne"].indexOf(_)!==-1&&(["sw","nw","w"].indexOf(_)!==-1&&(P=w.x+(w.w-c),c=w.x!==P&&P<0?w.w:c,P=P<0?0:P),["ne","n","nw"].indexOf(_)!==-1&&(M=w.y+(w.h-p),p=w.y!==M&&M<0?w.h:p,M=M<0?0:M),q=!0),T&&!L&&(j=(0,r.getAllCollisions)(E,{...w,w:c,h:p,x:P,y:M}).filter(C=>C.i!==w.i).length>0,j&&(M=w.y,p=w.h,P=w.x,c=w.w,q=!1)),w.w=c,w.h=p,w});if(!W)return;N=A,q&&(N=(0,r.moveElement)(A,W,P,M,!0,this.props.preventCollision,(0,r.compactType)(this.props),k,L));const x={w:W.w,h:W.h,x:W.x,y:W.y,static:!0,i:o};this.props.onResize(N,O,W,x,h,y),this.setState({layout:L?N:(0,r.compact)(N,(0,r.compactType)(this.props),k),activeDrag:x})}),i(this,"onResizeStop",(o,c,p,m)=>{let{e:h,node:y}=m;const{layout:v,oldResizeItem:_}=this.state,{cols:O,allowOverlap:E}=this.props,k=(0,r.getLayoutItem)(v,o),T=E?v:(0,r.compact)(v,(0,r.compactType)(this.props),O);this.props.onResizeStop(T,_,k,null,h,y);const{oldLayout:L}=this.state;this.setState({activeDrag:null,layout:T,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(T,L)}),i(this,"onDragOver",o=>{var A;if(o.preventDefault(),o.stopPropagation(),g&&!((A=o.nativeEvent.target)!=null&&A.classList.contains(d)))return!1;const{droppingItem:c,onDropDragOver:p,margin:m,cols:h,rowHeight:y,maxRows:v,width:_,containerPadding:O,transformScale:E}=this.props,k=p==null?void 0:p(o);if(k===!1)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;const T={...c,...k},{layout:L}=this.state,N=o.currentTarget.getBoundingClientRect(),P=o.clientX-N.left,M=o.clientY-N.top,q={left:P/E,top:M/E,e:o};if(this.state.droppingDOMNode){if(this.state.droppingPosition){const{left:W,top:x}=this.state.droppingPosition;(W!=P||x!=M)&&this.setState({droppingPosition:q})}}else{const W={cols:h,margin:m,maxRows:v,rowHeight:y,containerWidth:_,containerPadding:O||m},x=(0,l.calcXY)(W,M,P,T.w,T.h);this.setState({droppingDOMNode:n.createElement("div",{key:T.i}),droppingPosition:q,layout:[...L,{...T,x:x.x,y:x.y,static:!1,isDraggable:!0}]})}}),i(this,"removeDroppingPlaceholder",()=>{const{droppingItem:o,cols:c}=this.props,{layout:p}=this.state,m=(0,r.compact)(p.filter(h=>h.i!==o.i),(0,r.compactType)(this.props),c,this.props.allowOverlap);this.setState({layout:m,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),i(this,"onDragLeave",o=>{o.preventDefault(),o.stopPropagation(),this.dragEnterCounter--,this.dragEnterCounter===0&&this.removeDroppingPlaceholder()}),i(this,"onDragEnter",o=>{o.preventDefault(),o.stopPropagation(),this.dragEnterCounter++}),i(this,"onDrop",o=>{o.preventDefault(),o.stopPropagation();const{droppingItem:c}=this.props,{layout:p}=this.state,m=p.find(h=>h.i===c.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(p,m,o)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(o,c){let p;return c.activeDrag?null:((0,e.deepEqual)(o.layout,c.propsLayout)&&o.compactType===c.compactType?(0,r.childrenEqual)(o.children,c.children)||(p=c.layout):p=o.layout,p?{layout:(0,r.synchronizeLayoutWithChildren)(p,o.children,o.cols,(0,r.compactType)(o),o.allowOverlap),compactType:o.compactType,children:o.children,propsLayout:o.layout}:null)}shouldComponentUpdate(o,c){return this.props.children!==o.children||!(0,r.fastRGLPropsEqual)(this.props,o,e.deepEqual)||this.state.activeDrag!==c.activeDrag||this.state.mounted!==c.mounted||this.state.droppingPosition!==c.droppingPosition}componentDidUpdate(o,c){if(!this.state.activeDrag){const p=this.state.layout,m=c.layout;this.onLayoutMaybeChanged(p,m)}}containerHeight(){if(!this.props.autoSize)return;const o=(0,r.bottom)(this.state.layout),c=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return o*this.props.rowHeight+(o-1)*this.props.margin[1]+2*c+"px"}onLayoutMaybeChanged(o,c){c||(c=this.state.layout),(0,e.deepEqual)(c,o)||this.props.onLayoutChange(o)}placeholder(){const{activeDrag:o}=this.state;if(!o)return null;const{width:c,cols:p,margin:m,containerPadding:h,rowHeight:y,maxRows:v,useCSSTransforms:_,transformScale:O}=this.props;return n.createElement(s.default,{w:o.w,h:o.h,x:o.x,y:o.y,i:o.i,className:"react-grid-placeholder "+(this.state.resizing?"placeholder-resizing":""),containerWidth:c,cols:p,margin:m,containerPadding:h||m,maxRows:v,rowHeight:y,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:_,transformScale:O},n.createElement("div",null))}processGridItem(o,c){if(!o||!o.key)return;const p=(0,r.getLayoutItem)(this.state.layout,String(o.key));if(!p)return null;const{width:m,cols:h,margin:y,containerPadding:v,rowHeight:_,maxRows:O,isDraggable:E,isResizable:k,isBounded:T,useCSSTransforms:L,transformScale:N,draggableCancel:P,draggableHandle:M,resizeHandles:q,resizeHandle:A}=this.props,{mounted:W,droppingPosition:x}=this.state,w=typeof p.isDraggable=="boolean"?p.isDraggable:!p.static&&E,j=typeof p.isResizable=="boolean"?p.isResizable:!p.static&&k,C=p.resizeHandles||q,D=w&&T&&p.isBounded!==!1;return n.createElement(s.default,{containerWidth:m,cols:h,margin:y,containerPadding:v||y,maxRows:O,rowHeight:_,cancel:P,handle:M,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:w,isResizable:j,isBounded:D,useCSSTransforms:L&&W,usePercentages:!W,transformScale:N,w:p.w,h:p.h,x:p.x,y:p.y,i:p.i,minH:p.minH,minW:p.minW,maxH:p.maxH,maxW:p.maxW,static:p.static,droppingPosition:c?x:void 0,resizeHandles:C,resizeHandle:A},o)}render(){const{className:o,style:c,isDroppable:p,innerRef:m}=this.props,h=(0,t.default)(d,o),y={height:this.containerHeight(),...c};return n.createElement("div",{ref:m,className:h,style:y,onDrop:p?this.onDrop:r.noop,onDragLeave:p?this.onDragLeave:r.noop,onDragEnter:p?this.onDragEnter:r.noop,onDragOver:p?this.onDragOver:r.noop},n.Children.map(this.props.children,v=>this.processGridItem(v)),p&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}return Qe.default=b,i(b,"displayName","ReactGridLayout"),i(b,"propTypes",u.default),i(b,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:r.noop,onDragStart:r.noop,onDrag:r.noop,onDragStop:r.noop,onResizeStart:r.noop,onResize:r.noop,onResizeStop:r.noop,onDrop:r.noop,onDropDragOver:r.noop}),Qe}var Dr,Cr,ot={},Be={};function Er(){if(Dr)return Be;Dr=1,Object.defineProperty(Be,"__esModule",{value:!0}),Be.findOrGenerateResponsiveLayout=function(t,r,l,s,u,f){if(t[l])return(0,n.cloneLayout)(t[l]);let i=t[s];const d=e(r),g=d.slice(d.indexOf(l));for(let b=0,a=g.length;b<a;b++){const o=g[b];if(t[o]){i=t[o];break}}return i=(0,n.cloneLayout)(i||[]),(0,n.compact)((0,n.correctBounds)(i,{cols:u}),f,u)},Be.getBreakpointFromWidth=function(t,r){const l=e(t);let s=l[0];for(let u=1,f=l.length;u<f;u++){const i=l[u];r>t[i]&&(s=i)}return s},Be.getColsFromBreakpoint=function(t,r){if(!r[t])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+t+" is missing!");return r[t]},Be.sortBreakpoints=e;var n=$e();function e(t){return Object.keys(t).sort(function(r,l){return t[r]-t[l]})}return Be}function Es(){if(Cr)return ot;Cr=1,Object.defineProperty(ot,"__esModule",{value:!0}),ot.default=void 0;var n=function(a,o){if(typeof WeakMap=="function")var c=new WeakMap,p=new WeakMap;return function(m,h){if(!h&&m&&m.__esModule)return m;var y,v,_={__proto__:null,default:m};if(m===null||typeof m!="object"&&typeof m!="function")return _;if(y=h?p:c){if(y.has(m))return y.get(m);y.set(m,_)}for(const O in m)O!=="default"&&{}.hasOwnProperty.call(m,O)&&((v=(y=Object.defineProperty)&&Object.getOwnPropertyDescriptor(m,O))&&(v.get||v.set)?y(_,O,v):_[O]=m[O]);return _}(a,o)}(xe()),e=u(qe()),t=It(),r=$e(),l=Er(),s=u(Or());function u(a){return a&&a.__esModule?a:{default:a}}function f(){return f=Object.assign?Object.assign.bind():function(a){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var p in c)({}).hasOwnProperty.call(c,p)&&(a[p]=c[p])}return a},f.apply(null,arguments)}function i(a,o,c){return(o=function(p){var m=function(h,y){if(typeof h!="object"||!h)return h;var v=h[Symbol.toPrimitive];if(v!==void 0){var _=v.call(h,y);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(h)}(p,"string");return typeof m=="symbol"?m:m+""}(o))in a?Object.defineProperty(a,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[o]=c,a}const d=a=>Object.prototype.toString.call(a);function g(a,o){return a==null?null:Array.isArray(a)?a:a[o]}let b=class extends n.Component{constructor(){super(...arguments),i(this,"state",this.generateInitialState()),i(this,"onLayoutChange",a=>{this.props.onLayoutChange(a,{...this.props.layouts,[this.state.breakpoint]:a})})}generateInitialState(){const{width:a,breakpoints:o,layouts:c,cols:p}=this.props,m=(0,l.getBreakpointFromWidth)(o,a),h=(0,l.getColsFromBreakpoint)(m,p),y=this.props.verticalCompact===!1?null:this.props.compactType;return{layout:(0,l.findOrGenerateResponsiveLayout)(c,o,m,m,h,y),breakpoint:m,cols:h}}static getDerivedStateFromProps(a,o){if(!(0,t.deepEqual)(a.layouts,o.layouts)){const{breakpoint:c,cols:p}=o;return{layout:(0,l.findOrGenerateResponsiveLayout)(a.layouts,a.breakpoints,c,c,p,a.compactType),layouts:a.layouts}}return null}componentDidUpdate(a){this.props.width==a.width&&this.props.breakpoint===a.breakpoint&&(0,t.deepEqual)(this.props.breakpoints,a.breakpoints)&&(0,t.deepEqual)(this.props.cols,a.cols)||this.onWidthChange(a)}onWidthChange(a){const{breakpoints:o,cols:c,layouts:p,compactType:m}=this.props,h=this.props.breakpoint||(0,l.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),y=this.state.breakpoint,v=(0,l.getColsFromBreakpoint)(h,c),_={...p};if(y!==h||a.breakpoints!==o||a.cols!==c){y in _||(_[y]=(0,r.cloneLayout)(this.state.layout));let k=(0,l.findOrGenerateResponsiveLayout)(_,o,h,y,v,m);k=(0,r.synchronizeLayoutWithChildren)(k,this.props.children,v,m,this.props.allowOverlap),_[h]=k,this.props.onBreakpointChange(h,v),this.props.onLayoutChange(k,_),this.setState({breakpoint:h,layout:k,cols:v})}const O=g(this.props.margin,h),E=g(this.props.containerPadding,h);this.props.onWidthChange(this.props.width,O,v,E)}render(){const{breakpoint:a,breakpoints:o,cols:c,layouts:p,margin:m,containerPadding:h,onBreakpointChange:y,onLayoutChange:v,onWidthChange:_,...O}=this.props;return n.createElement(s.default,f({},O,{margin:g(m,this.state.breakpoint),containerPadding:g(h,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}};return ot.default=b,i(b,"propTypes",{breakpoint:e.default.string,breakpoints:e.default.object,allowOverlap:e.default.bool,cols:e.default.object,margin:e.default.oneOfType([e.default.array,e.default.object]),containerPadding:e.default.oneOfType([e.default.array,e.default.object]),layouts(a,o){if(d(a[o])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+d(a[o]));Object.keys(a[o]).forEach(c=>{if(!(c in a.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,r.validateLayout)(a.layouts[c],"layouts."+c)})},width:e.default.number.isRequired,onBreakpointChange:e.default.func,onLayoutChange:e.default.func,onWidthChange:e.default.func}),i(b,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:r.noop,onLayoutChange:r.noop,onWidthChange:r.noop}),ot}var vt={},Nr=function(){if(typeof Map<"u")return Map;function n(e,t){var r=-1;return e.some(function(l,s){return l[0]===t&&(r=s,!0)}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var r=n(this.__entries__,t),l=this.__entries__[r];return l&&l[1]},e.prototype.set=function(t,r){var l=n(this.__entries__,t);~l?this.__entries__[l][1]=r:this.__entries__.push([t,r])},e.prototype.delete=function(t){var r=this.__entries__,l=n(r,t);~l&&r.splice(l,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,r){r===void 0&&(r=null);for(var l=0,s=this.__entries__;l<s.length;l++){var u=s[l];t.call(r,u[1],u[0])}},e}()}(),qt=typeof window<"u"&&typeof document<"u"&&window.document===document,wt=typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")(),Ns=typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(wt):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)},ks=["top","right","bottom","left","width","height","size","weight"],Rs=typeof MutationObserver<"u",Ps=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var r=!1,l=!1,s=0;function u(){r&&(r=!1,e()),l&&i()}function f(){Ns(u)}function i(){var d=Date.now();if(r){if(d-s<2)return;l=!0}else r=!0,l=!1,setTimeout(f,t);s=d}return i}(this.refresh.bind(this),20)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){qt&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Rs?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){qt&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=t===void 0?"":t;ks.some(function(l){return!!~r.indexOf(l)})&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),kr=function(n,e){for(var t=0,r=Object.keys(e);t<r.length;t++){var l=r[t];Object.defineProperty(n,l,{value:e[l],enumerable:!1,writable:!1,configurable:!0})}return n},Ve=function(n){return n&&n.ownerDocument&&n.ownerDocument.defaultView||wt},Rr=St(0,0,0,0);function xt(n){return parseFloat(n)||0}function Pr(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(r,l){return r+xt(n["border-"+l+"-width"])},0)}function Ms(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return Rr;var r=Ve(n).getComputedStyle(n),l=function(b){for(var a={},o=0,c=["top","right","bottom","left"];o<c.length;o++){var p=c[o],m=b["padding-"+p];a[p]=xt(m)}return a}(r),s=l.left+l.right,u=l.top+l.bottom,f=xt(r.width),i=xt(r.height);if(r.boxSizing==="border-box"&&(Math.round(f+s)!==e&&(f-=Pr(r,"left","right")+s),Math.round(i+u)!==t&&(i-=Pr(r,"top","bottom")+u)),!function(b){return b===Ve(b).document.documentElement}(n)){var d=Math.round(f+s)-e,g=Math.round(i+u)-t;Math.abs(d)!==1&&(f-=d),Math.abs(g)!==1&&(i-=g)}return St(l.left,l.top,f,i)}var Ts=typeof SVGGraphicsElement<"u"?function(n){return n instanceof Ve(n).SVGGraphicsElement}:function(n){return n instanceof Ve(n).SVGElement&&typeof n.getBBox=="function"};function zs(n){return qt?Ts(n)?function(e){var t=e.getBBox();return St(0,0,t.width,t.height)}(n):Ms(n):Rr}function St(n,e,t,r){return{x:n,y:e,width:t,height:r}}var Ls=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=St(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=zs(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),Is=function(n,e){var t=function(r){var l=r.x,s=r.y,u=r.width,f=r.height,i=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,d=Object.create(i.prototype);return kr(d,{x:l,y:s,width:u,height:f,top:s,right:l+u,bottom:f+s,left:l}),d}(e);kr(this,{target:n,contentRect:t})},Hs=function(){function n(e,t,r){if(this.activeObservations_=[],this.observations_=new Nr,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(e instanceof Ve(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Ls(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(e instanceof Ve(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(r){return new Is(r.target,r.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),Mr=typeof WeakMap<"u"?new WeakMap:new Nr,Tr=function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=Ps.getInstance(),r=new Hs(e,t,this);Mr.set(this,r)};["observe","unobserve","disconnect"].forEach(function(n){Tr.prototype[n]=function(){var e;return(e=Mr.get(this))[n].apply(e,arguments)}});var Ws=wt.ResizeObserver!==void 0?wt.ResizeObserver:Tr;const As=ii(Object.freeze(Object.defineProperty({__proto__:null,default:Ws},Symbol.toStringTag,{value:"Module"})));var zr,Lr;function qs(){if(zr)return vt;zr=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.default=function(i){var d;return d=class extends n.Component{constructor(){super(...arguments),u(this,"state",{width:1280}),u(this,"elementRef",n.createRef()),u(this,"mounted",!1),u(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new t.default(b=>{if(this.elementRef.current instanceof HTMLElement){const a=b[0].contentRect.width;this.setState({width:a})}});const g=this.elementRef.current;g instanceof HTMLElement&&this.resizeObserver.observe(g)}componentWillUnmount(){this.mounted=!1;const g=this.elementRef.current;g instanceof HTMLElement&&this.resizeObserver.unobserve(g),this.resizeObserver.disconnect()}render(){const{measureBeforeMount:g,...b}=this.props;return g&&!this.mounted?n.createElement("div",{className:(0,r.default)(this.props.className,f),style:this.props.style,ref:this.elementRef}):n.createElement(i,s({innerRef:this.elementRef},b,this.state))}},u(d,"defaultProps",{measureBeforeMount:!1}),u(d,"propTypes",{measureBeforeMount:e.default.bool}),d};var n=function(i,d){if(typeof WeakMap=="function")var g=new WeakMap,b=new WeakMap;return function(a,o){if(!o&&a&&a.__esModule)return a;var c,p,m={__proto__:null,default:a};if(a===null||typeof a!="object"&&typeof a!="function")return m;if(c=o?b:g){if(c.has(a))return c.get(a);c.set(a,m)}for(const h in a)h!=="default"&&{}.hasOwnProperty.call(a,h)&&((p=(c=Object.defineProperty)&&Object.getOwnPropertyDescriptor(a,h))&&(p.get||p.set)?c(m,h,p):m[h]=a[h]);return m}(i,d)}(xe()),e=l(qe()),t=l(As),r=l(ft());function l(i){return i&&i.__esModule?i:{default:i}}function s(){return s=Object.assign?Object.assign.bind():function(i){for(var d=1;d<arguments.length;d++){var g=arguments[d];for(var b in g)({}).hasOwnProperty.call(g,b)&&(i[b]=g[b])}return i},s.apply(null,arguments)}function u(i,d,g){return(d=function(b){var a=function(o,c){if(typeof o!="object"||!o)return o;var p=o[Symbol.toPrimitive];if(p!==void 0){var m=p.call(o,c);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(o)}(b,"string");return typeof a=="symbol"?a:a+""}(d))in i?Object.defineProperty(i,d,{value:g,enumerable:!0,configurable:!0,writable:!0}):i[d]=g,i}const f="react-grid-layout";return vt}var Ye,Ir=(Lr||(Lr=1,(Ye=Kn).exports=Or().default,Ye.exports.utils=$e(),Ye.exports.calculateUtils=Ht(),Ye.exports.Responsive=Es().default,Ye.exports.Responsive.utils=Er(),Ye.exports.WidthProvider=qs().default),Kn.exports);let Hr;Hr=[li(),ci({syntaxHighlighting:!0,highlightSpecialChars:!1,history:!1,drawSelection:!1,defaultKeymap:!1,historyKeymap:!1})],kt=U.memo(n=>{const e=G.c(8),{code:t,className:r}=n,{theme:l}=ui();let s;e[0]!==r?(s=ee(r,"text-muted-foreground flex flex-col overflow-hidden"),e[0]=r,e[1]=s):s=e[1];const u=l==="dark"?"dark":"light";let f,i;return e[2]!==t||e[3]!==u?(f=S.jsx(Oo,{minHeight:"10px",theme:u,height:"100%",className:"tiny-code",editable:!1,basicSetup:!1,extensions:Hr,value:t}),e[2]=t,e[3]=u,e[4]=f):f=e[4],e[5]!==s||e[6]!==f?(i=S.jsx("div",{className:s,children:f}),e[5]=s,e[6]=f,e[7]=i):i=e[7],i}),kt.displayName="TinyCode";const Bs=Ir.WidthProvider(Ir.Responsive),Fs=[0,0],Bt="grid-drag-handle",Ft=U.memo(n=>{const e=G.c(20),{output:t,cellId:r,status:l,mode:s,code:u,hidden:f,isScrollable:i,side:d,className:g}=n;let b;e[0]!==l?(b=en(l),e[0]=l,e[1]=b):b=e[1];const a=b;if((t==null||t.data==="")&&s!=="read"){let E;return e[2]!==g||e[3]!==u?(E=S.jsx(kt,{className:g,code:u}),e[2]=g,e[3]=u,e[4]=E):E=e[4],E}const o=f&&"invisible",c=i?"overflow-y-auto":"overflow-y-hidden",p=d==="top"&&"flex items-start",m=d==="bottom"&&"flex items-end",h=d==="left"&&"flex justify-start",y=d==="right"&&"flex justify-end";let v,_,O;return e[5]!==g||e[6]!==o||e[7]!==c||e[8]!==p||e[9]!==m||e[10]!==h||e[11]!==y?(v=ee(g,"h-full w-full p-2 overflow-x-auto",o,c,p,m,h,y),e[5]=g,e[6]=o,e[7]=c,e[8]=p,e[9]=m,e[10]=h,e[11]=y,e[12]=v):v=e[12],e[13]!==r||e[14]!==a||e[15]!==t?(_=S.jsx(Dt,{allowExpand:!1,output:t,cellId:r,stale:a,loading:a}),e[13]=r,e[14]=a,e[15]=t,e[16]=_):_=e[16],e[17]!==v||e[18]!==_?(O=S.jsx("div",{className:v,children:_}),e[17]=v,e[18]=_,e[19]=O):O=e[19],O});Ft.displayName="GridCell";const Gs=n=>{const e=G.c(38),{layout:t,setLayout:r,isLocked:l,setIsLocked:s}=n;let u,f,i,d,g,b,a,o,c,p,m,h,y,v,_;return e[0]===Symbol.for("react.memo_cache_sentinel")?(u=S.jsx(ut,{htmlFor:"columns",children:"Columns"}),e[0]=u):u=e[0],e[1]!==t||e[2]!==r?(f=O=>{r({...t,columns:O})},e[1]=t,e[2]=r,e[3]=f):f=e[3],e[4]!==t.columns||e[5]!==f?(i=S.jsxs("div",{className:"flex flex-row items-center gap-2",children:[u,S.jsx(tn,{"data-testid":"grid-columns-input",id:"columns",value:t.columns,className:"w-[60px]",placeholder:"# of Columns",minValue:1,onChange:f})]}),e[4]=t.columns,e[5]=f,e[6]=i):i=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(d=S.jsx(ut,{htmlFor:"rowHeight",children:"Row Height (px)"}),e[7]=d):d=e[7],e[8]!==t||e[9]!==r?(g=O=>{r({...t,rowHeight:O})},e[8]=t,e[9]=r,e[10]=g):g=e[10],e[11]!==t.rowHeight||e[12]!==g?(b=S.jsxs("div",{className:"flex flex-row items-center gap-2",children:[d,S.jsx(tn,{"data-testid":"grid-row-height-input",id:"rowHeight",value:t.rowHeight,className:"w-[60px]",placeholder:"Row Height (px)",minValue:1,onChange:g})]}),e[11]=t.rowHeight,e[12]=g,e[13]=b):b=e[13],e[14]===Symbol.for("react.memo_cache_sentinel")?(a=S.jsx(ut,{htmlFor:"maxWidth",children:"Max Width (px)"}),e[14]=a):a=e[14],e[15]!==t||e[16]!==r?(o=O=>{r({...t,maxWidth:Number.isNaN(O)?void 0:O})},e[15]=t,e[16]=r,e[17]=o):o=e[17],e[18]!==t.maxWidth||e[19]!==o?(c=S.jsxs("div",{className:"flex flex-row items-center gap-2",children:[a,S.jsx(tn,{"data-testid":"grid-max-width-input",id:"maxWidth",value:t.maxWidth,className:"w-[90px]",step:100,placeholder:"Full",onChange:o})]}),e[18]=t.maxWidth,e[19]=o,e[20]=c):c=e[20],e[21]===Symbol.for("react.memo_cache_sentinel")?(p=S.jsxs(ut,{className:"flex flex-row items-center gap-1",htmlFor:"lock",children:[S.jsx(pi,{className:"h-3 w-3"}),"Bordered"]}),e[21]=p):p=e[21],e[22]!==t||e[23]!==r?(m=O=>{r({...t,bordered:O})},e[22]=t,e[23]=r,e[24]=m):m=e[24],e[25]!==t.bordered||e[26]!==m?(h=S.jsxs("div",{className:"flex flex-row items-center gap-2",children:[p,S.jsx(nn,{"data-testid":"grid-bordered-switch",id:"lock",checked:t.bordered,size:"sm",onCheckedChange:m})]}),e[25]=t.bordered,e[26]=m,e[27]=h):h=e[27],e[28]===Symbol.for("react.memo_cache_sentinel")?(y=S.jsxs(ut,{className:"flex flex-row items-center gap-1",htmlFor:"lock",children:[S.jsx(yo,{className:"h-3 w-3"}),"Lock Grid"]}),e[28]=y):y=e[28],e[29]!==l||e[30]!==s?(v=S.jsxs("div",{className:"flex flex-row items-center gap-2",children:[y,S.jsx(nn,{"data-testid":"grid-lock-switch",id:"lock",checked:l,size:"sm",onCheckedChange:s})]}),e[29]=l,e[30]=s,e[31]=v):v=e[31],e[32]!==h||e[33]!==v||e[34]!==i||e[35]!==b||e[36]!==c?(_=S.jsxs("div",{className:"flex flex-row absolute pl-5 top-8 gap-4 w-full justify-end pr-[350px] pb-3 border-b z-50",children:[i,b,c,h,v]}),e[32]=h,e[33]=v,e[34]=i,e[35]=b,e[36]=c,e[37]=_):_=e[37],_},Wr=be.forwardRef((n,e)=>{const t=G.c(30);let r,l,s,u,f,i,d,g,b,a;t[0]!==n?({children:r,isDragging:u,className:l,onDelete:i,isScrollable:f,setIsScrollable:g,side:a,setSide:b,display:s,...d}=n,t[0]=n,t[1]=r,t[2]=l,t[3]=s,t[4]=u,t[5]=f,t[6]=i,t[7]=d,t[8]=g,t[9]=b,t[10]=a):(r=t[1],l=t[2],s=t[3],u=t[4],f=t[5],i=t[6],d=t[7],g=t[8],b=t[9],a=t[10]);const[o,c]=U.useState(),p=o&&"border-[var(--sky-8)] z-20",m=!o&&"hover-actions-parent",h=u&&"bg-[var(--slate-2)] border-border z-20";let y,v,_;return t[11]!==l||t[12]!==p||t[13]!==m||t[14]!==h?(y=ee(l,"relative z-10 hover:z-20","bg-background border-transparent hover:border-[var(--sky-8)] border",p,m,h),t[11]=l,t[12]=p,t[13]=m,t[14]=h,t[15]=y):y=t[15],t[16]!==s||t[17]!==f||t[18]!==i||t[19]!==o||t[20]!==g||t[21]!==b||t[22]!==a?(v=S.jsx($s,{onDelete:i,isScrollable:f,setIsScrollable:g,side:a,setSide:b,display:s,setPopoverOpened:c,popoverOpened:o}),t[16]=s,t[17]=f,t[18]=i,t[19]=o,t[20]=g,t[21]=b,t[22]=a,t[23]=v):v=t[23],t[24]!==r||t[25]!==e||t[26]!==d||t[27]!==y||t[28]!==v?(_=S.jsxs("div",{ref:e,...d,className:y,children:[r,v]}),t[24]=r,t[25]=e,t[26]=d,t[27]=y,t[28]=v,t[29]=_):_=t[29],_});Wr.displayName="EditableGridCell";const $s=n=>{const e=G.c(43),{display:t,onDelete:r,side:l,setSide:s,isScrollable:u,setIsScrollable:f,popoverOpened:i,setPopoverOpened:d}=n,g=l==="left"?Le:l==="right"?Ce:void 0,b=!i&&"hover-action",a=t==="top"&&"-top-6 rounded-t",o=t==="bottom"&&"-bottom-6 rounded-b";let c;e[0]!==b||e[1]!==a||e[2]!==o?(c=ee("absolute right-0 p-1 bg-[var(--sky-8)] text-white h-6 z-10 flex gap-2",b,a,o),e[0]=b,e[1]=a,e[2]=o,e[3]=c):c=e[3];const p=i==="side";let m,h,y,v,_;e[4]!==d?(m=x=>d(x?"side":void 0),e[4]=d,e[5]=m):m=e[5],e[6]!==g?(h=S.jsx(rn,{asChild:!0,children:g?S.jsx(g,{className:"h-4 w-4 opacity-60 hover:opacity-100"}):S.jsx(_e,{className:"h-4 w-4 opacity-60 hover:opacity-100"})}),e[6]=g,e[7]=h):h=e[7],e[8]!==s||e[9]!==l?(y=Kt.entries(Vs).map(x=>{const[w,j]=x;return S.jsxs(ct,{onSelect:()=>s(w),children:[S.jsx(j,{className:"h-4 w-3 mr-2"}),S.jsx("span",{className:"flex-1",children:di(w)}),w===l&&S.jsx(Co,{className:"h-4 w-4"})]},w)}),e[8]=s,e[9]=l,e[10]=y):y=e[10],e[11]!==y?(v=S.jsx(on,{side:"bottom",children:y}),e[11]=y,e[12]=v):v=e[12],e[13]!==p||e[14]!==m||e[15]!==h||e[16]!==v?(_=S.jsxs(sn,{open:p,onOpenChange:m,children:[h,v]}),e[13]=p,e[14]=m,e[15]=h,e[16]=v,e[17]=_):_=e[17];const O=i==="scroll";let E,k,T,L,N,P,M,q,A,W;return e[18]!==d?(E=x=>d(x?"scroll":void 0),e[18]=d,e[19]=E):E=e[19],e[20]===Symbol.for("react.memo_cache_sentinel")?(k=S.jsx(rn,{asChild:!0,children:S.jsx(Ln,{className:"h-4 w-4 opacity-60 hover:opacity-100"})}),e[20]=k):k=e[20],e[21]!==u||e[22]!==f?(T=()=>f(!u),e[21]=u,e[22]=f,e[23]=T):T=e[23],e[24]===Symbol.for("react.memo_cache_sentinel")?(L=S.jsx("span",{className:"flex-1",children:"Scrollable"}),e[24]=L):L=e[24],e[25]!==u||e[26]!==f?(N=S.jsx(nn,{"data-testid":"grid-scrollable-switch",checked:u,size:"sm",onCheckedChange:f}),e[25]=u,e[26]=f,e[27]=N):N=e[27],e[28]!==T||e[29]!==N?(P=S.jsx(on,{side:"bottom",children:S.jsxs(ct,{onSelect:T,children:[L,N]})}),e[28]=T,e[29]=N,e[30]=P):P=e[30],e[31]!==O||e[32]!==E||e[33]!==P?(M=S.jsxs(sn,{open:O,onOpenChange:E,children:[k,P]}),e[31]=O,e[32]=E,e[33]=P,e[34]=M):M=e[34],e[35]===Symbol.for("react.memo_cache_sentinel")?(q=S.jsx(hi,{className:ee(Bt,"cursor-move","h-4 w-4 opacity-60 hover:opacity-100")}),e[35]=q):q=e[35],e[36]!==r?(A=S.jsx(fi,{className:"h-4 w-4 opacity-60 hover:opacity-100",onClick:()=>r()}),e[36]=r,e[37]=A):A=e[37],e[38]!==_||e[39]!==M||e[40]!==A||e[41]!==c?(W=S.jsxs("div",{className:c,children:[_,M,q,A]}),e[38]=_,e[39]=M,e[40]=A,e[41]=c,e[42]=W):W=e[42],W},Vs={left:Le,right:Ce};function Ys(n){return n.i}function Us(n){return n.i}function Xs(){window.dispatchEvent(new Event("resize"))}const Ks={type:"grid",name:"Grid",validator:an({columns:ze().min(1),rowHeight:ze().min(1),maxWidth:ze().optional(),bordered:Eo().optional(),cells:mi(an({position:No([ze(),ze(),ze(),ze()]).nullable(),scrollable:Eo().optional(),alignment:gi(["top","bottom","left","right"]).optional()}))}),deserializeLayout:(n,e)=>{if(n.cells.length===0)return{columns:n.columns,rowHeight:n.rowHeight,scrollableCells:new Set,cellSide:new Map,cells:[]};n.cells.length!==e.length&&Se.warn("Number of cells in layout does not match number of cells in notebook");const t=new Set,r=new Map,l=n.cells.flatMap((s,u)=>{const f=s.position;if(!f)return[];const i=e[u];return i?(s.scrollable&&t.add(i.id),s.side&&r.set(i.id,s.side),{i:i.id,x:f[0],y:f[1],w:f[2],h:f[3]}):[]});return{columns:n.columns,rowHeight:n.rowHeight,maxWidth:n.maxWidth,bordered:n.bordered,cells:l,cellSide:r,scrollableCells:t}},serializeLayout:(n,e)=>{const t=Do.keyBy(n.cells,l=>l.i),r=e.map(l=>{const s=t.get(l.id);if(!s)return{position:null};const u={position:[s.x,s.y,s.w,s.h]};return n.scrollableCells.has(l.id)&&(u.scrollable=!0),n.cellSide.has(l.id)&&(u.side=n.cellSide.get(l.id)),u});return{columns:n.columns,rowHeight:n.rowHeight,maxWidth:n.maxWidth,bordered:n.bordered,cells:r}},Component:n=>{const e=G.c(156),{layout:t,setLayout:r,cells:l,mode:s}=n,u=s==="read";let f;e[0]!==t.cells?(f=new Set(t.cells.map(Ys)),e[0]=t.cells,e[1]=f):f=e[1];const i=f,[d,g]=U.useState(null),[b,a]=U.useState(!1);let o,c;e[2]!==t.columns?(c={lg:t.columns},e[2]=t.columns,e[3]=c):c=e[3],o=c;const p=o;let m,h;e[4]!==t.bordered?(m=()=>{const V=document.getElementById("App");return t.bordered?V==null||V.classList.add("grid-bordered"):V==null||V.classList.remove("grid-bordered"),()=>{V==null||V.classList.remove("grid-bordered")}},h=[t.bordered],e[4]=t.bordered,e[5]=m,e[6]=h):(m=e[5],h=e[6]),U.useEffect(m,h);const y=function(){const V=G.c(9),[ve,Re]=U.useState(!1);let me;V[0]===Symbol.for("react.memo_cache_sentinel")?(me={x:0,y:0},V[0]=me):me=V[0];const[ae,ye]=be.useState(me),[Fe,Ue]=be.useState(!1);let Pe;V[1]===Symbol.for("react.memo_cache_sentinel")?(Pe=it=>{Re(!0),ye({x:it.clientX,y:it.clientY})},V[1]=Pe):Pe=V[1];const J=Pe;let ue;V[2]!==ae||V[3]!==ve?(ue=it=>{if(ve){const _a=it.clientX-ae.x,ja=it.clientY-ae.y;Ue(Math.hypot(_a,ja)>10)}},V[2]=ae,V[3]=ve,V[4]=ue):ue=V[4];const de=ue;let Me;V[5]===Symbol.for("react.memo_cache_sentinel")?(Me=()=>{Re(!1),Ue(!1)},V[5]=Me):Me=V[5];const Ae=Me,at=ve&&Fe;let jt;return V[6]!==de||V[7]!==at?(jt={isDragging:at,onDragStart:J,onDragMove:de,onDragStop:Ae},V[6]=de,V[7]=at,V[8]=jt):jt=V[8],jt}();let v,_;e[7]!==y?({isDragging:_,...v}=y,e[7]=y,e[8]=v,e[9]=_):(v=e[8],_=e[9]);const O=!u&&!b;let E,k,T,L,N,P,M,q,A,W,x,w,j,C,D,R,I,B,Y,te,z,H,$,X,F,se,ne;if(e[10]!==l||e[11]!==p||e[12]!==v||e[13]!==d||e[14]!==O||e[15]!==i||e[16]!==_||e[17]!==u||e[18]!==t||e[19]!==s||e[20]!==r){const V=Do.keyBy(t.cells,Us);let ve;e[47]!==t||e[48]!==r?(ve=J=>ue=>{const de=new Set(t.scrollableCells);ue?de.add(J):de.delete(J),r({...t,scrollableCells:de})},e[47]=t,e[48]=r,e[49]=ve):ve=e[49];const Re=ve;let me;e[50]!==t||e[51]!==r?(me=J=>ue=>{const de=new Map(t.cellSide);ue===de.get(J)?de.delete(J):de.set(J,ue),r({...t,cellSide:de})},e[50]=t,e[51]=r,e[52]=me):me=e[52];const ae=me;e[53]!==O||e[54]!==t.columns||e[55]!==t.maxWidth||e[56]!==t.rowHeight?(k={},t.maxWidth&&(k.maxWidth=`${t.maxWidth}px`),O&&(k.backgroundImage="repeating-linear-gradient(var(--gray-4) 0 1px, transparent 1px 100%), repeating-linear-gradient(90deg, var(--gray-4) 0 1px, transparent 1px 100%)",k.backgroundSize=`calc((100% / ${t.columns})) ${t.rowHeight}px`),e[53]=O,e[54]=t.columns,e[55]=t.maxWidth,e[56]=t.rowHeight,e[57]=k):k=e[57],E=Bs,X="lg",e[58]!==t.cells?(F={lg:t.cells},e[58]=t.cells,e[59]=F):F=e[59],se=k,T=p,L=!1;const ye=O&&"bg-[var(--slate-2)] border-r",Fe=u&&"disable-animation",Ue=!t.maxWidth&&"min-w-[800px]";let Pe;e[60]!==ye||e[61]!==Fe||e[62]!==Ue?(N=ee("w-full mx-auto bg-background flex-1 min-h-full",ye,Fe,Ue),e[60]=ye,e[61]=Fe,e[62]=Ue,e[63]=N):N=e[63],e[64]!==u?(P=u?[20,20]:void 0,e[64]=u,e[65]=P):P=e[65],M=Fs,q=!1,A=null,W=!0,x=t.rowHeight,e[66]!==t||e[67]!==r?(w=J=>r({...t,cells:J}),e[66]=t,e[67]=r,e[68]=w):w=e[68],e[69]!==d?(j=d?{i:d.i,w:d.w||2,h:d.h||2}:void 0,e[69]=d,e[70]=j):j=e[70],e[71]!==v||e[72]!==t||e[73]!==r?(C=(J,ue,de)=>{v.onDragStop(),ue&&r({...t,cells:[...J,ue]})},e[71]=v,e[72]=t,e[73]=r,e[74]=C):C=e[74],e[75]!==v?(D=(J,ue,de,Me,Ae)=>{v.onDragStart(Ae)},R=(J,ue,de,Me,Ae)=>{v.onDragMove(Ae)},I=()=>{v.onDragStop()},e[75]=v,e[76]=D,e[77]=R,e[78]=I):(D=e[76],R=e[77],I=e[78]),B=Xs,Y=O,te=O,z=O,H=O?`.${Bt}`:"noop",e[79]!==i?(Pe=J=>i.has(J.id),e[79]=i,e[80]=Pe):Pe=e[80],$=l.filter(Pe).map(J=>{const ue=V.get(J.id),de=t.scrollableCells.has(J.id)??!1,Me=t.cellSide.get(J.id),Ae=S.jsx(Ft,{code:J.code,mode:s,cellId:J.id,output:J.output,status:J.status,isScrollable:de,side:Me,hidden:J.errored||J.interrupted||J.stopped});return O?S.jsx(Wr,{id:J.id,isDragging:_,side:Me,setSide:ae(J.id),isScrollable:de,setIsScrollable:Re(J.id),display:(ue==null?void 0:ue.y)===0?"bottom":"top",onDelete:()=>{r({...t,cells:t.cells.filter(at=>at.i!==J.id)})},children:Ae},J.id):S.jsx("div",{children:Ae},J.id)}),e[10]=l,e[11]=p,e[12]=v,e[13]=d,e[14]=O,e[15]=i,e[16]=_,e[17]=u,e[18]=t,e[19]=s,e[20]=r,e[21]=E,e[22]=k,e[23]=T,e[24]=L,e[25]=N,e[26]=P,e[27]=M,e[28]=q,e[29]=A,e[30]=W,e[31]=x,e[32]=w,e[33]=j,e[34]=C,e[35]=D,e[36]=R,e[37]=I,e[38]=B,e[39]=Y,e[40]=te,e[41]=z,e[42]=H,e[43]=$,e[44]=X,e[45]=F,e[46]=se}else E=e[21],k=e[22],T=e[23],L=e[24],N=e[25],P=e[26],M=e[27],q=e[28],A=e[29],W=e[30],x=e[31],w=e[32],j=e[33],C=e[34],D=e[35],R=e[36],I=e[37],B=e[38],Y=e[39],te=e[40],z=e[41],H=e[42],$=e[43],X=e[44],F=e[45],se=e[46];e[81]!==E||e[82]!==T||e[83]!==L||e[84]!==N||e[85]!==P||e[86]!==M||e[87]!==q||e[88]!==A||e[89]!==W||e[90]!==x||e[91]!==w||e[92]!==j||e[93]!==C||e[94]!==D||e[95]!==R||e[96]!==I||e[97]!==B||e[98]!==Y||e[99]!==te||e[100]!==z||e[101]!==H||e[102]!==$||e[103]!==X||e[104]!==F||e[105]!==se?(ne=S.jsx(E,{breakpoint:X,layouts:F,style:se,cols:T,allowOverlap:L,className:N,containerPadding:P,margin:M,isBounded:q,compactType:A,preventCollision:W,rowHeight:x,onLayoutChange:w,droppingItem:j,onDrop:C,onDragStart:D,onDrag:R,onDragStop:I,onResizeStop:B,isDraggable:Y,isDroppable:te,isResizable:z,draggableHandle:H,children:$}),e[81]=E,e[82]=T,e[83]=L,e[84]=N,e[85]=P,e[86]=M,e[87]=q,e[88]=A,e[89]=W,e[90]=x,e[91]=w,e[92]=j,e[93]=C,e[94]=D,e[95]=R,e[96]=I,e[97]=B,e[98]=Y,e[99]=te,e[100]=z,e[101]=H,e[102]=$,e[103]=X,e[104]=F,e[105]=se,e[106]=ne):ne=e[106];let oe,le,Z,Q,ce,fe,ke,he,_t,pe=ne;if(u){if(t.bordered){let V;e[107]!==pe||e[108]!==k?(V=S.jsx("div",{className:"flex flex-1 flex-col items-center",children:S.jsx("div",{style:k,className:"bg-background flex-1 border-t border-x rounded-t shadow-sm w-full overflow-hidden",children:pe})}),e[107]=pe,e[108]=k,e[109]=V):V=e[109],pe=V}return pe}if(e[110]!==l||e[111]!==pe||e[112]!==i||e[113]!==b||e[114]!==t||e[115]!==s||e[116]!==r||e[117]!==k){let V;e[125]!==i?(V=ae=>!i.has(ae.id),e[125]=i,e[126]=V):V=e[126];const ve=l.filter(V);if(t.bordered){let ae,ye;e[127]!==pe?(ae=S.jsx("div",{className:"h-full overflow-auto",children:pe}),e[127]=pe,e[128]=ae):ae=e[128],e[129]!==k||e[130]!==ae?(ye=S.jsx("div",{style:k,className:"bg-background border-t border-x rounded-t shadow-sm w-full mx-auto mt-4 h-[calc(100%-1rem)] overflow-hidden",children:ae}),e[129]=k,e[130]=ae,e[131]=ye):ye=e[131],pe=ye}let Re,me;e[132]!==b||e[133]!==t||e[134]!==r?(fe=S.jsx(Gs,{layout:t,setLayout:r,isLocked:b,setIsLocked:a}),e[132]=b,e[133]=t,e[134]=r,e[135]=fe):fe=e[135],e[136]===Symbol.for("react.memo_cache_sentinel")?(Q=ee("relative flex z-10 flex-1 overflow-hidden"),Re=ee("flex-grow overflow-auto transparent-when-disconnected"),e[136]=Q,e[137]=Re):(Q=e[136],Re=e[137]),e[138]!==pe?(ce=S.jsx("div",{className:Re,children:pe}),e[138]=pe,e[139]=ce):ce=e[139],oe="flex-none flex flex-col w-[300px] p-2 pb-20 gap-2 overflow-auto bg-[var(--slate-2)] border-t border-x rounded-t shadow-sm transparent-when-disconnected mx-2 mt-4",e[140]===Symbol.for("react.memo_cache_sentinel")?(le=S.jsx("div",{className:"text font-bold text-[var(--slate-20)] flex-shrink-0",children:"Outputs"}),e[140]=le):le=e[140],e[141]!==t.columns||e[142]!==t.rowHeight||e[143]!==s?(me=ae=>S.jsx("div",{draggable:!0,unselectable:"on","data-cell-id":ae.id,onDragStart:ye=>{const Fe=ye.currentTarget.offsetHeight;g({i:ae.id,w:t.columns/4,h:Math.ceil(Fe/t.rowHeight)||1}),ye.dataTransfer.setData("text/plain","")},className:ee(Bt,"droppable-element bg-background border-border border overflow-hidden p-2 rounded flex-shrink-0"),children:S.jsx(Ft,{code:ae.code,className:"select-none pointer-events-none",mode:s,cellId:ae.id,output:ae.output,isScrollable:!1,status:ae.status,hidden:!1})},ae.id),e[141]=t.columns,e[142]=t.rowHeight,e[143]=s,e[144]=me):me=e[144],Z=ve.map(me),e[110]=l,e[111]=pe,e[112]=i,e[113]=b,e[114]=t,e[115]=s,e[116]=r,e[117]=k,e[118]=oe,e[119]=le,e[120]=Z,e[121]=Q,e[122]=ce,e[123]=fe,e[124]=pe}else oe=e[118],le=e[119],Z=e[120],Q=e[121],ce=e[122],fe=e[123],pe=e[124];return e[145]!==oe||e[146]!==le||e[147]!==Z?(ke=S.jsxs("div",{className:oe,children:[le,Z]}),e[145]=oe,e[146]=le,e[147]=Z,e[148]=ke):ke=e[148],e[149]!==Q||e[150]!==ce||e[151]!==ke?(he=S.jsxs("div",{className:Q,children:[ce,ke]}),e[149]=Q,e[150]=ce,e[151]=ke,e[152]=he):he=e[152],e[153]!==fe||e[154]!==he?(_t=S.jsxs(S.Fragment,{children:[fe,he]}),e[153]=fe,e[154]=he,e[155]=_t):_t=e[155],_t},getInitialLayout:()=>({columns:24,rowHeight:20,maxWidth:1400,bordered:!0,scrollableCells:new Set,cellSide:new Map,cells:[]})},Qs=be.lazy(()=>yi(()=>import("./slides-component-BIjT59tF.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)),Ar=U.memo(n=>{const e=G.c(6),{output:t,cellId:r,status:l}=n;let s;e[0]!==l?(s=en(l),e[0]=l,e[1]=s):s=e[1];const u=s;let f;return e[2]!==r||e[3]!==u||e[4]!==t?(f=S.jsx(Dt,{className:"contents",allowExpand:!1,output:t,cellId:r,stale:u,loading:u}),e[2]=r,e[3]=u,e[4]=t,e[5]=f):f=e[5],f});Ar.displayName="Slide";const Js={type:"slides",name:"Slides",validator:an({}),deserializeLayout:(n,e)=>({}),serializeLayout:(n,e)=>({}),Component:n=>{const e=G.c(11),{cells:t,mode:r}=n,l=r==="read";let s,u;if(e[0]!==t||e[1]!==r){let d;e[3]!==r?(d=g=>g.output==null||g.output.data===""?null:S.jsx(Ar,{cellId:g.id,code:g.code,status:g.status,output:g.output,mode:r},g.id),e[3]=r,e[4]=d):d=e[4],s=t.map(d),e[0]=t,e[1]=r,e[2]=s}else s=e[2];e[5]!==s?(u=S.jsx(Qs,{forceKeyboardNavigation:!0,children:s}),e[5]=s,e[6]=u):u=e[6];const f=u;if(l){let d;return e[7]!==f?(d=S.jsx("div",{className:"p-4",children:f}),e[7]=f,e[8]=d):d=e[8],d}let i;return e[9]!==f?(i=S.jsx("div",{className:"pr-9",children:f}),e[9]=f,e[10]=i):i=e[10],i},getInitialLayout:()=>({})};U.memo(n=>{const e=be.useRef({});return S.jsx(Oo,{minHeight:"200px",maxHeight:"200px",ref:e,theme:"dark",value:n.code,className:"[&>*]:outline-none [&>.cm-editor]:pr-0 overflow-hidden dark",readOnly:!0,editable:!1,basicSetup:{lineNumbers:!1},extensions:[jl.shell(),bi.updateListener.of(t=>{var r;t.docChanged&&((r=e.current.view)==null||r.dispatch({selection:{anchor:t.state.doc.length,head:t.state.doc.length},scrollIntoView:!0}))})]})}).displayName="DebuggerOutput";const Zs=n=>{const e=G.c(30),{onSubmit:t,onClear:r}=n;let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=ee("m-0 w-9 h-8 bg-[var(--slate-2)] text-[var(--slate-11)] hover:text-[var(--blue-11)] rounded-none hover:bg-[var(--sky-3)] hover:border-[var(--blue-8)]","first:rounded-l-lg first:border-l border-t border-b hover:border","last:rounded-r-lg last:border-r"),e[0]=l):l=e[0];const s=l;let u,f,i,d,g,b,a,o,c,p,m,h,y,v,_;return e[1]!==t?(u=()=>t("n"),e[1]=t,e[2]=u):u=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(f=S.jsx(In,{fontSize:36,className:"w-5 h-5"}),e[3]=f):f=e[3],e[4]!==u?(i=S.jsx(we,{content:"Next line",children:S.jsx(Te,{variant:"text",size:"icon","data-testid":"debugger-next-button",className:s,onClick:u,children:f})}),e[4]=u,e[5]=i):i=e[5],e[6]!==t?(d=()=>t("c"),e[6]=t,e[7]=d):d=e[7],e[8]===Symbol.for("react.memo_cache_sentinel")?(g=ee(s,"text-[var(--grass-11)] hover:text-[var(--grass-11)] hover:bg-[var(--grass-3)] hover:border-[var(--grass-8)]"),b=S.jsx(wn,{fontSize:36,className:"w-5 h-5"}),e[8]=g,e[9]=b):(g=e[8],b=e[9]),e[10]!==d?(a=S.jsx(we,{content:"Continue execution",children:S.jsx(Te,{variant:"text",size:"icon","data-testid":"debugger-continue-button",onClick:d,className:g,children:b})}),e[10]=d,e[11]=a):a=e[11],e[12]!==t?(o=()=>t("bt"),e[12]=t,e[13]=o):o=e[13],e[14]===Symbol.for("react.memo_cache_sentinel")?(c=S.jsx(zn,{fontSize:36,className:"w-5 h-5"}),e[14]=c):c=e[14],e[15]!==o?(p=S.jsx(we,{content:"Print stack trace",children:S.jsx(Te,{variant:"text",size:"icon","data-testid":"debugger-stack-button",className:s,onClick:o,children:c})}),e[15]=o,e[16]=p):p=e[16],e[17]!==t?(m=()=>t("help"),e[17]=t,e[18]=m):m=e[18],e[19]===Symbol.for("react.memo_cache_sentinel")?(h=S.jsx(vi,{fontSize:36,className:"w-5 h-5"}),e[19]=h):h=e[19],e[20]!==m?(y=S.jsx(we,{content:"Help",children:S.jsx(Te,{variant:"text",size:"icon","data-testid":"debugger-help-button",className:s,onClick:m,children:h})}),e[20]=m,e[21]=y):y=e[21],e[22]!==r?(v=r&&S.jsx(we,{content:"Clear",children:S.jsx(Te,{variant:"text",size:"icon","data-testid":"debugger-clear-button",className:ee(s,"text-[var(--red-11)] hover:text-[var(--red-11)] hover:bg-[var(--red-2)] hover:border-[var(--red-8)]"),onClick:r,children:S.jsx(Ol,{fontSize:36,className:"w-5 h-5"})})}),e[22]=r,e[23]=v):v=e[23],e[24]!==p||e[25]!==y||e[26]!==v||e[27]!==i||e[28]!==a?(_=S.jsxs("div",{className:"flex",children:[i,a,p,y,v]}),e[24]=p,e[25]=y,e[26]=v,e[27]=i,e[28]=a,e[29]=_):_=e[29],_};let qr;Fo=n=>{const e=G.c(13);let t,r,l,s;e[0]!==n?({value:s,onChange:t,placeholder:r,...l}=n,e[0]=n,e[1]=t,e[2]=r,e[3]=l,e[4]=s):(t=e[1],r=e[2],l=e[3],s=e[4]);const u=U.useRef(null),f=Br(s,t);let i;e[5]!==f.onBlur?(i=()=>{const o=f.onBlur,c=u.current;if(c)return c.addEventListener("blur",o),()=>{c.removeEventListener("blur",o)}},e[5]=f.onBlur,e[6]=i):i=e[6],Ro(i);const d=f.value,g=f.onChange;let b,a;return e[7]===Symbol.for("react.memo_cache_sentinel")?(b=ln.onEnter(ln.stopPropagation()),e[7]=b):b=e[7],e[8]!==f.onChange||e[9]!==f.value||e[10]!==r||e[11]!==l?(a=S.jsx(Po,{"data-testid":"cell-name-input",value:d,onChange:g,ref:u,placeholder:r,className:"shadow-none! hover:shadow-none focus:shadow-none focus-visible:shadow-none",onKeyDown:b,...l}),e[8]=f.onChange,e[9]=f.value,e[10]=r,e[11]=l,e[12]=a):a=e[12],a},qr=n=>{const e=G.c(11),{value:t,cellId:r,className:l}=n,{updateCellName:s}=ko();let u;e[0]!==r||e[1]!==s?(u=o=>s({cellId:r,name:o}),e[0]=r,e[1]=s,e[2]=u):u=e[2];const f=Br(t,u);if(Ct(t))return null;let i;e[3]!==l?(i=ee("outline-none border hover:border-cyan-500/40 focus:border-cyan-500/40",l),e[3]=l,e[4]=i):i=e[4];const d=f.onChange,g=f.onBlur;let b,a;return e[5]===Symbol.for("react.memo_cache_sentinel")?(b=ln.onEnter(ea),e[5]=b):b=e[5],e[6]!==f.onBlur||e[7]!==f.onChange||e[8]!==i||e[9]!==t?(a=S.jsx(we,{content:"Click to rename",children:S.jsx("span",{className:i,contentEditable:!0,suppressContentEditableWarning:!0,onChange:d,onBlur:g,onKeyDown:b,children:t})}),e[6]=f.onBlur,e[7]=f.onChange,e[8]=i,e[9]=t,e[10]=a):a=e[10],a};function Br(n,e){const t=G.c(11),[r,l]=U.useState(n);let s;t[0]!==e||t[1]!==n?(s=b=>{if(b===n)return;if(!b||Ct(b))return void e(b);const a=wi(b,xi());e(a)},t[0]=e,t[1]=n,t[2]=s):s=t[2];const u=s;let f,i,d,g;return t[3]!==r?(f=Ct(r)?"":r,t[3]=r,t[4]=f):f=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(i=b=>{const a=b.target.value,o=cn(a);l(o)},t[5]=i):i=t[5],t[6]!==u?(d=b=>{if(b.target instanceof HTMLInputElement){const a=b.target.value;u(cn(a))}else if(b.target instanceof HTMLSpanElement){const a=b.target.innerText.trim();u(cn(a))}},t[6]=u,t[7]=d):d=t[7],t[8]!==f||t[9]!==d?(g={value:f,onChange:i,onBlur:d},t[8]=f,t[9]=d,t[10]=g):g=t[10],g}function ea(n){n.target instanceof HTMLElement&&n.target.blur()}const ta=Si("marimo:console:wrapText",!1);let Fr,Gr,$r,Vr,Gt;Fr=new ji,jn=n=>{const e=G.c(2);let t;return e[0]!==n?(t=S.jsx(_i,{children:S.jsx(Gr,{...n})}),e[0]=n,e[1]=t):t=e[1],t},Gr=n=>{const e=G.c(55),t=be.useRef(null),{wrapText:r,setWrapText:l}=function(){const D=G.c(3),[R,I]=Qt(ta);let B;return D[0]!==I||D[1]!==R?(B={wrapText:R,setWrapText:I},D[0]=I,D[1]=R,D[2]=B):B=D[2],B}(),{consoleOutputs:s,stale:u,cellName:f,cellId:i,onSubmitDebugger:d,onClear:g,onRefactorWithAI:b,className:a}=n,o=s.length>0,c=function(D=!0){return{onKeyDown:R=>{if(!D)return;const I=R.currentTarget;if(R.key.toLowerCase()!=="a"||!R.ctrlKey&&!R.metaKey)return;R.preventDefault(),R.stopPropagation();const B=window.getSelection();if(!B)return;const Y=document.createRange();Y.selectNodeContents(I),B.removeAllRanges(),B.addRange(Y)}}}(o);let p,m,h,y;if(e[0]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{const D=t.current;if(!D)return;const R=D.scrollHeight-D.clientHeight;R-D.scrollTop<120&&(D.scrollTop=R)},e[0]=p):p=e[0],U.useLayoutEffect(p),!o&&Ct(f))return null;e[1]!==s?(h=[...s].reverse(),m=h.some(na),y=h.findIndex(ra),e[1]=s,e[2]=m,e[3]=h,e[4]=y):(m=e[2],h=e[3],y=e[4]);const v=y;let _,O,E;e[5]!==h?(_=()=>{const D=h.filter(oa).map(sa).join(`
`);Oi(D)},e[5]=h,e[6]=_):_=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(O=S.jsx(Di,{className:"h-4 w-4"}),e[7]=O):O=e[7],e[8]!==_?(E=S.jsx(we,{content:"Copy all",children:S.jsx("span",{children:S.jsx("button",{"aria-label":"Copy all console output",className:"p-1 rounded bg-transparent text-muted-foreground hover:text-foreground",type:"button",onClick:_,children:O})})}),e[8]=_,e[9]=E):E=e[9];const k=r?"Disable wrap text":"Wrap text";let T,L,N,P;e[10]===Symbol.for("react.memo_cache_sentinel")?(T=S.jsx(Ci,{className:"h-4 w-4"}),e[10]=T):T=e[10],e[11]!==l||e[12]!==r?(L=S.jsx("span",{children:S.jsx(ns,{"aria-label":"Toggle text wrapping",className:"p-1 rounded bg-transparent text-muted-foreground data-[hovered]:text-foreground data-[selected]:text-foreground",isSelected:r,onChange:l,children:T})}),e[11]=l,e[12]=r,e[13]=L):L=e[13],e[14]!==k||e[15]!==L?(N=S.jsx(we,{content:k,children:L}),e[14]=k,e[15]=L,e[16]=N):N=e[16],e[17]!==E||e[18]!==N?(P=S.jsxs("div",{className:"absolute top-1 right-5 z-10 opacity-0 group-hover:opacity-100 flex gap-1",children:[E,N]}),e[17]=E,e[18]=N,e[19]=P):P=e[19];const M=u?"This console output is stale":void 0,q=u&&"marimo-output-stale",A=o?"p-5":"p-3";let W,x,w,j,C;if(e[20]!==a||e[21]!==q||e[22]!==A?(W=ee("console-output-area overflow-hidden rounded-b-lg flex flex-col-reverse w-full gap-1 focus:outline-none",q,A,a),e[20]=a,e[21]=q,e[22]=A,e[23]=W):W=e[23],e[24]!==i||e[25]!==s.length||e[26]!==m||e[27]!==v||e[28]!==g||e[29]!==b||e[30]!==d||e[31]!==h||e[32]!==r){let D;e[34]!==i||e[35]!==s.length||e[36]!==m||e[37]!==v||e[38]!==g||e[39]!==b||e[40]!==d||e[41]!==r?(D=(R,I)=>{if(R.channel==="pdb")return null;if(R.channel==="stdin"){Ei(typeof R.data=="string","Expected data to be a string");const B=s.length-I-1;return R.response==null&&v===I?S.jsx($r,{output:R.data,isPdb:m,onSubmit:Y=>d(Y,B),onClear:g},I):S.jsx(Vr,{output:R.data,response:R.response},I)}return S.jsx(be.Fragment,{children:S.jsx(Ni,{cellId:i,onRefactorWithAI:b,message:R,wrapText:r})},I)},e[34]=i,e[35]=s.length,e[36]=m,e[37]=v,e[38]=g,e[39]=b,e[40]=d,e[41]=r,e[42]=D):D=e[42],x=h.map(D),e[24]=i,e[25]=s.length,e[26]=m,e[27]=v,e[28]=g,e[29]=b,e[30]=d,e[31]=h,e[32]=r,e[33]=x}else x=e[33];return e[43]!==i||e[44]!==f?(w=S.jsx(qr,{value:f,cellId:i,className:"bg-[var(--slate-4)] border-[var(--slate-4)] hover:bg-[var(--slate-5)] dark:border-[var(--sky-5)] dark:bg-[var(--sky-6)] dark:text-[var(--sky-12)] text-[var(--slate-12)] rounded-tl rounded-br-lg absolute right-0 bottom-0 text-xs px-1.5 py-0.5 font-mono"}),e[43]=i,e[44]=f,e[45]=w):w=e[45],e[46]!==c||e[47]!==M||e[48]!==W||e[49]!==x||e[50]!==w?(j=S.jsxs("div",{title:M,"data-testid":"console-output-area",ref:t,...c,tabIndex:0,className:W,children:[x,w]}),e[46]=c,e[47]=M,e[48]=W,e[49]=x,e[50]=w,e[51]=j):j=e[51],e[52]!==j||e[53]!==P?(C=S.jsxs("div",{className:"relative group",children:[P,j]}),e[52]=j,e[53]=P,e[54]=C):C=e[54],C},$r=n=>{const e=G.c(13);let t,r,l,s,u;return e[0]!==n.output?(t=Gt(n.output),e[0]=n.output,e[1]=t):t=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(r=S.jsx(Ri,{className:"w-5 h-5"}),e[2]=r):r=e[2],e[3]!==n?(l=S.jsx(Po,{"data-testid":"console-input","data-stdin-blocking":!0,type:"text",autoComplete:"off",autoFocus:!0,icon:r,className:"m-0 h-8 focus-visible:shadow-xsSolid",placeholder:"stdin",onKeyDownCapture:f=>{f.key!=="Enter"||f.shiftKey||(n.onSubmit(f.currentTarget.value),f.preventDefault(),f.stopPropagation()),f.key==="Enter"&&f.metaKey&&(f.preventDefault(),f.stopPropagation())}}),e[3]=n,e[4]=l):l=e[4],e[5]!==n.isPdb||e[6]!==n.onClear||e[7]!==n.onSubmit?(s=n.isPdb&&S.jsx(Zs,{onSubmit:n.onSubmit,onClear:n.onClear}),e[5]=n.isPdb,e[6]=n.onClear,e[7]=n.onSubmit,e[8]=s):s=e[8],e[9]!==t||e[10]!==l||e[11]!==s?(u=S.jsxs("div",{className:"flex gap-2 items-center pt-2",children:[t,l,s]}),e[9]=t,e[10]=l,e[11]=s,e[12]=u):u=e[12],u},Vr=n=>{const e=G.c(7);let t,r,l;return e[0]!==n.output?(t=Gt(n.output),e[0]=n.output,e[1]=t):t=e[1],e[2]!==n.response?(r=S.jsx("span",{className:"text-[var(--sky-11)]",children:n.response}),e[2]=n.response,e[3]=r):r=e[3],e[4]!==t||e[5]!==r?(l=S.jsxs("div",{className:"flex gap-2 items-center",children:[t,r]}),e[4]=t,e[5]=r,e[6]=l):l=e[6],l},Gt=n=>n?S.jsx("span",{dangerouslySetInnerHTML:{__html:Fr.ansi_to_html(n)}}):null;function na(n){return typeof n.data=="string"&&n.data.includes("(Pdb)")}function ra(n){return n.channel==="stdin"}function oa(n){return n.channel!=="pdb"}function sa(n){return ki.asString(n.data)}const aa=/\/@file\/([^\s/]+)\.([\dA-Za-z]+)/g;Xe=class{static get INSTANCE(){const n="_marimo_private_VirtualFileTracker";return window[n]||(window[n]=new Xe),window[n]}constructor(){this.virtualFiles=new Map}track(n){const e=n.output,t=n.cell_id;if(e)switch(e.mimetype){case"application/json":case"text/html":{const r=this.virtualFiles.get(t),l=function(s){if(!s)return new Set;const u=new Set,f=(typeof s=="string"?s:JSON.stringify(s)).match(aa);if(f)for(const i of f)u.add(i);return u}(e.data);return r==null||r.forEach(s=>l.add(s)),void this.virtualFiles.set(t,l)}default:return}}filenames(){const n=new Set;for(const e of this.virtualFiles.values())e.forEach(t=>n.add(t));return[...n]}removeForCellId(n){this.virtualFiles.delete(n)}},Sn=async function(n){const{filename:e,includeCode:t}=n,r=await Pi({download:!0,includeCode:t,files:Xe.INSTANCE.filenames()}),l=Mi.basename(e)??"notebook.py";Ti(new Blob([r],{type:"text/html"}),zi.toHTML(l))},Mn=function(n){const e=G.c(7),[t,r]=U.useState(void 0),[l,s]=U.useState(void 0),u=U.useRef(null),f=U.useRef(null);let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=new Map,e[0]=i):i=e[0];const d=U.useRef(i);let g,b,a;return e[1]!==n?(g=()=>{if(n.length!==0)return u.current=new IntersectionObserver(o=>{let c=!1;if(o.forEach(p=>{const m=p.target;p.isIntersecting?(!f.current||m.getBoundingClientRect().top<f.current.getBoundingClientRect().top)&&(f.current=m,c=!0):m===f.current&&(f.current=null,c=!0)}),c&&f.current){const p=Mo(f.current),m="id"in p?p.id:p.path;r(m),s(d.current.get(f.current))}},{root:fo()==="edit"?document.getElementById("App"):void 0,rootMargin:"0px",threshold:0}),n.forEach(o=>{var c;if(o){const p=Mo(o[0]),m=n.map(ia).filter(h=>"id"in p?h.id===p.id:h.textContent===o[0].textContent).indexOf(o[0]);d.current.set(o[0],m),(c=u.current)==null||c.observe(o[0])}}),()=>{u.current&&u.current.disconnect(),f.current=null}},b=[n],e[1]=n,e[2]=g,e[3]=b):(g=e[2],b=e[3]),U.useEffect(g,b),e[4]!==t||e[5]!==l?(a={activeHeaderId:t,activeOccurrences:l},e[4]=t,e[5]=l,e[6]=a):a=e[6],a};function ia(n){const[e]=n;return e}Pn=function(n){if(n.length===0)return[];const e=new Map;return n.map(t=>{const r="id"in t.by?t.by.id:t.by.path,l=e.get(r)??0;e.set(r,l+1);const s=Ur(t,l);return s?[s,r]:null}).filter(Boolean)};function Yr(n,e){const t=Ur(n,e);t?(t.scrollIntoView({behavior:"smooth",block:"start"}),t.classList.add("outline-item-highlight"),setTimeout(()=>{t.classList.remove("outline-item-highlight")},3e3)):Se.warn("Could not find element for outline item",n)}function Ur(n,e){return"id"in n.by?document.querySelectorAll(`[id="${CSS.escape(n.by.id)}"]`)[e]:document.evaluate(n.by.path,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}let Xr;Nn=()=>{const n=G.c(19),{items:e}=Oe(Li);let t;n[0]!==e?(t=Pn(e),n[0]=e,n[1]=t):t=n[1];const{activeHeaderId:r,activeOccurrences:l}=Mn(t),[s,u]=be.useState(!1);if(e.length<2)return null;let f,i,d;n[2]===Symbol.for("react.memo_cache_sentinel")?(f=()=>u(!0),i=()=>u(!1),d=ee("fixed top-[25vh] right-8 z-[10000]","hidden md:block"),n[2]=f,n[3]=i,n[4]=d):(f=n[2],i=n[3],d=n[4]);const g=s?"-left-[280px] opacity-100":"left-[300px] opacity-0";let b,a,o,c;return n[5]!==g?(b=ee("-top-4 max-h-[70vh] bg-background rounded-lg shadow-lg absolute overflow-auto transition-all duration-300 w-[300px] border",g),n[5]=g,n[6]=b):b=n[6],n[7]!==r||n[8]!==l||n[9]!==e||n[10]!==b?(a=S.jsx(yn,{className:b,items:e,activeHeaderId:r,activeOccurrences:l}),n[7]=r,n[8]=l,n[9]=e,n[10]=b,n[11]=a):a=n[11],n[12]!==r||n[13]!==l||n[14]!==e?(o=S.jsx(Xr,{items:e,activeHeaderId:r,activeOccurrences:l}),n[12]=r,n[13]=l,n[14]=e,n[15]=o):o=n[15],n[16]!==a||n[17]!==o?(c=S.jsxs("div",{onMouseEnter:f,onMouseLeave:i,className:d,children:[a,o]}),n[16]=a,n[17]=o,n[18]=c):c=n[18],c},Xr=n=>{const e=G.c(8),{items:t,activeHeaderId:r,activeOccurrences:l}=n;let s,u,f;if(e[0]!==r||e[1]!==l||e[2]!==t){const i=new Map;s="flex flex-col gap-4 items-end max-h-[70vh] overflow-hidden",u=t.map((d,g)=>{const b="id"in d.by?d.by.id:d.by.path,a=i.get(b)??0;return i.set(b,a+1),S.jsx("div",{className:ee("h-[2px] bg-muted-foreground/60",d.level===1&&"w-5",d.level===2&&"w-4",d.level===3&&"w-3",d.level===4&&"w-2",a===l&&r===b&&"bg-foreground"),onClick:()=>Yr(d,a)},`${b}-${g}`)}),e[0]=r,e[1]=l,e[2]=t,e[3]=s,e[4]=u}else s=e[3],u=e[4];return e[5]!==s||e[6]!==u?(f=S.jsx("div",{className:s,children:u}),e[5]=s,e[6]=u,e[7]=f):f=e[7],f},yn=n=>{const e=G.c(11),{items:t,activeHeaderId:r,activeOccurrences:l,className:s}=n;let u,f,i;if(e[0]!==r||e[1]!==l||e[2]!==s||e[3]!==t){const d=new Map;e[6]!==s?(u=ee("flex flex-col overflow-auto py-4 pl-2",s),e[6]=s,e[7]=u):u=e[7],f=t.map((g,b)=>{const a="id"in g.by?g.by.id:g.by.path,o=d.get(a)??0;return d.set(a,o+1),S.jsx("div",{className:ee("px-2 py-1 cursor-pointer hover:bg-accent/50 hover:text-accent-foreground rounded-l",g.level===1&&"font-semibold",g.level===2&&"ml-3",g.level===3&&"ml-6",g.level===4&&"ml-9",o===l&&r===a&&"text-accent-foreground"),onClick:()=>Yr(g,o),children:g.name},`${a}-${b}`)}),e[0]=r,e[1]=l,e[2]=s,e[3]=t,e[4]=u,e[5]=f}else u=e[4],f=e[5];return e[8]!==u||e[9]!==f?(i=S.jsx("div",{className:u,children:f}),e[8]=u,e[9]=f,e[10]=i):i=e[10],i},Pt=function(n,e){return{"data-cell-id":n,"data-cell-name":e,id:Ii.create(n)}};let Kr,$t;Cn=n=>{const e=G.c(15),{invisible:t,appConfig:r,className:l,children:s,innerClassName:u}=n;let f;e[0]!==l?(f=ee("px-1 sm:px-16 md:px-20 xl:px-24 print:px-0 print:pb-0",l),e[0]=l,e[1]=f):f=e[1];const i=r.width==="compact"&&"max-w-contentWidth min-w-[400px]",d=r.width==="medium"&&"max-w-contentWidthMedium min-w-[400px]",g=r.width==="columns"&&"w-fit",b=r.width==="full"&&"max-w-full",a=t&&"invisible";let o,c,p;return e[2]!==u||e[3]!==i||e[4]!==d||e[5]!==g||e[6]!==b||e[7]!==a?(o=ee("m-auto pb-24 sm:pb-12",i,d,g,b,a,u),e[2]=u,e[3]=i,e[4]=d,e[5]=g,e[6]=b,e[7]=a,e[8]=o):o=e[8],e[9]!==s||e[10]!==o?(c=S.jsx("div",{className:o,children:s}),e[9]=s,e[10]=o,e[11]=c):c=e[11],e[12]!==f||e[13]!==c?(p=S.jsx("div",{className:f,children:c}),e[12]=f,e[13]=c,e[14]=p):p=e[14],p},Kr=n=>{const e=G.c(20),{canShowCode:t,showCode:r,onToggleShowCode:l}=n,s=ua,u=da;let f;e[0]===Symbol.for("react.memo_cache_sentinel")?(f=dt(),e[0]=f):f=e[0];const i=f;let d,g,b,a;if(e[1]!==t||e[2]!==l||e[3]!==r){if(d=[],t){let o,c,p,m,h;e[5]===Symbol.for("react.memo_cache_sentinel")?(o=S.jsx(Ui,{className:"mr-2",size:14,strokeWidth:1.5}),c=S.jsx("span",{className:"flex-1",children:"Show code"}),e[5]=o,e[6]=c):(o=e[5],c=e[6]),e[7]!==r?(p=r&&S.jsx(Co,{className:"h-4 w-4"}),e[7]=r,e[8]=p):p=e[8],e[9]!==l||e[10]!==p?(m=S.jsxs(ct,{onSelect:l,id:"notebook-action-show-code",children:[o,c,p]},"show-code"),e[9]=l,e[10]=p,e[11]=m):m=e[11],e[12]===Symbol.for("react.memo_cache_sentinel")?(h=S.jsx(zo,{},"show-code-separator"),e[12]=h):h=e[12],d.push(m,h)}if(!i){let o,c,p;e[13]===Symbol.for("react.memo_cache_sentinel")?(o=S.jsxs(ct,{onSelect:u,id:"notebook-action-download-html",children:[S.jsx(fn,{className:"mr-2",size:14,strokeWidth:1.5}),"Download as HTML"]},"download-html"),c=S.jsx(zo,{},"download-html-separator"),e[13]=o,e[14]=c):(o=e[13],c=e[14]),e[15]===Symbol.for("react.memo_cache_sentinel")?(p=S.jsxs(ct,{onSelect:s,id:"notebook-action-download-png",children:[S.jsx(mn,{className:"mr-2",size:14,strokeWidth:1.5}),"Download as PNG"]},"download-png"),e[15]=p):p=e[15],d.push(o,c,p)}e[1]=t,e[2]=l,e[3]=r,e[4]=d}else d=e[4];return d.length===0?null:(e[16]===Symbol.for("react.memo_cache_sentinel")?(g=ee("right-0 top-0 z-50 m-4 no-print flex gap-2 print:hidden",dt()?"absolute":"fixed"),e[16]=g):g=e[16],e[17]===Symbol.for("react.memo_cache_sentinel")?(b=S.jsx(rn,{asChild:!0,children:S.jsx(Te,{variant:"secondary",size:"xs",children:S.jsx(pn,{className:"w-4 h-4"})})}),e[17]=b):b=e[17],e[18]!==d?(a=S.jsx("div",{id:"notebook-actions-dropdown",className:g,children:S.jsxs(sn,{modal:!1,children:[b,S.jsx(on,{align:"end",className:"no-print w-[220px]",children:d})]})}),e[18]=d,e[19]=a):a=e[19],a)},$t=U.memo(n=>{const e=G.c(56),{output:t,consoleOutputs:r,cellOutputArea:l,cellId:s,status:u,stopped:f,errored:i,config:d,interrupted:g,staleInputs:b,runStartTimestamp:a,code:o,showCode:c,mode:p,name:m,kiosk:h}=n,y=U.useRef(null);let v;e[0]!==g||e[1]!==t||e[2]!==a||e[3]!==b||e[4]!==u?(v=Gi({status:u,output:t,interrupted:g,runStartTimestamp:a,staleInputs:b},!1),e[0]=g,e[1]=t,e[2]=a,e[3]=b,e[4]=u,e[5]=v):v=e[5];const _=v;let O;e[6]!==u?(O=en(u),e[6]=u,e[7]=O):O=e[7];const E=O,k=h&&p!=="present";let T;if(e[8]!==o||e[9]!==i||e[10]!==k||e[11]!==p||e[12]!==c||e[13]!==f){const W=new To().isSupported(o),x=!c&&!k;T=ee("marimo-cell","hover-actions-parent empty:invisible",{published:x,interactive:p==="edit","has-error":i,stopped:f,borderless:W&&!x}),e[8]=o,e[9]=i,e[10]=k,e[11]=p,e[12]=c,e[13]=f,e[14]=T}else T=e[14];const L=T;if(p==="read"&&c||k){let W;e[15]!==s||e[16]!==E||e[17]!==t||e[18]!==_?(W=S.jsx(Dt,{allowExpand:!0,output:t,className:"output-area",cellId:s,stale:_,loading:E}),e[15]=s,e[16]=E,e[17]=t,e[18]=_,e[19]=W):W=e[19];const x=W;let w;e[20]!==o||e[21]!==t?(w=function(te,z){const H=new To().isSupported(te),$=z!==null&&!Yi(z);return H&&$||te.trim()===""}(o,t),e[20]=o,e[21]=t,e[22]=w):w=e[22];const j=w;let C;e[23]!==s||e[24]!==m?(C=Pt(s,m),e[23]=s,e[24]=m,e[25]=C):C=e[25];const D=l==="above"&&x;let R;e[26]!==o||e[27]!==d||e[28]!==j||e[29]!==h?(R=!j&&S.jsx("div",{className:"tray",children:S.jsx($i,{initiallyHideCode:d.hide_code||h,code:o})}),e[26]=o,e[27]=d,e[28]=j,e[29]=h,e[30]=R):R=e[30];const I=l==="below"&&x;let B,Y;return e[31]!==s||e[32]!==r||e[33]!==m||e[34]!==_?(B=S.jsx(jn,{consoleOutputs:r,stale:_,cellName:m,onSubmitDebugger:ha,cellId:s,debuggerActive:!1}),e[31]=s,e[32]=r,e[33]=m,e[34]=_,e[35]=B):B=e[35],e[36]!==L||e[37]!==B||e[38]!==C||e[39]!==D||e[40]!==R||e[41]!==I?(Y=S.jsxs("div",{tabIndex:-1,ref:y,className:L,...C,children:[D,R,I,B]}),e[36]=L,e[37]=B,e[38]=C,e[39]=D,e[40]=R,e[41]=I,e[42]=Y):Y=e[42],Y}const N=Vi(t==null?void 0:t.mimetype);if(i||g||f||N)return null;let P;e[43]!==s||e[44]!==m?(P=Pt(s,m),e[43]=s,e[44]=m,e[45]=P):P=e[45];const M=p==="edit";let q,A;return e[46]!==s||e[47]!==E||e[48]!==t||e[49]!==_||e[50]!==M?(q=S.jsx(Dt,{allowExpand:M,output:t,className:"output-area",cellId:s,stale:_,loading:E}),e[46]=s,e[47]=E,e[48]=t,e[49]=_,e[50]=M,e[51]=q):q=e[51],e[52]!==L||e[53]!==P||e[54]!==q?(A=S.jsx("div",{tabIndex:-1,ref:y,className:L,...P,children:q}),e[52]=L,e[53]=P,e[54]=q,e[55]=A):A=e[55],A}),$t.displayName="VerticalCell";function la(n){return!!n.code}function ca(n){return!n}async function ua(){const n=document.getElementById("App");n&&await Xi(n,document.title)}async function da(){document.getElementById("App")&&await Sn({filename:document.title,includeCode:!0})}function ha(){return null}const Vt=[Ks,Js,{type:"vertical",name:"Vertical",validator:Wi(),Component:n=>{const e=G.c(35),{cells:t,appConfig:r,mode:l}=n,{invisible:s}=function(N,P){const M=G.c(5),[q,A]=U.useState(!0);let W,x;return M[0]!==P||M[1]!==N?(W=()=>{if(P!=="read")return void A(!1);const w=Hi(30*(N-1),100,2e3),j=setTimeout(()=>{A(!1)},w);return()=>clearTimeout(j)},M[0]=P,M[1]=N,M[2]=W):W=M[2],Ro(W),M[3]!==q?(x={invisible:q},M[3]=q,M[4]=x):x=M[4],x}(t.length,l),u=Oe(un),[f]=Ai(),i=Oe(mo);let d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d=new URLSearchParams(window.location.search),e[0]=d):d=e[0];const g=d;let b;e[1]!==u||e[2]!==i?(b=()=>{if(!i)return!1;const N=g.get(lt.showCode);return N===null?dt()||Ot()||u:N==="true"},e[1]=u,e[2]=i,e[3]=b):b=e[3];const[a,o]=U.useState(b);let c;e[4]!==t||e[5]!==u||e[6]!==l?(c=()=>{const N=t.some(la);if(u)return!0;const P=g.get(lt.includeCode);return l==="read"&&P!=="false"&&N},e[4]=t,e[5]=u,e[6]=l,e[7]=c):c=e[7];const p=c;let m;e[8]!==p?(m=p(),e[8]=p,e[9]=m):m=e[9];const h=m;let y;e[10]!==h||e[11]!==u||e[12]!==l||e[13]!==a||e[14]!==f?(y=N=>S.jsx($t,{cellId:N.id,output:N.output,consoleOutputs:N.consoleOutputs,status:N.status,code:N.code,config:N.config,cellOutputArea:f.display.cell_output,stopped:N.stopped,showCode:a&&h,errored:N.errored,mode:l,runStartTimestamp:N.runStartTimestamp,interrupted:N.interrupted,staleInputs:N.staleInputs,name:N.name,kiosk:u},N.id),e[10]=h,e[11]=u,e[12]=l,e[13]=a,e[14]=f,e[15]=y):y=e[15];const v=y;let _;e[16]!==r.width||e[17]!==t||e[18]!==s||e[19]!==v?(_=()=>{if(r.width==="columns"){const N=function(P){const M=new Map;let q=0;return P.forEach(A=>{var x;const W=A.config.column??q;q=W,M.has(W)||M.set(W,[]),(x=M.get(W))==null||x.push(A)}),[...M.entries()].sort(([A],[W])=>A-W)}(t);return S.jsx("div",{className:"flex flex-row gap-8 w-full",children:N.map(P=>{const[M,q]=P;return S.jsx("div",{className:"flex-1 flex flex-col gap-2 w-contentWidth",children:q.map(v)},M)})})}return t.length!==0||s?S.jsx(S.Fragment,{children:t.map(v)}):S.jsx("div",{className:"flex-1 flex flex-col items-center justify-center py-8",children:S.jsxs(qi,{variant:"info",children:[S.jsx(Bi,{children:"Empty Notebook"}),S.jsx(Fi,{children:"This notebook has no code or outputs."})]})})},e[16]=r.width,e[17]=t,e[18]=s,e[19]=v,e[20]=_):_=e[20];const O=_;let E,k,T,L;return e[21]!==h||e[22]!==O||e[23]!==a?(E=a&&h?S.jsxs("div",{className:"flex flex-col gap-5",children:[" ",O()]}):O(),e[21]=h,e[22]=O,e[23]=a,e[24]=E):E=e[24],e[25]!==h||e[26]!==l||e[27]!==a?(k=l==="read"&&S.jsx(Kr,{canShowCode:h,showCode:a,onToggleShowCode:()=>o(ca)}),e[25]=h,e[26]=l,e[27]=a,e[28]=k):k=e[28],e[29]===Symbol.for("react.memo_cache_sentinel")?(T=S.jsx(Nn,{}),e[29]=T):T=e[29],e[30]!==r||e[31]!==s||e[32]!==E||e[33]!==k?(L=S.jsxs(Cn,{invisible:s,appConfig:r,children:[E,k,T]}),e[30]=r,e[31]=s,e[32]=E,e[33]=k,e[34]=L):L=e[34],L},deserializeLayout:n=>n,serializeLayout:n=>n,getInitialLayout:()=>null}];function pa(){return{selectedLayout:"vertical",layoutData:{}}}let Qr;({valueAtom:Mt,useActions:Qr}=Et(pa,{setLayoutView:(n,e)=>({...n,selectedLayout:e}),setLayoutData:(n,e)=>({...n,selectedLayout:e.layoutView,layoutData:{...n.layoutData,[e.layoutView]:e.data}}),setCurrentLayoutData:(n,e)=>({...n,layoutData:{...n.layoutData,[n.selectedLayout]:e}})})),xn=()=>Oe(Mt),Rt=()=>Qr(),Uo=function(){const n=Lo(),{layoutData:e,selectedLayout:t}=Xt.get(Mt);if(t==="vertical"||e===void 0)return;const r=e[t],l=Vt.find(s=>s.type===t);if(l!==void 0)return{type:t,data:l.serializeLayout(r,Ki(n))};Se.error(`Unknown layout type: ${t}`)};let Jr;Bo=["vertical","grid","slides"],Jr=["slides"],hn=U.memo(n=>{const e=G.c(8),{appConfig:t,mode:r,children:l}=n,{selectedLayout:s,layoutData:u}=xn(),f=Oe(un);if(r==="edit"&&!f)return l;let i=s;const d=new URLSearchParams(window.location.search);if(r==="read"&&d.has(lt.viewAs)){const o=d.get(lt.viewAs);Jr.includes(o)&&(i=o)}let g;e[0]!==i?(g=Vt.find(o=>o.type===i),e[0]=i,e[1]=g):g=e[1];const b=g;if(!b)return l;let a;return e[2]!==t||e[3]!==i||e[4]!==u||e[5]!==r||e[6]!==b?(a=S.jsx(fa,{appConfig:t,mode:r,plugin:b,layoutData:u,finalLayout:i}),e[2]=t,e[3]=i,e[4]=u,e[5]=r,e[6]=b,e[7]=a):a=e[7],a}),hn.displayName="CellsRenderer";const fa=n=>{const e=G.c(18),{appConfig:t,mode:r,plugin:l,layoutData:s,finalLayout:u}=n,f=Qi(),{setCurrentLayoutData:i}=Rt();let d,g,b,a,o,c;if(e[0]!==t||e[1]!==u||e[2]!==s||e[3]!==r||e[4]!==f||e[5]!==l){const p=Ji(f);d=l.Component,g=t,b=r,a=p,o=s[u]||l.getInitialLayout(p),e[0]=t,e[1]=u,e[2]=s,e[3]=r,e[4]=f,e[5]=l,e[6]=d,e[7]=g,e[8]=b,e[9]=a,e[10]=o}else d=e[6],g=e[7],b=e[8],a=e[9],o=e[10];return e[11]!==d||e[12]!==i||e[13]!==g||e[14]!==b||e[15]!==a||e[16]!==o?(c=S.jsx(d,{appConfig:g,mode:b,cells:a,layout:o,setLayout:i}),e[11]=d,e[12]=i,e[13]=g,e[14]=b,e[15]=a,e[16]=o,e[17]=c):c=e[17],c};bn=class{static get INSTANCE(){const n="_marimo_private_RuntimeState";return window[n]||(window[n]=new bn(ht)),window[n]}constructor(n){this.uiElementRegistry=n,this.hasStarted=!1,this._sendComponentValues=void 0,this.handleReadyEvent=e=>{const t=e.detail.objectId;if(!this.uiElementRegistry.has(t))return;const r=this.uiElementRegistry.lookupValue(t);r!==void 0&&this.sendComponentValues({objectIds:[t],values:[r]}).catch(l=>{Se.warn(l)})}}get sendComponentValues(){if(!this._sendComponentValues)throw new Error("sendComponentValues is not set");return this._sendComponentValues}start(n){this.hasStarted?Se.warn("RuntimeState already started"):(this._sendComponentValues=n,document.addEventListener(Io.TYPE,this.handleReadyEvent),this.hasStarted=!0)}stop(){this.hasStarted?(document.removeEventListener(Io.TYPE,this.handleReadyEvent),this.hasStarted=!1):Se.warn("RuntimeState already stopped")}},globalThis.EventTarget&&globalThis.Event||console.error(`
  PartySocket requires a global 'EventTarget' class to be available!
  You can polyfill this global by adding this to your code before any partysocket imports: 
  
  \`\`\`
  import 'partysocket/event-target-polyfill';
  \`\`\`
  Please file an issue at https://github.com/partykit/partykit if you're still having trouble.
`);var Zr,eo=class extends Event{constructor(e,t){super("error",t);re(this,"message");re(this,"error");this.message=e.message,this.error=e}},to=class extends Event{constructor(e=1e3,t="",r){super("close",r);re(this,"code");re(this,"reason");re(this,"wasClean",!0);this.code=e,this.reason=t}},no=eo,ma=to;let st,We,Yt;st=typeof process<"u"&&((Zr=process.versions)==null?void 0:Zr.node)!==void 0&&typeof document>"u"?function(n){return"data"in n?new MessageEvent(n.type,n):"code"in n||"reason"in n?new to(n.code||1999,n.reason||"unknown reason",n):"error"in n?new eo(n.error,n):new Event(n.type,n)}:function(n){return new n.constructor(n.type,n)},We={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+4e3*Math.random(),minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:Number.POSITIVE_INFINITY,maxEnqueuedMessages:Number.POSITIVE_INFINITY},Yt=!1,_n=class Ge extends EventTarget{constructor(t,r,l={}){super();re(this,"_ws");re(this,"_retryCount",-1);re(this,"_uptimeTimeout");re(this,"_connectTimeout");re(this,"_shouldReconnect",!0);re(this,"_connectLock",!1);re(this,"_binaryType","blob");re(this,"_closeCalled",!1);re(this,"_messageQueue",[]);re(this,"_debugLogger",console.log.bind(console));re(this,"_url");re(this,"_protocols");re(this,"_options");re(this,"onclose",null);re(this,"onerror",null);re(this,"onmessage",null);re(this,"onopen",null);re(this,"_handleOpen",t=>{this._debug("open event");const{minUptime:r=We.minUptime}=this._options;clearTimeout(this._connectTimeout),this._uptimeTimeout=setTimeout(()=>this._acceptOpen(),r),function(l,s){if(!l)throw new Error(s)}(this._ws,"WebSocket is not defined"),this._ws.binaryType=this._binaryType,this._messageQueue.forEach(l=>{var s;return(s=this._ws)==null?void 0:s.send(l)}),this._messageQueue=[],this.onopen&&this.onopen(t),this.dispatchEvent(st(t))});re(this,"_handleMessage",t=>{this._debug("message event"),this.onmessage&&this.onmessage(t),this.dispatchEvent(st(t))});re(this,"_handleError",t=>{this._debug("error event",t.message),this._disconnect(void 0,t.message==="TIMEOUT"?"timeout":void 0),this.onerror&&this.onerror(t),this._debug("exec error listeners"),this.dispatchEvent(st(t)),this._connect()});re(this,"_handleClose",t=>{this._debug("close event"),this._clearTimeouts(),this._shouldReconnect&&this._connect(),this.onclose&&this.onclose(t),this.dispatchEvent(st(t))});this._url=t,this._protocols=r,this._options=l,this._options.startClosed&&(this._shouldReconnect=!1),this._options.debugLogger&&(this._debugLogger=this._options.debugLogger),this._connect()}static get CONNECTING(){return 0}static get OPEN(){return 1}static get CLOSING(){return 2}static get CLOSED(){return 3}get CONNECTING(){return Ge.CONNECTING}get OPEN(){return Ge.OPEN}get CLOSING(){return Ge.CLOSING}get CLOSED(){return Ge.CLOSED}get binaryType(){return this._ws?this._ws.binaryType:this._binaryType}set binaryType(t){this._binaryType=t,this._ws&&(this._ws.binaryType=t)}get retryCount(){return Math.max(this._retryCount,0)}get bufferedAmount(){return this._messageQueue.reduce((t,r)=>(typeof r=="string"?t+=r.length:r instanceof Blob?t+=r.size:t+=r.byteLength,t),0)+(this._ws?this._ws.bufferedAmount:0)}get extensions(){return this._ws?this._ws.extensions:""}get protocol(){return this._ws?this._ws.protocol:""}get readyState(){return this._ws?this._ws.readyState:this._options.startClosed?Ge.CLOSED:Ge.CONNECTING}get url(){return this._ws?this._ws.url:""}get shouldReconnect(){return this._shouldReconnect}close(t=1e3,r){this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),this._ws?this._ws.readyState!==this.CLOSED?this._ws.close(t,r):this._debug("close: already closed"):this._debug("close enqueued: no ws instance")}reconnect(t,r){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,this._ws&&this._ws.readyState!==this.CLOSED?(this._disconnect(t,r),this._connect()):this._connect()}send(t){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",t),this._ws.send(t);else{const{maxEnqueuedMessages:r=We.maxEnqueuedMessages}=this._options;this._messageQueue.length<r&&(this._debug("enqueue",t),this._messageQueue.push(t))}}_debug(...t){this._options.debug&&this._debugLogger("RWS>",...t)}_getNextDelay(){const{reconnectionDelayGrowFactor:t=We.reconnectionDelayGrowFactor,minReconnectionDelay:r=We.minReconnectionDelay,maxReconnectionDelay:l=We.maxReconnectionDelay}=this._options;let s=0;return this._retryCount>0&&(s=r*t**(this._retryCount-1),s>l&&(s=l)),this._debug("next delay",s),s}_wait(){return new Promise(t=>{setTimeout(t,this._getNextDelay())})}_getNextProtocols(t){if(!t)return Promise.resolve(null);if(typeof t=="string"||Array.isArray(t))return Promise.resolve(t);if(typeof t=="function"){const r=t();if(!r)return Promise.resolve(null);if(typeof r=="string"||Array.isArray(r))return Promise.resolve(r);if(r.then)return r}throw Error("Invalid protocols")}_getNextUrl(t){if(typeof t=="string")return Promise.resolve(t);if(typeof t=="function"){const r=t();if(typeof r=="string")return Promise.resolve(r);if(r.then)return r}throw Error("Invalid URL")}_connect(){if(this._connectLock||!this._shouldReconnect)return;this._connectLock=!0;const{maxRetries:t=We.maxRetries,connectionTimeout:r=We.connectionTimeout}=this._options;this._retryCount>=t?this._debug("max retries reached",this._retryCount,">=",t):(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),this._wait().then(()=>Promise.all([this._getNextUrl(this._url),this._getNextProtocols(this._protocols||null)])).then(([l,s])=>{if(this._closeCalled)return void(this._connectLock=!1);this._options.WebSocket||typeof WebSocket<"u"||Yt||(console.error(`\u203C\uFE0F No WebSocket implementation available. You should define options.WebSocket. 

For example, if you're using node.js, run \`npm install ws\`, and then in your code:

import PartySocket from 'partysocket';
import WS from 'ws';

const partysocket = new PartySocket({
  host: "127.0.0.1:1999",
  room: "test-room",
  WebSocket: WS
});

`),Yt=!0);const u=this._options.WebSocket||WebSocket;this._debug("connect",{url:l,protocols:s}),this._ws=s?new u(l,s):new u(l),this._ws.binaryType=this._binaryType,this._connectLock=!1,this._addListeners(),this._connectTimeout=setTimeout(()=>this._handleTimeout(),r)}).catch(l=>{this._connectLock=!1,this._handleError(new no(Error(l.message),this))}))}_handleTimeout(){this._debug("timeout event"),this._handleError(new no(Error("TIMEOUT"),this))}_disconnect(t=1e3,r){if(this._clearTimeouts(),this._ws){this._removeListeners();try{this._ws.readyState!==this.OPEN&&this._ws.readyState!==this.CONNECTING||this._ws.close(t,r),this._handleClose(new ma(t,r,this))}catch{}}}_acceptOpen(){this._debug("accept open"),this._retryCount=0}_removeListeners(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))}_addListeners(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))}_clearTimeouts(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)}};class ga{constructor(){this.CONNECTING=WebSocket.CONNECTING,this.OPEN=WebSocket.OPEN,this.CLOSING=WebSocket.CLOSING,this.CLOSED=WebSocket.CLOSED,this.binaryType="blob",this.bufferedAmount=0,this.extensions="",this.protocol="",this.url="",this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this.readyState=WebSocket.OPEN,this.retryCount=0,this.shouldReconnect=!1}addEventListener(e,t,r){e==="open"&&queueMicrotask(()=>{t(new Event("open"))})}removeEventListener(e,t,r){}dispatchEvent(e){return!1}reconnect(e,t){}send(e){}close(){}}Ko=function(n){return n.kind==="missing"},Qo=function(n){return n.kind==="installing"};let ro,oo;({valueAtom:ro,useActions:oo}=Et(()=>({packageAlert:null}),{addPackageAlert:(n,e)=>({...n,packageAlert:{id:Ho(),...e}}),clearPackageAlert:(n,e)=>n.packageAlert!==null&&n.packageAlert.id===e?{...n,packageAlert:null}:n})),Xo=()=>Oe(ro),On=function(){return oo()};let so;({valueAtom:Zo,useActions:En}=Et(function(){return{runIds:[],runMap:new Map}},{addCellOperation:(n,e)=>{const{cellOperation:t,code:r}=e,l=t.run_id;if(!l)return n;const s=n.runMap.get(l);if(!s&&function(b){return b.startsWith("mo.md(")&&so.test(b)}(r))return n;const u=t.output&&(t.output.channel==="marimo-error"||t.output.channel==="stderr");let f=u?"error":t.status==="queued"?"queued":t.status==="running"?"running":"success";if(!s){const b={runId:l,cellRuns:new Map([[t.cell_id,{cellId:t.cell_id,code:r.slice(0,200),elapsedTime:0,status:f,startTime:t.timestamp}]]),runStartTime:t.timestamp},a=[l,...n.runIds],o=new Map(n.runMap);if(a.length>50){const c=a.pop();c&&o.delete(c)}return o.set(l,b),{runIds:a,runMap:o}}const i=new Map(s.cellRuns),d=i.get(t.cell_id);if(d&&!u&&t.status==="queued")return n;if(d){f=d.status==="error"||u?"error":f;const b=t.status==="running"?t.timestamp:d.startTime,a=f==="success"||f==="error"?t.timestamp-d.startTime:void 0;i.set(t.cell_id,{...d,startTime:b,elapsedTime:a,status:f})}else i.set(t.cell_id,{cellId:t.cell_id,code:r.slice(0,200),elapsedTime:0,status:f,startTime:t.timestamp});const g=new Map(n.runMap);return g.set(l,{...s,cellRuns:i}),{...n,runMap:g}},clearRuns:n=>({...n,runIds:[],runMap:new Map}),removeRun:(n,e)=>{const t=n.runIds.filter(l=>l!==e),r=new Map(n.runMap);return r.delete(e),{...n,runIds:t,runMap:r}}})),so=/mo\.md\(\s*r?('''|""")/;let ao,io;Rn=new dn("sql-table-preview",async(n,e)=>{await tl({requestId:n,...e})}),kn=new dn("sql-table-list-preview",async(n,e)=>{await el({requestId:n,...e})}),{valueAtom:ao,useActions:io}=Et(()=>({banners:[]}),{addBanner:(n,e)=>({...n,banners:[...n.banners,{...e,id:Ho()}]}),removeBanner:(n,e)=>({...n,banners:n.banners.filter(t=>t.id!==e)}),clearBanners:n=>({...n,banners:[]})}),Jo=()=>Oe(ao),Dn=function(){return io()};function ya(n,e){const{autoInstantiate:t,setCells:r,setLayoutData:l,onError:s,setAppConfig:u,setCapabilities:f}=e,{codes:i,names:d,layout:g,configs:b,resumed:a,ui_values:o,cell_ids:c,last_executed_code:p,last_execution_time:m={},app_config:h,capabilities:y}=n,v=p||{},_=m||{},O=i.map((N,P)=>{const M=c[P];let q=!1;const A=v[M];return A&&(q=A!==N),nl({id:M,code:N,edited:q,name:d[P],lastCodeRun:v[M]??null,lastExecutionTime:_[M]??null,config:b[P]})}),E={selectedLayout:"vertical",layoutData:{}};if(g){const N=g.type,P=function({type:M,data:q,cells:A}){const W=Vt.find(x=>x.type===M);if(W===void 0)throw new Error(`Unknown layout type: ${M}`);return W.deserializeLayout(q,A)}({type:N,data:g.data,cells:O});E.selectedLayout=N,E.layoutData[N]=P,l({layoutView:N,data:P})}r(O,E);const k=rl.safeParse(h);if(k.success&&u(k.data),f(y),a){for(const[N,P]of Kt.entries(o||{}))ht.set(N,P);return}const T=[],L=[];ht.entries.forEach((N,P)=>{T.push(P),L.push(N.value)}),ol({objectIds:T,values:L,autoRun:t}).catch(N=>{s(new Error("Failed to instantiate",{cause:N}))})}let lo,co,uo,ho;lo=n=>{const e=new URL(window.location.href);e.searchParams.append(n.key,n.value),window.history.pushState({},"",`${e.pathname}${e.search}`)},co=n=>{const e=new URL(window.location.href);Array.isArray(n.value)?(e.searchParams.delete(n.key),n.value.forEach(t=>e.searchParams.append(n.key,t))):e.searchParams.set(n.key,n.value),window.history.pushState({},"",`${e.pathname}${e.search}`)},uo=n=>{const e=new URL(window.location.href);n.value==null?e.searchParams.delete(n.key):e.searchParams.delete(n.key,n.value),window.history.pushState({},"",`${e.pathname}${e.search}`)},ho=()=>{const n=new URL(window.location.href);n.search="",window.history.pushState({},"",`${n.pathname}${n.search}`)},vn=new dn("secrets-result",async(n,e)=>{await sl({requestId:n,...e})}),$o=function(n){const e=G.c(30),t=U.useRef(!0),{autoInstantiate:r,sessionId:l,setCells:s}=n,{showBoundary:u}=al(),{handleCellMessage:f,setCellCodes:i,setCellIds:d}=ko(),{addCellOperation:g}=En(),b=il(),{setVariables:a,setMetadata:o}=ll(),{addColumnPreview:c}=Wo(),{addDatasets:p,filterDatasetsFromVariables:m}=Wo(),{addDataSourceConnection:h,filterDataSourcesFromVariables:y}=cl(),{setLayoutData:v}=Rt(),[_,O]=Qt(ul),{addBanner:E}=Dn(),{addPackageAlert:k}=On(),T=Ao(un),L=Ao(dl),N=hl();let P;e[0]!==E||e[1]!==g||e[2]!==c||e[3]!==h||e[4]!==p||e[5]!==k||e[6]!==r||e[7]!==y||e[8]!==m||e[9]!==f||e[10]!==b||e[11]!==L||e[12]!==i||e[13]!==d||e[14]!==s||e[15]!==T||e[16]!==v||e[17]!==o||e[18]!==a||e[19]!==u?(P=C=>{const D=pl(C.data);switch(console.log("Received message from kernel",D),D.op){case"reload":return void _o();case"kernel-ready":return ya(D.data,{autoInstantiate:r,setCells:s,setLayoutData:v,setAppConfig:b,setCapabilities:L,onError:u}),void T(D.data.kiosk);case"completed-run":case"interrupted":case"reconnected":return;case"send-ui-element-message":{const R=D.data.model_id,I=D.data.ui_element,B=D.data.message,Y=D.data.buffers??[];return R&&vl(B)&&wl(R,B,Y,xl),void(I&&ht.broadcastMessage(I,D.data.message,Y))}case"remove-ui-elements":return void function(R){const I=R.cell_id;ht.removeElementsByCell(I),Xe.INSTANCE.removeForCellId(I)}(D.data);case"completion-result":return void bl.resolve(D.data.completion_id,D.data);case"function-call-result":return void yl.resolve(D.data.function_call_id,D.data);case"cell-op":{(function(I,B){B(I),Xe.INSTANCE.track(I)})(D.data,f);const R=Lo().cellData[D.data.cell_id];return R?void g({cellOperation:D.data,code:R.code}):void 0}case"variables":return a(D.data.variables.map(Sa)),m(D.data.variables.map(xa)),void y(D.data.variables.map(wa));case"variable-values":return void o(D.data.variables.map(va));case"alert":return void Jt({title:D.data.title,description:gl({html:D.data.description}),variant:D.data.variant});case"banner":return void E(D.data);case"missing-package-alert":return void k({...D.data,kind:"missing"});case"installing-package-alert":return void k({...D.data,kind:"installing"});case"query-params-append":return void lo(D.data);case"query-params-set":return void co(D.data);case"query-params-delete":return void uo(D.data);case"query-params-clear":return void ho();case"datasets":return void p(D.data);case"data-column-preview":return void c(D.data);case"sql-table-preview":return void Rn.resolve(D.data.request_id,D.data);case"sql-table-list-preview":return void kn.resolve(D.data.request_id,D.data);case"secret-keys-result":return void vn.resolve(D.data.request_id,D.data);case"data-source-connections":return void h({connections:D.data.connections.map(ba)});case"focus-cell":return void ml(D.data.cell_id);case"update-cell-codes":return void i({codes:D.data.codes,ids:D.data.cell_ids,codeIsStale:D.data.code_is_stale});case"update-cell-ids":return void d({cellIds:D.data.cell_ids});default:fl(D)}},e[0]=E,e[1]=g,e[2]=c,e[3]=h,e[4]=p,e[5]=k,e[6]=r,e[7]=y,e[8]=m,e[9]=f,e[10]=b,e[11]=L,e[12]=i,e[13]=d,e[14]=s,e[15]=T,e[16]=v,e[17]=o,e[18]=a,e[19]=u,e[20]=P):P=e[20];const M=P,q=(C,D)=>{t.current&&(t.current=!1,w.reconnect(C,D))};let A,W,x;e[21]!==N||e[22]!==l?(A=()=>N.getWsURL(l).toString(),e[21]=N,e[22]=l,e[23]=A):A=e[23],e[24]!==N?(W=async()=>{N.isSameOrigin||await N.waitForHealthy()},e[24]=N,e[25]=W):W=e[25],e[26]!==M?(x=C=>{try{M(C)}catch(D){const R=D;Se.error("Failed to handle message",R),Jt({title:"Failed to handle message",description:jo(R),variant:"danger"})}},e[26]=M,e[27]=x):x=e[27];const w=function(C){const{onOpen:D,onMessage:R,onClose:I,onError:B,waitToConnect:Y,...te}=C,[z]=U.useState(()=>{const H=Ot()?new Zi(go.INSTANCE):C.static?new ga:new _n(te.url,void 0,{maxRetries:10,debug:!1,startClosed:!0,connectionTimeout:1e4});return D&&H.addEventListener("open",D),I&&H.addEventListener("close",I),B&&H.addEventListener("error",B),R&&H.addEventListener("message",R),H});return U.useEffect(()=>(z.readyState===WebSocket.CLOSED&&(!Y||dt()||Ot()?z.reconnect():Y().then(()=>{z.reconnect()}).catch(H=>{Se.error("Healthy connection never made",H),z.close()})),()=>{Se.warn("useWebSocket is unmounting. This likely means there is a bug."),z.close(),D&&z.removeEventListener("open",D),I&&z.removeEventListener("close",I),B&&z.removeEventListener("error",B),R&&z.removeEventListener("message",R)}),[z]),z}({static:dt(),url:A,onOpen:async()=>{t.current=!0,O({state:De.OPEN})},waitToConnect:W,onMessage:x,onClose:C=>{switch(Se.warn("WebSocket closed",C.code,C.reason),C.reason){case"MARIMO_ALREADY_CONNECTED":return O({state:De.CLOSED,code:Nt.ALREADY_RUNNING,reason:"another browser tab is already connected to the kernel",canTakeover:!0}),void w.close();case"MARIMO_WRONG_KERNEL_ID":case"MARIMO_NO_FILE_KEY":case"MARIMO_NO_SESSION_ID":case"MARIMO_NO_SESSION":case"MARIMO_SHUTDOWN":return O({state:De.CLOSED,code:Nt.KERNEL_DISCONNECTED,reason:"kernel not found"}),void w.close();case"MARIMO_MALFORMED_QUERY":return void O({state:De.CLOSED,code:Nt.MALFORMED_QUERY,reason:"the kernel did not recognize a request; please file a bug with marimo"});default:O({state:De.CONNECTING}),q(C.code,C.reason)}},onError:C=>{Se.warn("WebSocket error",C),O({state:De.CLOSED,code:Nt.KERNEL_DISCONNECTED,reason:"kernel not found"}),q()}});let j;return e[28]!==_?(j={connection:_},e[28]=_,e[29]=j):j=e[29],j};function ba(n){return{...n,name:n.name}}function va(n){return{name:n.name,dataType:n.datatype,value:n.value}}function wa(n){return n.name}function xa(n){return n.name}function Sa(n){return{name:n.name,declaredBy:n.declared_by,usedBy:n.used_by}}Go=n=>{const e=G.c(2),{children:t}=n;let r;return e[0]!==t?(r=S.jsx("div",{className:"flex flex-col flex-1 overflow-hidden absolute inset-0 print:relative",children:t}),e[0]=t,e[1]=r):r=e[1],r},Sl(No([ze(),ze()]));let Ut=null;Yo=function(n){return{getItem:e=>Ut||(Ut??null),setItem(e,t){Ut=t||null}}}});export{qo as A,hn as C,pn as E,fn as F,mn as I,Bo as L,gn as M,Fo as N,yn as O,Go as P,bn as R,vn as S,kt as T,Xe as V,Dl as __tla,$o as a,Vo as b,Yo as c,wn as d,xn as e,Rt as f,Sn as g,Uo as h,_n as i,Pt as j,jn as k,Mt as l,Xo as m,On as n,Ko as o,Qo as p,Jo as q,Zo as r,Dn as s,Cn as t,En as u,Nn as v,kn as w,Rn as x,Pn as y,Mn as z};
