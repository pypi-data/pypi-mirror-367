"use strict";(self.webpackChunknonebot=self.webpackChunknonebot||[]).push([["7485"],{26610:function(n,e,l){l.r(e),l.d(e,{default:()=>x,frontMatter:()=>r,metadata:()=>i,assets:()=>o,toc:()=>h,contentTitle:()=>c});var i=JSON.parse('{"id":"api/plugin/load","title":"nonebot.plugin.load","description":"nonebot.plugin.load \u6A21\u5757","source":"@site/docs/api/plugin/load.md","sourceDirName":"api/plugin","slug":"/api/plugin/load","permalink":"/website/docs/next/api/plugin/load","draft":false,"unlisted":false,"editUrl":"https://github.com/nonebot/nonebot2/edit/master/website/docs/api/plugin/load.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"mdx":{"format":"md"},"sidebar_position":1,"description":"nonebot.plugin.load \u6A21\u5757"},"sidebar":"api","previous":{"title":"nonebot.plugin","permalink":"/website/docs/next/api/plugin/"},"next":{"title":"nonebot.plugin.on","permalink":"/website/docs/next/api/plugin/on"}}'),s=l("24246"),d=l("80980");let r={mdx:{format:"md"},sidebar_position:1,description:"nonebot.plugin.load \u6A21\u5757"},c="nonebot.plugin.load",o={},h=[{value:"<em>def</em> <code>load_plugin(module_path)</code>",id:"load-plugin",level:2},{value:"<em>def</em> <code>load_plugins(*plugin_dir)</code>",id:"load-plugins",level:2},{value:"<em>def</em> <code>load_all_plugins(module_path, plugin_dir)</code>",id:"load-all-plugins",level:2},{value:"<em>def</em> <code>load_from_json(file_path, encoding=&quot;utf-8&quot;)</code>",id:"load-from-json",level:2},{value:"<em>def</em> <code>load_from_toml(file_path, encoding=&quot;utf-8&quot;)</code>",id:"load-from-toml",level:2},{value:"<em>def</em> <code>load_builtin_plugin(name)</code>",id:"load-builtin-plugin",level:2},{value:"<em>def</em> <code>load_builtin_plugins(*plugins)</code>",id:"load-builtin-plugins",level:2},{value:"<em>def</em> <code>require(name)</code>",id:"require",level:2},{value:"<em>def</em> <code>inherit_supported_adapters(*names)</code>",id:"inherit-supported-adapters",level:2}];function t(n){let e={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.a)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"nonebotpluginload",children:"nonebot.plugin.load"})}),"\n",(0,s.jsx)(e.p,{children:"\u672C\u6A21\u5757\u5B9A\u4E49\u63D2\u4EF6\u52A0\u8F7D\u63A5\u53E3\u3002"}),"\n",(0,s.jsxs)(e.h2,{id:"load-plugin",children:[(0,s.jsx)(e.em,{children:"def"})," ",(0,s.jsx)(e.code,{children:"load_plugin(module_path)"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u8BF4\u660E:"})," \u52A0\u8F7D\u5355\u4E2A\u63D2\u4EF6\uFF0C\u53EF\u4EE5\u662F\u672C\u5730\u63D2\u4EF6\u6216\u662F\u901A\u8FC7 ",(0,s.jsx)(e.code,{children:"pip"})," \u5B89\u88C5\u7684\u63D2\u4EF6\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u53C2\u6570"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"module_path"})," (str | Path): \u63D2\u4EF6\u540D\u79F0 ",(0,s.jsx)(e.code,{children:"path.to.your.plugin"})," \u6216\u63D2\u4EF6\u8DEF\u5F84 ",(0,s.jsx)(e.code,{children:"pathlib.Path(path/to/your/plugin)"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u8FD4\u56DE"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"/website/docs/next/api/plugin/model#Plugin",children:"Plugin"})," | None"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.h2,{id:"load-plugins",children:[(0,s.jsx)(e.em,{children:"def"})," ",(0,s.jsx)(e.code,{children:"load_plugins(*plugin_dir)"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u8BF4\u660E:"})," \u5BFC\u5165\u6587\u4EF6\u5939\u4E0B\u591A\u4E2A\u63D2\u4EF6\uFF0C\u4EE5 ",(0,s.jsx)(e.code,{children:"_"})," \u5F00\u5934\u7684\u63D2\u4EF6\u4E0D\u4F1A\u88AB\u5BFC\u5165!"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u53C2\u6570"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"*plugin_dir"})," (str): \u6587\u4EF6\u5939\u8DEF\u5F84"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u8FD4\u56DE"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["set[",(0,s.jsx)(e.a,{href:"/website/docs/next/api/plugin/model#Plugin",children:"Plugin"}),"]"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.h2,{id:"load-all-plugins",children:[(0,s.jsx)(e.em,{children:"def"})," ",(0,s.jsx)(e.code,{children:"load_all_plugins(module_path, plugin_dir)"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u8BF4\u660E:"})," \u5BFC\u5165\u6307\u5B9A\u5217\u8868\u4E2D\u7684\u63D2\u4EF6\u4EE5\u53CA\u6307\u5B9A\u76EE\u5F55\u4E0B\u591A\u4E2A\u63D2\u4EF6\uFF0C\u4EE5 ",(0,s.jsx)(e.code,{children:"_"})," \u5F00\u5934\u7684\u63D2\u4EF6\u4E0D\u4F1A\u88AB\u5BFC\u5165!"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u53C2\u6570"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"module_path"})," (Iterable[str]): \u6307\u5B9A\u63D2\u4EF6\u96C6\u5408"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"plugin_dir"})," (Iterable[str]): \u6307\u5B9A\u6587\u4EF6\u5939\u8DEF\u5F84\u96C6\u5408"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u8FD4\u56DE"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["set[",(0,s.jsx)(e.a,{href:"/website/docs/next/api/plugin/model#Plugin",children:"Plugin"}),"]"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.h2,{id:"load-from-json",children:[(0,s.jsx)(e.em,{children:"def"})," ",(0,s.jsx)(e.code,{children:'load_from_json(file_path, encoding="utf-8")'})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u8BF4\u660E:"})," \u5BFC\u5165\u6307\u5B9A json \u6587\u4EF6\u4E2D\u7684 ",(0,s.jsx)(e.code,{children:"plugins"})," \u4EE5\u53CA ",(0,s.jsx)(e.code,{children:"plugin_dirs"})," \u4E0B\u591A\u4E2A\u63D2\u4EF6\u3002 \u4EE5 ",(0,s.jsx)(e.code,{children:"_"})," \u5F00\u5934\u7684\u63D2\u4EF6\u4E0D\u4F1A\u88AB\u5BFC\u5165!"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u53C2\u6570"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"file_path"})," (str): \u6307\u5B9A json \u6587\u4EF6\u8DEF\u5F84"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"encoding"})," (str): \u6307\u5B9A json \u6587\u4EF6\u7F16\u7801"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u8FD4\u56DE"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["set[",(0,s.jsx)(e.a,{href:"/website/docs/next/api/plugin/model#Plugin",children:"Plugin"}),"]"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u7528\u6CD5"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",metastring:"title=plugins.json",children:'{\n    "plugins": ["some_plugin"],\n    "plugin_dirs": ["some_dir"]\n}\n'})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'nonebot.load_from_json("plugins.json")\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.h2,{id:"load-from-toml",children:[(0,s.jsx)(e.em,{children:"def"})," ",(0,s.jsx)(e.code,{children:'load_from_toml(file_path, encoding="utf-8")'})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u8BF4\u660E:"})," \u5BFC\u5165\u6307\u5B9A toml \u6587\u4EF6 ",(0,s.jsx)(e.code,{children:"[tool.nonebot]"})," \u4E2D\u7684 ",(0,s.jsx)(e.code,{children:"plugins"})," \u4EE5\u53CA ",(0,s.jsx)(e.code,{children:"plugin_dirs"})," \u4E0B\u591A\u4E2A\u63D2\u4EF6\u3002 \u4EE5 ",(0,s.jsx)(e.code,{children:"_"})," \u5F00\u5934\u7684\u63D2\u4EF6\u4E0D\u4F1A\u88AB\u5BFC\u5165!"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u53C2\u6570"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"file_path"})," (str): \u6307\u5B9A toml \u6587\u4EF6\u8DEF\u5F84"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"encoding"})," (str): \u6307\u5B9A toml \u6587\u4EF6\u7F16\u7801"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u8FD4\u56DE"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["set[",(0,s.jsx)(e.a,{href:"/website/docs/next/api/plugin/model#Plugin",children:"Plugin"}),"]"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u7528\u6CD5"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-toml",metastring:"title=pyproject.toml",children:'[tool.nonebot]\nplugins = ["some_plugin"]\nplugin_dirs = ["some_dir"]\n'})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'nonebot.load_from_toml("pyproject.toml")\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.h2,{id:"load-builtin-plugin",children:[(0,s.jsx)(e.em,{children:"def"})," ",(0,s.jsx)(e.code,{children:"load_builtin_plugin(name)"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u8BF4\u660E:"})," \u5BFC\u5165 NoneBot \u5185\u7F6E\u63D2\u4EF6\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u53C2\u6570"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"name"})," (str): \u63D2\u4EF6\u540D\u79F0"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u8FD4\u56DE"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"/website/docs/next/api/plugin/model#Plugin",children:"Plugin"})," | None"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.h2,{id:"load-builtin-plugins",children:[(0,s.jsx)(e.em,{children:"def"})," ",(0,s.jsx)(e.code,{children:"load_builtin_plugins(*plugins)"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u8BF4\u660E:"})," \u5BFC\u5165\u591A\u4E2A NoneBot \u5185\u7F6E\u63D2\u4EF6\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u53C2\u6570"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"*plugins"})," (str): \u63D2\u4EF6\u540D\u79F0\u5217\u8868"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u8FD4\u56DE"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["set[",(0,s.jsx)(e.a,{href:"/website/docs/next/api/plugin/model#Plugin",children:"Plugin"}),"]"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.h2,{id:"require",children:[(0,s.jsx)(e.em,{children:"def"})," ",(0,s.jsx)(e.code,{children:"require(name)"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u8BF4\u660E:"})," \u58F0\u660E\u4F9D\u8D56\u63D2\u4EF6\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u53C2\u6570"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"name"})," (str): \u63D2\u4EF6\u6A21\u5757\u540D\u6216\u63D2\u4EF6\u6807\u8BC6\u7B26\uFF0C\u4EC5\u5728\u5DF2\u58F0\u660E\u63D2\u4EF6\u7684\u60C5\u51B5\u4E0B\u53EF\u4F7F\u7528\u6807\u8BC6\u7B26\u3002"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u8FD4\u56DE"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"ModuleType"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u5F02\u5E38"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"RuntimeError: \u63D2\u4EF6\u65E0\u6CD5\u52A0\u8F7D"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.h2,{id:"inherit-supported-adapters",children:[(0,s.jsx)(e.em,{children:"def"})," ",(0,s.jsx)(e.code,{children:"inherit_supported_adapters(*names)"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u8BF4\u660E"})}),"\n",(0,s.jsx)(e.p,{children:"\u83B7\u53D6\u5DF2\u52A0\u8F7D\u63D2\u4EF6\u7684\u9002\u914D\u5668\u652F\u6301\u72B6\u6001\u96C6\u5408\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u5982\u679C\u4F20\u5165\u4E86\u591A\u4E2A\u63D2\u4EF6\u540D\u79F0\uFF0C\u8FD4\u56DE\u503C\u4F1A\u81EA\u52A8\u53D6\u4EA4\u96C6\u3002"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u53C2\u6570"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"*names"})," (str): \u63D2\u4EF6\u540D\u79F0\u5217\u8868\u3002"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u8FD4\u56DE"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"set[str] | None"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u5F02\u5E38"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"RuntimeError: \u63D2\u4EF6\u672A\u52A0\u8F7D"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"ValueError: \u63D2\u4EF6\u7F3A\u5C11\u5143\u6570\u636E"}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]})}function x(n={}){let{wrapper:e}={...(0,d.a)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(t,{...n})}):t(n)}},80980:function(n,e,l){l.d(e,{Z:function(){return c},a:function(){return r}});var i=l(27378);let s={},d=i.createContext(s);function r(n){let e=i.useContext(d);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:r(n.components),i.createElement(d.Provider,{value:e},n.children)}}}]);