"use strict";(self.webpackChunknonebot=self.webpackChunknonebot||[]).push([["2633"],{82080:function(e,n,s){s.r(n),s.d(n,{default:()=>x,frontMatter:()=>c,metadata:()=>r,assets:()=>d,toc:()=>h,contentTitle:()=>o});var r=JSON.parse('{"id":"best-practice/alconna/uniseg/utils","title":"\u8F85\u52A9\u529F\u80FD","description":"\u8F85\u52A9\u6A21\u578B","source":"@site/versioned_docs/version-2.4.3/best-practice/alconna/uniseg/utils.mdx","sourceDirName":"best-practice/alconna/uniseg","slug":"/best-practice/alconna/uniseg/utils","permalink":"/website/docs/best-practice/alconna/uniseg/utils","draft":false,"unlisted":false,"editUrl":"https://github.com/nonebot/nonebot2/edit/master/website/versioned_docs/version-2.4.3/best-practice/alconna/uniseg/utils.mdx","tags":[],"version":"2.4.3","lastUpdatedBy":"noneflow[bot]","lastUpdatedAt":1754561629000,"sidebarPosition":4,"frontMatter":{"sidebar_position":4,"description":"\u8F85\u52A9\u6A21\u578B"},"sidebar":"tutorial","previous":{"title":"\u901A\u7528\u6D88\u606F\u5E8F\u5217","permalink":"/website/docs/best-practice/alconna/uniseg/message"},"next":{"title":"\u5FEB\u6377\u65B9\u5F0F\u58F0\u660E","permalink":"/website/docs/best-practice/alconna/shortcut"}}'),t=s("24246"),a=s("80980"),i=s("75037"),l=s("80981");let c={sidebar_position:4,description:"\u8F85\u52A9\u6A21\u578B"},o="\u8F85\u52A9\u529F\u80FD",d={},h=[{value:"\u6D88\u606F\u4E8B\u4EF6 ID",id:"\u6D88\u606F\u4E8B\u4EF6-id",level:2},{value:"\u53D1\u9001\u5BF9\u8C61",id:"\u53D1\u9001\u5BF9\u8C61",level:2},{value:"\u9009\u62E9\u5668",id:"\u9009\u62E9\u5668",level:3},{value:"\u64A4\u56DE\u6D88\u606F",id:"\u64A4\u56DE\u6D88\u606F",level:2},{value:"\u7F16\u8F91\u6D88\u606F",id:"\u7F16\u8F91\u6D88\u606F",level:2},{value:"\u8868\u6001\u6D88\u606F",id:"\u8868\u6001\u6D88\u606F",level:2},{value:"\u54CD\u5E94\u89C4\u5219",id:"\u54CD\u5E94\u89C4\u5219",level:2}];function u(e){let n={a:"a",admonition:"admonition",code:"code",div:"div",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"\u8F85\u52A9\u529F\u80FD",children:"\u8F85\u52A9\u529F\u80FD"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"uniseg"})," \u6A21\u5757\u540C\u65F6\u63D0\u4F9B\u4E86\u591A\u79CD\u65B9\u6CD5\u4EE5\u901A\u7528\u6D88\u606F\u64CD\u4F5C\u3002"]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["\u8FD9\u4E9B\u65B9\u6CD5\u4E2D\u4E0E ",(0,t.jsx)(n.code,{children:"event"}),", ",(0,t.jsx)(n.code,{children:"bot"})," \u76F8\u5173\u7684\u53C2\u6570\u90FD\u4F1A\u5C1D\u8BD5\u4ECE\u4E0A\u4E0B\u6587\u4E2D\u83B7\u53D6\u5BF9\u8C61\u3002"]})}),"\n",(0,t.jsx)(n.h2,{id:"\u6D88\u606F\u4E8B\u4EF6-id",children:"\u6D88\u606F\u4E8B\u4EF6 ID"}),"\n",(0,t.jsx)(n.p,{children:"\u6D88\u606F\u4E8B\u4EF6 ID \u662F\u7528\u6765\u6807\u8BC6\u5F53\u524D\u6D88\u606F\u4E8B\u4EF6\u7684\u552F\u4E00 ID\uFF0C\u901A\u5E38\u7528\u4E8E\u56DE\u590D/\u64A4\u56DE/\u7F16\u8F91/\u8868\u6001\u5F53\u524D\u6D88\u606F\u3002"}),"\n",(0,t.jsxs)(i.Z,{groupId:"get_msgid",children:[(0,t.jsxs)(l.Z,{value:"depend",label:"\u4F7F\u7528\u4F9D\u8D56\u6CE8\u5165",children:[(0,t.jsxs)(n.p,{children:["\u901A\u8FC7\u63D0\u4F9B\u7684 ",(0,t.jsx)(n.code,{children:"MessageId"})," \u6216 ",(0,t.jsx)(n.code,{children:"MsgId"})," \u4F9D\u8D56\u6CE8\u5165\u5668\u6765\u83B7\u53D6\u6D88\u606F\u4E8B\u4EF6 id\u3002"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"from nonebot_plugin_alconna.uniseg import MsgId\n\n\nmatcher = on_xxx(...)\n\n@matcher.handle()\nasycn def _(msg_id: MsgId):\n    ...\n"})})]}),(0,t.jsx)(l.Z,{value:"method",label:"\u4F7F\u7528\u83B7\u53D6\u51FD\u6570",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"from nonebot import Event, Bot\nfrom nonebot_plugin_alconna.uniseg import get_message_id\n\n\nmatcher = on_xxx(...)\n\n@matcher.handle()\nasycn def _(bot: Bot, event: Event):\n    msg_id: str = get_message_id(event, bot)\n\n"})})})]}),"\n",(0,t.jsx)(n.admonition,{type:"caution",children:(0,t.jsx)(n.p,{children:"\u8BE5\u65B9\u6CD5\u83B7\u53D6\u7684\u6D88\u606F\u4E8B\u4EF6 ID \u4E0D\u63A8\u8350\u76F4\u63A5\u7528\u4E8E\u5404\u9002\u914D\u5668\u7684 API \u8C03\u7528\u4E2D\uFF0C\u53EF\u80FD\u4F1A\u64CD\u4F5C\u5931\u8D25\u3002"})}),"\n",(0,t.jsx)(n.h2,{id:"\u53D1\u9001\u5BF9\u8C61",children:"\u53D1\u9001\u5BF9\u8C61"}),"\n",(0,t.jsx)(n.p,{children:"\u6D88\u606F\u53D1\u9001\u5BF9\u8C61\u662F\u7528\u6765\u63CF\u8FF0\u5F53\u524D\u6D88\u606F\u4E8B\u4EF6\u7684\u53EF\u53D1\u9001\u5BF9\u8C61\u6216\u8005\u4E3B\u52A8\u53D1\u9001\u6D88\u606F\u65F6\u7684\u76EE\u6807\u5BF9\u8C61\uFF0C\u5B83\u5305\u542B\u4E86\u4EE5\u4E0B\u5C5E\u6027\uFF1A"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'class Target:\n    id: str\n    """\u76EE\u6807id\uFF1B\u82E5\u4E3A\u7FA4\u804A\u5219\u4E3A group_id \u6216\u8005 channel_id\uFF0C\u82E5\u4E3A\u79C1\u804A\u5219\u4E3A user_id"""\n    parent_id: str\n    """\u7236\u7EA7id\uFF1B\u82E5\u4E3A\u9891\u9053\u5219\u4E3A guild_id\uFF0C\u5176\u4ED6\u60C5\u51B5\u4E0B\u53EF\u80FD\u4E3A\u7A7A\u5B57\u7B26\u4E32\uFF08\u4F8B\u5982 Feishu \u4E0B\u53EF\u4F5C\u4E3A\u90E8\u95E8 id\uFF09"""\n    channel: bool\n    """\u662F\u5426\u4E3A\u9891\u9053\uFF0C\u4EC5\u5F53\u76EE\u6807\u5E73\u53F0\u7B26\u5408\u9891\u9053\u6982\u5FF5\u65F6"""\n    private: bool\n    """\u662F\u5426\u4E3A\u79C1\u804A"""\n    source: str\n    """\u53EF\u80FD\u7684\u4E8B\u4EF6id"""\n    self_id: str | None\n    """\u673A\u5668\u4EBAid\uFF0C\u82E5\u4E3A None \u5219 Bot \u5BF9\u8C61\u4F1A\u968F\u673A\u9009\u62E9"""\n    selector: Callable[[Bot], Awaitable[bool]] | None\n    """\u9009\u62E9\u5668\uFF0C\u7528\u4E8E\u5728\u591A\u4E2A Bot \u5BF9\u8C61\u4E2D\u9009\u62E9\u7279\u5B9A Bot"""\n    extra: dict[str, Any]\n    """\u989D\u5916\u4FE1\u606F\uFF0C\u7528\u4E8E\u9002\u914D\u5668\u6269\u5C55"""\n'})}),"\n",(0,t.jsxs)(i.Z,{groupId:"get_target",children:[(0,t.jsxs)(l.Z,{value:"depend",label:"\u4F7F\u7528\u4F9D\u8D56\u6CE8\u5165",children:[(0,t.jsxs)(n.p,{children:["\u901A\u8FC7\u63D0\u4F9B\u7684 ",(0,t.jsx)(n.code,{children:"MessageTarget"})," \u6216 ",(0,t.jsx)(n.code,{children:"MsgTarget"})," \u4F9D\u8D56\u6CE8\u5165\u5668\u6765\u83B7\u53D6\u6D88\u606F\u53D1\u9001\u5BF9\u8C61\u3002"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"from nonebot_plugin_alconna.uniseg import MsgTarget\n\n\nmatcher = on_xxx(...)\n\n@matcher.handle()\nasycn def _(target: MsgTarget):\n    ...\n"})})]}),(0,t.jsx)(l.Z,{value:"method",label:"\u4F7F\u7528\u83B7\u53D6\u51FD\u6570",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"from nonebot import Event, Bot\nfrom nonebot_plugin_alconna.uniseg import Target, get_target\n\n\nmatcher = on_xxx(...)\n\n@matcher.handle()\nasycn def _(bot: Bot, event: Event):\n    target: Target = get_target(event, bot)\n\n"})})})]}),"\n",(0,t.jsx)(n.p,{children:"\u4E3B\u52A8\u6784\u9020\u4E00\u4E2A\u53D1\u9001\u5BF9\u8C61\u65F6\uFF0C\u5219\u9700\u8981\u5982\u4E0B\u53C2\u6570\uFF1A"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"id"}),": \u76EE\u6807ID\uFF1B\u82E5\u4E3A\u7FA4\u804A\u5219\u4E3A ",(0,t.jsx)(n.code,{children:"group_id"})," \u6216\u8005 ",(0,t.jsx)(n.code,{children:"channel_id"}),"\uFF0C\u82E5\u4E3A\u79C1\u804A\u5219\u4E3A ",(0,t.jsx)(n.code,{children:"user_id"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"parent_id"}),": \u7236\u7EA7ID\uFF1B\u82E5\u4E3A\u9891\u9053\u5219\u4E3A ",(0,t.jsx)(n.code,{children:"guild_id"}),"\uFF0C\u5176\u4ED6\u60C5\u51B5\u4E0B\u53EF\u80FD\u4E3A\u7A7A\u5B57\u7B26\u4E32\uFF08\u4F8B\u5982 Feishu \u4E0B\u53EF\u4F5C\u4E3A\u90E8\u95E8 id\uFF09"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"channel"}),": \u662F\u5426\u4E3A\u9891\u9053\uFF0C\u4EC5\u5F53\u76EE\u6807\u5E73\u53F0\u7B26\u5408\u9891\u9053\u6982\u5FF5\u65F6"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"private"}),": \u662F\u5426\u4E3A\u79C1\u804A"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"source"}),": \u53EF\u80FD\u7684\u4E8B\u4EF6ID"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"self_id"}),": \u673A\u5668\u4EBAid\uFF0C\u82E5\u4E3A None \u5219 Bot \u5BF9\u8C61\u4F1A\u968F\u673A\u9009\u62E9"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"selector"}),": \u9009\u62E9\u5668\uFF0C\u7528\u4E8E\u5728\u591A\u4E2A Bot \u5BF9\u8C61\u4E2D\u9009\u62E9\u7279\u5B9A Bot"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"scope"}),": \u5E73\u53F0\u8303\u56F4\uFF0C\u8868\u793A\u5F53\u524D\u53D1\u9001\u5BF9\u8C61\u7684\u5E73\u53F0\u7C7B\u522B"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"adapter"}),": \u9002\u914D\u5668\u540D\u79F0\uFF0C\u82E5\u4E3A None \u5219\u9700\u8981\u660E\u786E\u6307\u5B9A Bot \u5BF9\u8C61"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"platform"}),": \u5E73\u53F0\u540D\u79F0\uFF0C\u4EC5\u5F53\u76EE\u6807\u9002\u914D\u5668\u5B58\u5728\u591A\u4E2A\u5E73\u53F0\u65F6\u4F7F\u7528"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"extra"}),": \u989D\u5916\u4FE1\u606F\uFF0C\u7528\u4E8E\u9002\u914D\u5668\u6269\u5C55"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["\u901A\u8FC7 ",(0,t.jsx)(n.code,{children:"Target"})," \u5BF9\u8C61\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5728 ",(0,t.jsx)(n.code,{children:"UniMessage.send"})," \u4E2D\u6307\u5B9A\u53D1\u9001\u5BF9\u8C61\uFF1A"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'from nonebot_plugin_alconna.uniseg import UniMessage, MsgTarget, Target, SupportScope\n\n\nmatcher = on_xxx(...)\n\n@matcher.handle()\nasync def _(target: MsgTarget):\n    # \u5C06\u6D88\u606F\u53D1\u9001\u7ED9\u5F53\u524D\u4E8B\u4EF6\u7684\u53D1\u9001\u8005\n    await UniMessage("Hello!").send(target=target)\n    # \u4E3B\u52A8\u53D1\u9001\u6D88\u606F\u7ED9\u7FA4\u53F7\u4E3A 12345 \u7684 QQ \u7FA4\u804A\n    target1 = Target("12345", scope=SupportScope.qq_client)\n    await UniMessage("Hello!").send(target=target1)\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u9009\u62E9\u5668",children:"\u9009\u62E9\u5668"}),"\n",(0,t.jsxs)(n.p,{children:["\u4E00\u822C\u6765\u8BF4\uFF0C\u4E3B\u52A8\u53D1\u9001\u6D88\u606F\u65F6\uFF0C",(0,t.jsx)(n.code,{children:"UniMessage.send"})," \u6216 ",(0,t.jsx)(n.code,{children:"Target.self_id"})," \u5E94\u6307\u5B9A\u4E00\u4E2A ",(0,t.jsx)(n.code,{children:"Bot"})," \u5BF9\u8C61\u3002\u4F46\u662F\u8FD9\u6837\u4F1A\u52A0\u91CD\u5F00\u53D1\u8005\u7684\u8D1F\u62C5\u3002"]}),"\n",(0,t.jsxs)(n.p,{children:["\u56E0\u6B64\uFF0C\u6211\u4EEC\u63D0\u4F9B\u4E86\u9009\u62E9\u5668\u6765\u5E2E\u52A9\u5F00\u53D1\u8005\u9009\u62E9\u4E00\u4E2A ",(0,t.jsx)(n.code,{children:"Bot"})," \u5BF9\u8C61\u3002\u5F53\u7136\uFF0C\u8FD9\u5E76\u975E\u8BF4\u660E\u4E00\u5B9A\u9700\u8981\u4F20\u5165 ",(0,t.jsx)(n.code,{children:"selector"})," \u53C2\u6570\u3002"]}),"\n",(0,t.jsxs)(n.p,{children:["\u4E8B\u5B9E\u4E0A\uFF0C\u6784\u9020 ",(0,t.jsx)(n.code,{children:"Target"})," \u5BF9\u8C61\u65F6\uFF0C",(0,t.jsx)(n.code,{children:"self_id"}),", ",(0,t.jsx)(n.code,{children:"scope"}),", ",(0,t.jsx)(n.code,{children:"adapter"})," \u548C ",(0,t.jsx)(n.code,{children:"platform"})," \u90FD\u4F1A\u53C2\u4E0E\u5230 ",(0,t.jsx)(n.code,{children:"selector"})," \u7684\u6784\u9020\u4E2D\u3002"]}),"\n",(0,t.jsx)(n.div,{}),"\n",(0,t.jsxs)(n.p,{children:["\u4F60\u5176\u5B9E\u53EF\u4EE5\u4F7F\u7528 ",(0,t.jsx)(n.code,{children:"Target"})," \u6765\u5E2E\u4F60\u7B5B\u9009 ",(0,t.jsx)(n.code,{children:"Bot"})," \u5BF9\u8C61\uFF1A"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'async def _():\n    target = Target("12345", scope=SupportScope.qq_client)\n    bot = await target.select()\n'})}),"\n",(0,t.jsx)(n.p,{children:":::"}),"\n",(0,t.jsxs)(n.p,{children:["\u82E5\u914D\u7F6E\u4E86 ",(0,t.jsx)(n.a,{href:"/website/docs/best-practice/alconna/config#alconna_apply_fetch_targets",children:(0,t.jsx)(n.code,{children:"alconna_apply_fetch_targets"})})," \u9009\u9879\uFF0C\u5219\u5728\u542F\u52A8\u65F6\u4F1A\u4E3B\u52A8\u62C9\u53D6\u4E00\u6B21\u53D1\u9001\u5BF9\u8C61\u5217\u8868\u3002\u5373\u5BF9\u4E8E\n\u67D0\u4E00\u4E3B\u52A8\u6784\u9020\u7684 ",(0,t.jsx)(n.code,{children:"Target"})," \u5BF9\u8C61\uFF0C\u63D2\u4EF6\u5C06\u5176\u4E0E\u62C9\u53D6\u4E0B\u6765\u7684\u4F17\u591A\u53D1\u9001\u5BF9\u8C61\u8FDB\u884C\u5339\u914D\uFF0C\u5E76\u9009\u62E9\u7B2C\u4E00\u4E2A\u7B26\u5408\u6761\u4EF6\u7684\u53D1\u9001\u5BF9\u8C61\uFF0C\u4EE5\u9009\u62E9\u5BF9\u5E94\u7684 Bot \u5BF9\u8C61\u3002"]}),"\n",(0,t.jsx)(n.h2,{id:"\u64A4\u56DE\u6D88\u606F",children:"\u64A4\u56DE\u6D88\u606F"}),"\n",(0,t.jsxs)(n.p,{children:["\u901A\u8FC7 ",(0,t.jsx)(n.code,{children:"message_recall"})," \u65B9\u6CD5\u6765\u64A4\u56DE\u6D88\u606F\u4E8B\u4EF6\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"from nonebot_plugin_alconna.uniseg import message_recall\n\nmatcher = on_xxx(...)\n\n@matcher.handle()\nasync def _(msg_id: MsgId):\n    await message_recall(msg_id)\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"message_recall"})," \u65B9\u6CD5\u7684\u53C2\u6570\u5982\u4E0B\uFF1A"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"async def message_recall(\n    message_id: str | None = None,\n    event: Event | None = None,\n    bot: Bot | None = None,\n    adapter: str | None = None\n): ...\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u5F53 ",(0,t.jsx)(n.code,{children:"message_id"})," \u4E3A ",(0,t.jsx)(n.code,{children:"None"})," \u65F6\uFF0C\u63D2\u4EF6\u4F1A\u5C1D\u8BD5\u4ECE ",(0,t.jsx)(n.code,{children:"event"})," \u4E2D\u83B7\u53D6\u6D88\u606F\u4E8B\u4EF6 ID\u3002"]}),"\n",(0,t.jsx)(n.h2,{id:"\u7F16\u8F91\u6D88\u606F",children:"\u7F16\u8F91\u6D88\u606F"}),"\n",(0,t.jsxs)(n.p,{children:["\u901A\u8FC7 ",(0,t.jsx)(n.code,{children:"message_edit"})," \u65B9\u6CD5\u6765\u7F16\u8F91\u6D88\u606F\u4E8B\u4EF6\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'from nonebot_plugin_alconna.uniseg import UniMessage, message_edit\n\nmatcher = on_xxx(...)\n\n@matcher.handle()\nasync def _():\n    await message_edit(UniMessage.text("1234"))\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"message_edit"})," \u65B9\u6CD5\u7684\u53C2\u6570\u5982\u4E0B\uFF1A"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"async def message_edit(\n    msg: UniMessage,\n    message_id: str | None = None,\n    event: Event | None = None,\n    bot: Bot | None = None,\n    adapter: str | None = None,\n): ...\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u5F53 ",(0,t.jsx)(n.code,{children:"message_id"})," \u4E3A ",(0,t.jsx)(n.code,{children:"None"})," \u65F6\uFF0C\u63D2\u4EF6\u4F1A\u5C1D\u8BD5\u4ECE ",(0,t.jsx)(n.code,{children:"event"})," \u4E2D\u83B7\u53D6\u6D88\u606F\u4E8B\u4EF6 ID\u3002"]}),"\n",(0,t.jsx)(n.h2,{id:"\u8868\u6001\u6D88\u606F",children:"\u8868\u6001\u6D88\u606F"}),"\n",(0,t.jsx)(n.admonition,{type:"caution",children:(0,t.jsx)(n.p,{children:"\u8BE5\u65B9\u6CD5\u5C5E\u4E8E\u5B9E\u9A8C\u6027\u529F\u80FD\u3002\u5176\u63A5\u53E3\u53EF\u80FD\u4F1A\u5728\u672A\u6765\u7684\u7248\u672C\u4E2D\u53D1\u751F\u53D8\u5316\u3002"})}),"\n",(0,t.jsxs)(n.p,{children:["\u901A\u8FC7 ",(0,t.jsx)(n.code,{children:"message_reaction"})," \u65B9\u6CD5\u6765\u8868\u6001\u6D88\u606F\u4E8B\u4EF6\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'from nonebot_plugin_alconna.uniseg import message_reaction\n\nmatcher = on_xxx(...)\n\n@matcher.handle()\nasync def _():\n    await message_reaction("\uD83D\uDC4D")\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"message_reaction"})," \u65B9\u6CD5\u7684\u53C2\u6570\u5982\u4E0B\uFF1A"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"async def message_reaction(\n    reaction: str | Emoji,\n    message_id: str | None = None,\n    event: Event | None = None,\n    bot: Bot | None = None,\n    adapter: str | None = None,\n    delete: bool = False,\n): ...\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u5F53 ",(0,t.jsx)(n.code,{children:"message_id"})," \u4E3A ",(0,t.jsx)(n.code,{children:"None"})," \u65F6\uFF0C\u63D2\u4EF6\u4F1A\u5C1D\u8BD5\u4ECE ",(0,t.jsx)(n.code,{children:"event"})," \u4E2D\u83B7\u53D6\u6D88\u606F\u4E8B\u4EF6 ID\u3002"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"delete"})," \u53C2\u6570\u8868\u793A\u662F\u5426\u5220\u9664",(0,t.jsx)(n.strong,{children:"\u81EA\u5DF1\u7684"}),"\u8868\u6001\u6D88\u606F\uFF0C\u9ED8\u8BA4\u4E3A ",(0,t.jsx)(n.code,{children:"False"}),"\u3002"]}),"\n",(0,t.jsx)(n.h2,{id:"\u54CD\u5E94\u89C4\u5219",children:"\u54CD\u5E94\u89C4\u5219"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"uniseg"})," \u6A21\u5757\u63D0\u4F9B\u4E86\u4E24\u4E2A\u54CD\u5E94\u89C4\u5219\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"at_in"}),": \u662F\u5426\u5728\u6D88\u606F\u4E2D @ \u4E86\u6307\u5B9A\u7684\u7528\u6237"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"at_me"}),": \u662F\u5426\u5728\u6D88\u606F\u4E2D @ \u4E86\u673A\u5668\u4EBA"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["\u76F8\u8F83\u4E8E NoneBot \u5185\u7F6E\u7684 ",(0,t.jsx)(n.code,{children:"to_me"})," \u89C4\u5219\uFF0C",(0,t.jsx)(n.code,{children:"at_me"})," \u89C4\u5219\u53EA\u4F1A\u5728\u6D88\u606F\u4E2D @ \u673A\u5668\u4EBA\u65F6\u89E6\u53D1\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"from nonebot_plugin_alconna.uniseg import at_me\n\nmatcher = on_xxx(..., rule=at_me())\n"})})]})}function x(e={}){let{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},80981:function(e,n,s){s.d(n,{Z:function(){return a}});var r=s(24246);s(27378);var t=s(90496);function a(e){let{children:n,hidden:s,className:a}=e;return(0,r.jsx)("div",{role:"tabpanel",className:(0,t.Z)("tab-panel",a),hidden:s,children:n})}},75037:function(e,n,s){s.d(n,{Z:()=>m});var r=s("24246"),t=s("27378"),a=s("90496"),i=s("85403"),l=s("3620"),c=s("77090"),o=s("76180"),d=s("23418"),h=s("19073");function u(e){let{value:n,tabValues:s}=e;return s.some(e=>e.value===n)}var x=s("3344");function p(e){let{className:n,selectedValue:s,selectValue:t,tabValues:l}=e,c=[],{blockElementScrollPositionUntilNextRender:o}=(0,i.o5)(),d=e=>{let n=e.currentTarget,r=l[c.indexOf(n)].value;r!==s&&(o(n),t(r))},h=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{let s=c.indexOf(e.currentTarget)+1;n=c[s]??c[0];break}case"ArrowLeft":{let s=c.indexOf(e.currentTarget)-1;n=c[s]??c[c.length-1]}}n?.focus()};return(0,r.jsx)("div",{className:"not-prose",children:(0,r.jsxs)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.Z)("tabs tabs-list",n),children:[l.map(e=>{let{value:n,label:t,attributes:i}=e;return(0,r.jsx)("li",{role:"tab",tabIndex:s===n?0:-1,"aria-selected":s===n,ref:e=>{c.push(e)},onKeyDown:h,onClick:d,...i,className:(0,a.Z)("tab tab-lifted tab-item",i?.className,s===n&&"tab-active tab-item-active"),children:t??n},n)}),(0,r.jsx)("div",{className:"tab tab-lifted tab-item tab-spacer"})]})})}function g(e){let{lazy:n,children:s,selectedValue:a}=e,i=(Array.isArray(s)?s:[s]).filter(Boolean);if(n){let e=i.find(e=>e.props.value===a);return e?(0,r.jsx)("div",{children:(0,t.cloneElement)(e)}):null}return(0,r.jsx)("div",{children:i.map((e,n)=>(0,t.cloneElement)(e,{key:n,hidden:e.props.value!==a}))})}function j(e){let n=function(e){let{defaultValue:n,queryString:s=!1,groupId:r}=e,a=function(e){let{values:n,children:s}=e;return(0,t.useMemo)(()=>{let e=n??(t.Children.toArray(s).filter(e=>"\n"!==e).map(e=>{if(!e||t.isValidElement(e)&&function(e){let{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]).map(e=>{let{props:{value:n,label:s,attributes:r,default:t}}=e;return{value:n,label:s,attributes:r,default:t}});return!function(e){let n=(0,d.lx)(e,(e,n)=>e.value===n.value);if(n.length>0)throw Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,s])}(e),[i,x]=(0,t.useState)(()=>(function(e){let{defaultValue:n,tabValues:s}=e;if(0===s.length)throw Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!u({value:n,tabValues:s}))throw Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${s.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}let r=s.find(e=>e.default)??s[0];if(!r)throw Error("Unexpected error: 0 tabValues");return r.value})({defaultValue:n,tabValues:a})),[p,g]=function(e){let{queryString:n=!1,groupId:s}=e,r=(0,l.k6)(),a=function(e){let{queryString:n=!1,groupId:s}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!s)throw Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return s??null}({queryString:n,groupId:s});return[(0,o._X)(a),(0,t.useCallback)(e=>{if(!a)return;let n=new URLSearchParams(r.location.search);n.set(a,e),r.replace({...r.location,search:n.toString()})},[a,r])]}({queryString:s,groupId:r}),[j,m]=function(e){let{groupId:n}=e,s=n?`docusaurus.tab.${n}`:null,[r,a]=(0,h.Nk)(s);return[r,(0,t.useCallback)(e=>{s&&a.set(e)},[s,a])]}({groupId:r}),f=(()=>{let e=p??j;return u({value:e,tabValues:a})?e:null})();return(0,c.Z)(()=>{f&&x(f)},[f]),{selectedValue:i,selectValue:(0,t.useCallback)(e=>{if(!u({value:e,tabValues:a}))throw Error(`Can't select invalid tab value=${e}`);x(e),g(e),m(e)},[g,m,a]),tabValues:a}}(e);return(0,r.jsxs)("div",{className:"tabs-container",children:[(0,r.jsx)(p,{...e,...n}),(0,r.jsx)(g,{...e,...n})]})}function m(e){let n=(0,x.Z)();return(0,r.jsx)(j,{...e},String(n))}},80980:function(e,n,s){s.d(n,{Z:function(){return l},a:function(){return i}});var r=s(27378);let t={},a=r.createContext(t);function i(e){let n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);