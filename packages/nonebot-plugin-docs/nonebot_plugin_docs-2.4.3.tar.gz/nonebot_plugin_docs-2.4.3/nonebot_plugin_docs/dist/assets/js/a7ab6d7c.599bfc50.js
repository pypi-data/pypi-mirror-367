"use strict";(self.webpackChunknonebot=self.webpackChunknonebot||[]).push([["7502"],{13046:function(e,n,t){t.r(n),t.d(n,{default:()=>p,frontMatter:()=>l,metadata:()=>o,assets:()=>d,toc:()=>h,contentTitle:()=>c});var o=JSON.parse('{"id":"best-practice/multi-adapter","title":"\u63D2\u4EF6\u8DE8\u5E73\u53F0\u652F\u6301","description":"\u63D2\u4EF6\u8DE8\u5E73\u53F0\u652F\u6301","source":"@site/docs/best-practice/multi-adapter.mdx","sourceDirName":"best-practice","slug":"/best-practice/multi-adapter","permalink":"/website/docs/next/best-practice/multi-adapter","draft":false,"unlisted":false,"editUrl":"https://github.com/nonebot/nonebot2/edit/master/website/docs/best-practice/multi-adapter.mdx","tags":[],"version":"current","lastUpdatedBy":"noneflow[bot]","lastUpdatedAt":1754561629000,"sidebarPosition":4,"frontMatter":{"sidebar_position":4,"description":"\u63D2\u4EF6\u8DE8\u5E73\u53F0\u652F\u6301"},"sidebar":"tutorial","previous":{"title":"\u90E8\u7F72","permalink":"/website/docs/next/best-practice/deployment"},"next":{"title":"\u914D\u7F6E\u4E0E\u6D4B\u8BD5\u4E8B\u4EF6\u54CD\u5E94\u5668","permalink":"/website/docs/next/best-practice/testing/"}}'),r=t("24246"),a=t("80980"),s=t("75037"),i=t("80981");let l={sidebar_position:4,description:"\u63D2\u4EF6\u8DE8\u5E73\u53F0\u652F\u6301"},c="\u63D2\u4EF6\u8DE8\u5E73\u53F0\u652F\u6301",d={},h=[{value:"\u4F7F\u7528 NoneBot \u672C\u8EAB",id:"\u4F7F\u7528-nonebot-\u672C\u8EAB",level:2},{value:"\u57FA\u4E8E\u57FA\u7C7B\u7684\u8DE8\u5E73\u53F0",id:"\u57FA\u4E8E\u57FA\u7C7B\u7684\u8DE8\u5E73\u53F0",level:3},{value:"\u57FA\u4E8E\u91CD\u8F7D\u7684\u8DE8\u5E73\u53F0",id:"\u57FA\u4E8E\u91CD\u8F7D\u7684\u8DE8\u5E73\u53F0",level:3},{value:"\u5904\u7406\u8FD1\u4F3C\u4E8B\u4EF6",id:"\u5904\u7406\u8FD1\u4F3C\u4E8B\u4EF6",level:4},{value:"\u5728\u4F9D\u8D56\u6CE8\u5165\u4E2D\u4F7F\u7528\u91CD\u8F7D",id:"\u5728\u4F9D\u8D56\u6CE8\u5165\u4E2D\u4F7F\u7528\u91CD\u8F7D",level:4},{value:"\u5904\u7406\u591A\u5E73\u53F0\u4E8B\u4EF6",id:"\u5904\u7406\u591A\u5E73\u53F0\u4E8B\u4EF6",level:4},{value:"\u4F7F\u7528\u63D2\u4EF6",id:"\u4F7F\u7528\u63D2\u4EF6",level:2},{value:"\u4E8B\u4EF6\u5904\u7406",id:"\u4E8B\u4EF6\u5904\u7406",level:3},{value:"\u6D88\u606F\u5904\u7406",id:"\u6D88\u606F\u5904\u7406",level:3},{value:"\u4F1A\u8BDD\u4FE1\u606F\u63D0\u53D6",id:"\u4F1A\u8BDD\u4FE1\u606F\u63D0\u53D6",level:3}];function u(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"\u63D2\u4EF6\u8DE8\u5E73\u53F0\u652F\u6301",children:"\u63D2\u4EF6\u8DE8\u5E73\u53F0\u652F\u6301"})}),"\n","\n",(0,r.jsx)(n.h2,{id:"\u4F7F\u7528-nonebot-\u672C\u8EAB",children:"\u4F7F\u7528 NoneBot \u672C\u8EAB"}),"\n",(0,r.jsxs)(n.p,{children:["\u7531\u4E8E\u4E0D\u540C\u5E73\u53F0\u7684\u4E8B\u4EF6\u4E0E\u63A5\u53E3\u4E4B\u95F4\uFF0C\u5B58\u5728\u7740\u6781\u5927\u7684\u5DEE\u5F02\u6027\uFF0CNoneBot \u901A\u8FC7",(0,r.jsx)(n.a,{href:"/website/docs/next/appendices/overload",children:"\u91CD\u8F7D"}),"\u7684\u65B9\u5F0F\uFF0C\u4F7F\u5F97\u63D2\u4EF6\u53EF\u4EE5\u5728\u4E0D\u540C\u5E73\u53F0\u4E0A\u6B63\u786E\u54CD\u5E94\u3002\u4F46\u4E3A\u4E86\u51CF\u5C11\u8DE8\u5E73\u53F0\u7684\u517C\u5BB9\u6027\u95EE\u9898\uFF0C\u6211\u4EEC\u5E94\u8BE5\u5C3D\u53EF\u80FD\u7684\u4F7F\u7528\u57FA\u7C7B\u65B9\u6CD5\u5B9E\u73B0\u539F\u751F\u8DE8\u5E73\u53F0\uFF0C\u800C\u4E0D\u662F\u4F7F\u7528\u7279\u5B9A\u5E73\u53F0\u7684\u65B9\u6CD5\u3002\u5F53\u57FA\u7C7B\u65B9\u6CD5\u65E0\u6CD5\u6EE1\u8DB3\u9700\u6C42\u65F6\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528\u4F9D\u8D56\u6CE8\u5165\u7684\u65B9\u5F0F\uFF0C\u5C06\u7279\u5B9A\u5E73\u53F0\u7684\u4E8B\u4EF6\u6216\u673A\u5668\u4EBA\u6CE8\u5165\u5230\u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u4E2D\uFF0C\u5B9E\u73B0\u9488\u5BF9\u7279\u5B9A\u5E73\u53F0\u7684\u5904\u7406\u3002"]}),"\n",(0,r.jsx)(n.admonition,{title:"\u63D0\u793A",type:"tip",children:(0,r.jsxs)(n.p,{children:["\u5982\u679C\u9700\u8981\u5728\u591A\u5E73\u53F0\u4E0A",(0,r.jsx)(n.strong,{children:"\u4F7F\u7528"}),"\u8DE8\u5E73\u53F0\u63D2\u4EF6\uFF0C\u9996\u5148\u5E94\u8BE5\u6839\u636E",(0,r.jsx)(n.a,{href:"/website/docs/next/advanced/adapter#%E6%B3%A8%E5%86%8C%E9%80%82%E9%85%8D%E5%99%A8",children:"\u6CE8\u518C\u9002\u914D\u5668"}),"\u4E00\u8282\uFF0C\u4E3A\u673A\u5668\u4EBA\u6CE8\u518C\u5404\u5E73\u53F0\u5BF9\u5E94\u7684\u9002\u914D\u5668\u3002"]})}),"\n",(0,r.jsx)(n.h3,{id:"\u57FA\u4E8E\u57FA\u7C7B\u7684\u8DE8\u5E73\u53F0",children:"\u57FA\u4E8E\u57FA\u7C7B\u7684\u8DE8\u5E73\u53F0"}),"\n",(0,r.jsxs)(n.p,{children:["\u5728",(0,r.jsx)(n.a,{href:"/website/docs/next/advanced/adapter#%E8%8E%B7%E5%8F%96%E4%BA%8B%E4%BB%B6%E9%80%9A%E7%94%A8%E4%BF%A1%E6%81%AF",children:"\u4E8B\u4EF6\u901A\u7528\u4FE1\u606F"}),"\u4E2D\uFF0C\u6211\u4EEC\u4E86\u89E3\u4E86\u4E8B\u4EF6\u57FA\u7C7B\u80FD\u591F\u63D0\u4F9B\u7684\u901A\u7528\u4FE1\u606F\u3002\u540C\u65F6\uFF0C",(0,r.jsx)(n.a,{href:"/website/docs/next/appendices/session-control#%E6%9B%B4%E5%A4%9A%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E5%99%A8%E6%93%8D%E4%BD%9C",children:"\u4E8B\u4EF6\u54CD\u5E94\u5668\u64CD\u4F5C"}),"\u4E5F\u4E3A\u6211\u4EEC\u63D0\u4F9B\u4E86\u57FA\u672C\u7684\u7528\u6237\u4EA4\u4E92\u65B9\u5F0F\u3002\u4F7F\u7528\u8FD9\u4E9B\u65B9\u6CD5\uFF0C\u53EF\u4EE5\u8BA9\u6211\u4EEC\u7684\u63D2\u4EF6\u8FD0\u884C\u5728\u4EFB\u4F55\u5E73\u53F0\u4E0A\u3002\u4F8B\u5982\uFF0C\u4E00\u4E2A\u7B80\u5355\u7684\u547D\u4EE4\u5904\u7406\u63D2\u4EF6\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",metastring:"{5,11}",children:'from nonebot import on_command\nfrom nonebot.adapters import Event\n\nasync def is_blacklisted(event: Event) -> bool:\n    return event.get_user_id() not in BLACKLIST\n\nweather = on_command("\u5929\u6C14", rule=is_blacklisted, priority=10, block=True)\n\n@weather.handle()\nasync def handle_function():\n    await weather.finish("\u4ECA\u5929\u7684\u5929\u6C14\u662F...")\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u7531\u4E8E\u6B64\u63D2\u4EF6\u4EC5\u4F7F\u7528\u4E86\u4E8B\u4EF6\u901A\u7528\u4FE1\u606F\u548C\u4E8B\u4EF6\u54CD\u5E94\u5668\u64CD\u4F5C\u7684\u7EAF\u6587\u672C\u4EA4\u4E92\u65B9\u5F0F\uFF0C\u8FD9\u4E9B\u65B9\u6CD5\u4E0D\u4F7F\u7528\u7279\u5B9A\u5E73\u53F0\u7684\u4FE1\u606F\u6216\u63A5\u53E3\uFF0C\u56E0\u6B64\u662F\u539F\u751F\u8DE8\u5E73\u53F0\u7684\uFF0C\u5E76\u4E0D\u9700\u8981\u989D\u5916\u5904\u7406\u3002\u4F46\u5728\u4E00\u4E9B\u8F83\u4E3A\u590D\u6742\u7684\u9700\u6C42\u4E0B\uFF0C\u4F8B\u5982\u53D1\u9001\u56FE\u7247\u6D88\u606F\u65F6\uFF0C\u5E76\u975E\u6240\u6709\u5E73\u53F0\u90FD\u5177\u6709\u7EDF\u4E00\u7684\u63A5\u53E3\uFF0C\u56E0\u6B64\u57FA\u7C7B\u4FBF\u65E0\u80FD\u4E3A\u529B\uFF0C\u6211\u4EEC\u9700\u8981\u5F15\u5165\u7279\u5B9A\u5E73\u53F0\u7684\u9002\u914D\u5668\u4E86\u3002"}),"\n",(0,r.jsx)(n.h3,{id:"\u57FA\u4E8E\u91CD\u8F7D\u7684\u8DE8\u5E73\u53F0",children:"\u57FA\u4E8E\u91CD\u8F7D\u7684\u8DE8\u5E73\u53F0"}),"\n",(0,r.jsxs)(n.p,{children:["\u91CD\u8F7D\u662F NoneBot \u8DE8\u5E73\u53F0\u64CD\u4F5C\u7684\u6838\u5FC3\uFF0C\u5728",(0,r.jsx)(n.a,{href:"/website/docs/next/appendices/overload#%E9%87%8D%E8%BD%BD",children:"\u4E8B\u4EF6\u7C7B\u578B\u4E0E\u91CD\u8F7D"}),"\u4E00\u8282\u4E2D\uFF0C\u6211\u4EEC\u521D\u6B65\u4E86\u89E3\u4E86\u5982\u4F55\u901A\u8FC7\u7C7B\u578B\u6CE8\u89E3\u6765\u5B9E\u73B0\u9488\u5BF9\u4E0D\u540C\u5E73\u53F0\u4E8B\u4EF6\u7684\u5904\u7406\u65B9\u5F0F\u3002\u5728",(0,r.jsx)(n.a,{href:"/website/docs/next/advanced/dependency",children:"\u4F9D\u8D56\u6CE8\u5165"}),"\u4E00\u8282\u4E2D\uFF0C\u6211\u4EEC\u53C8\u5BF9\u4F9D\u8D56\u6CE8\u5165\u7684\u4F7F\u7528\u65B9\u6CD5\u8FDB\u884C\u4E86\u8BE6\u7EC6\u7684\u4ECB\u7ECD\u3002\u7ED3\u5408\u8FD9\u4E24\u8282\u5185\u5BB9\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5B9E\u73B0\u66F4\u590D\u6742\u7684\u8DE8\u5E73\u53F0\u64CD\u4F5C\u3002"]}),"\n",(0,r.jsx)(n.h4,{id:"\u5904\u7406\u8FD1\u4F3C\u4E8B\u4EF6",children:"\u5904\u7406\u8FD1\u4F3C\u4E8B\u4EF6"}),"\n",(0,r.jsxs)(n.p,{children:["\u5BF9\u4E8E\u4E00\u7CFB\u5217",(0,r.jsx)(n.strong,{children:"\u5DEE\u5F02\u4E0D\u5927"}),"\u7684\u4E8B\u4EF6\uFF0C\u6211\u4EEC\u5F80\u5F80\u5177\u6709\u76F8\u540C\u7684\u5904\u7406\u903B\u8F91\u3002\u8FD9\u65F6\uFF0C\u6211\u4EEC\u4E0D\u5E0C\u671B\u5C06\u76F8\u540C\u7684\u903B\u8F91\u7F16\u5199\u4E24\u904D\uFF0C\u800C\u5E94\u8BE5\u590D\u7528\u4EE3\u7801\uFF0C\u4EE5\u5B9E\u73B0\u5728\u540C\u4E00\u4E2A\u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u4E2D\u5904\u7406\u591A\u4E2A\u8FD1\u4F3C\u4E8B\u4EF6\u3002\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528",(0,r.jsx)(n.a,{href:"/website/docs/next/advanced/dependency#Event",children:"\u4E8B\u4EF6\u91CD\u8F7D"}),"\u7684\u7279\u6027\u6765\u5B9E\u73B0\u8FD9\u4E00\u529F\u80FD\u3002\u4F8B\u5982\uFF1A"]}),"\n",(0,r.jsxs)(s.Z,{groupId:"python",children:[(0,r.jsx)(i.Z,{value:"3.10",label:"Python 3.10+",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from nonebot import on_command\nfrom nonebot.adapters import Message\nfrom nonebot.params import CommandArg\nfrom nonebot.adapters.onebot.v11 import MessageEvent as OnebotV11MessageEvent\nfrom nonebot.adapters.onebot.v12 import MessageEvent as OnebotV12MessageEvent\n\necho = on_command("echo", priority=10, block=True)\n\n@echo.handle()\nasync def handle_function(event: OnebotV11MessageEvent | OnebotV12MessageEvent, args: Message = CommandArg()):\n    await echo.finish(args)\n'})})}),(0,r.jsx)(i.Z,{value:"3.9",label:"Python 3.9",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from typing import Union\n\nfrom nonebot import on_command\nfrom nonebot.adapters import Message\nfrom nonebot.params import CommandArg\nfrom nonebot.adapters.onebot.v11 import MessageEvent as OnebotV11MessageEvent\nfrom nonebot.adapters.onebot.v12 import MessageEvent as OnebotV12MessageEvent\n\necho = on_command("echo", priority=10, block=True)\n\n@echo.handle()\nasync def handle_function(event: Union[OnebotV11MessageEvent, OnebotV12MessageEvent], args: Message = CommandArg()):\n    await echo.finish(args)\n'})})})]}),"\n",(0,r.jsx)(n.h4,{id:"\u5728\u4F9D\u8D56\u6CE8\u5165\u4E2D\u4F7F\u7528\u91CD\u8F7D",children:"\u5728\u4F9D\u8D56\u6CE8\u5165\u4E2D\u4F7F\u7528\u91CD\u8F7D"}),"\n",(0,r.jsx)(n.p,{children:"NoneBot \u4F9D\u8D56\u6CE8\u5165\u7CFB\u7EDF\u63D0\u4F9B\u4E86\u81EA\u5B9A\u4E49\u5B50\u4F9D\u8D56\u7684\u65B9\u6CD5\uFF0C\u5B50\u4F9D\u8D56\u7684\u7C7B\u578B\u540C\u6837\u4F1A\u5F71\u54CD\u5230\u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u7684\u91CD\u8F7D\u884C\u4E3A\u3002\u4F8B\u5982\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from datetime import datetime\n\nfrom nonebot import on_command\nfrom nonebot.adapters.console import MessageEvent\n\necho = on_command("echo", priority=10, block=True)\n\ndef get_event_time(event: MessageEvent):\n    return event.time\n\n# \u5904\u7406\u63A7\u5236\u53F0\u6D88\u606F\u4E8B\u4EF6\n@echo.handle()\nasync def handle_function(time: datetime = Depends(get_event_time)):\n    await echo.finish(time.strftime("%Y-%m-%d %H:%M:%S"))\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\u793A\u4F8B\u4E2D \uFF0C\u6211\u4EEC\u4E3A ",(0,r.jsx)(n.code,{children:"handle_function"})," \u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u6CE8\u5165\u4E86\u81EA\u5B9A\u4E49\u7684 ",(0,r.jsx)(n.code,{children:"get_event_time"})," \u5B50\u4F9D\u8D56\uFF0C\u800C\u6B64\u5B50\u4F9D\u8D56\u6CE8\u5165\u53C2\u6570\u4E3A Console \u9002\u914D\u5668\u7684 ",(0,r.jsx)(n.code,{children:"MessageEvent"}),"\u3002\u56E0\u6B64 ",(0,r.jsx)(n.code,{children:"handle_function"})," \u4EC5\u4F1A\u54CD\u5E94 Console \u9002\u914D\u5668\u7684 ",(0,r.jsx)(n.code,{children:"MessageEvent"})," \uFF0C\u800C\u4E0D\u80FD\u54CD\u5E94\u5176\u4ED6\u4E8B\u4EF6\u3002"]}),"\n",(0,r.jsx)(n.h4,{id:"\u5904\u7406\u591A\u5E73\u53F0\u4E8B\u4EF6",children:"\u5904\u7406\u591A\u5E73\u53F0\u4E8B\u4EF6"}),"\n",(0,r.jsx)(n.p,{children:"\u4E0D\u540C\u5E73\u53F0\u7684\u4E8B\u4EF6\u4E4B\u95F4\uFF0C\u5F80\u5F80\u5B58\u5728\u7740\u6781\u5927\u7684\u5DEE\u5F02\u6027\u3002\u4E3A\u4E86\u6EE1\u8DB3\u6211\u4EEC\u63D2\u4EF6\u7684\u8DE8\u5E73\u53F0\u8FD0\u884C\uFF0C\u901A\u5E38\u6211\u4EEC\u9700\u8981\u62BD\u79BB\u4E1A\u52A1\u903B\u8F91\uFF0C\u4EE5\u4FDD\u8BC1\u4EE3\u7801\u7684\u590D\u7528\u6027\u3002\u4E00\u4E2A\u5408\u7406\u7684\u505A\u6CD5\u662F\uFF0C\u5728\u4E8B\u4EF6\u54CD\u5E94\u5668\u7684\u5904\u7406\u6D41\u7A0B\u4E2D\uFF0C\u9996\u5148\u5148\u9488\u5BF9\u4E0D\u540C\u5E73\u53F0\u7684\u4E8B\u4EF6\u5206\u522B\u8FDB\u884C\u5904\u7406\uFF0C\u63D0\u53D6\u51FA\u6838\u5FC3\u4E1A\u52A1\u903B\u8F91\u6240\u9700\u8981\u7684\u4FE1\u606F\uFF1B\u7136\u540E\u518D\u5C06\u8FD9\u4E9B\u4FE1\u606F\u4F20\u9012\u7ED9\u4E1A\u52A1\u903B\u8F91\u5904\u7406\u51FD\u6570\uFF1B\u6700\u540E\u5C06\u4E1A\u52A1\u903B\u8F91\u7684\u8F93\u51FA\u4EE5\u5404\u5E73\u53F0\u5408\u9002\u7684\u65B9\u5F0F\u8FD4\u56DE\u7ED9\u7528\u6237\u3002\u4E5F\u5C31\u662F\u8BF4\uFF0C\u4E0E\u5E73\u53F0\u7ED1\u5B9A\u7684\u5904\u7406\u90E8\u5206\u5E94\u8BE5\u4E0E\u5E73\u53F0\u65E0\u5173\u90E8\u5206\u5C3D\u91CF\u5206\u79BB\u3002\u4F8B\u5982\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import inspect\n\nfrom nonebot import on_command\nfrom nonebot.typing import T_State\nfrom nonebot.matcher import Matcher\nfrom nonebot.adapters import Message\nfrom nonebot.params import CommandArg, ArgPlainText\nfrom nonebot.adapters.console import Bot as ConsoleBot\nfrom nonebot.adapters.onebot.v11 import Bot as OnebotBot\nfrom nonebot.adapters.console import MessageSegment as ConsoleMessageSegment\n\nweather = on_command("\u5929\u6C14", priority=10, block=True)\n\n@weather.handle()\nasync def handle_function(matcher: Matcher, args: Message = CommandArg()):\n    if args.extract_plain_text():\n        matcher.set_arg("location", args)\n\n\nasync def get_weather(state: T_State, location: str = ArgPlainText()):\n    if location not in ["\u5317\u4EAC", "\u4E0A\u6D77", "\u5E7F\u5DDE", "\u6DF1\u5733"]:\n        await weather.reject(f"\u4F60\u60F3\u67E5\u8BE2\u7684\u57CE\u5E02 {location} \u6682\u4E0D\u652F\u6301\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165\uFF01")\n\n    state["weather"] = "\u26C5 \u591A\u4E91 20\u2103~24\u2103"\n\n\n# \u5904\u7406\u63A7\u5236\u53F0\u8BE2\u95EE\n@weather.got(\n    "location",\n    prompt=ConsoleMessageSegment.emoji("question") + "\u8BF7\u8F93\u5165\u5730\u540D",\n    parameterless=[Depends(get_weather)],\n)\nasync def handle_console(bot: ConsoleBot):\n    pass\n\n# \u5904\u7406 OneBot \u8BE2\u95EE\n@weather.got(\n    "location",\n    prompt="\u8BF7\u8F93\u5165\u5730\u540D",\n    parameterless=[Depends(get_weather)],\n)\nasync def handle_onebot(bot: OnebotBot):\n    pass\n\n# \u901A\u8FC7\u4F9D\u8D56\u6CE8\u5165\u6216\u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u6765\u8FDB\u884C\u4E1A\u52A1\u903B\u8F91\u5904\u7406\n\n# \u5904\u7406\u63A7\u5236\u53F0\u56DE\u590D\n@weather.handle()\nasync def handle_console_reply(bot: ConsoleBot, state: T_State, location: str = ArgPlainText()):\n    await weather.send(\n        ConsoleMessageSegment.markdown(\n            inspect.cleandoc(\n                f"""\n                # {location}\n\n                - \u4ECA\u5929\n\n                   {state[\'weather\']}\n                """\n            )\n        )\n    )\n\n# \u5904\u7406 OneBot \u56DE\u590D\n@weather.handle()\nasync def handle_onebot_reply(bot: OnebotBot, state: T_State, location: str = ArgPlainText()):\n    await weather.send(f"\u4ECA\u5929{location}\u7684\u5929\u6C14\u662F{state[\'weather\']}")\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u4F7F\u7528\u63D2\u4EF6",children:"\u4F7F\u7528\u63D2\u4EF6"}),"\n",(0,r.jsx)(n.p,{children:"\u5F97\u76CA\u4E8E\u4F17\u591A\u5F00\u53D1\u8005\u4E3A NoneBot \u793E\u533A\u505A\u51FA\u7684\u8D21\u732E\uFF0C\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u4E00\u7CFB\u5217\u63D2\u4EF6\u6765\u5B8C\u6210\u8DE8\u5E73\u53F0\u63D2\u4EF6\u7684\u5F00\u53D1\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u8FD9\u4E9B\u63D2\u4EF6\u53EF\u4EE5\u5206\u4E3A\u4E09\u7C7B\uFF1A"}),"\n",(0,r.jsx)(n.h3,{id:"\u4E8B\u4EF6\u5904\u7406",children:"\u4E8B\u4EF6\u5904\u7406"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/nonepkg/nonebot-plugin-all4one",children:"all4one"}),": \u5C06\u4E0D\u540C\u5E73\u53F0\u7684\u4E8B\u4EF6\u8F6C\u4E3A\u7B26\u5408 OneBot V12 \u534F\u8BAE\u7684\u63D2\u4EF6","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u652F\u6301\u7684\u9002\u914D\u5668: OneBot V11/V12, Discord, QQ, Telegram"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\u6D88\u606F\u5904\u7406",children:"\u6D88\u606F\u5904\u7406"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/nonebot/plugin-alconna",children:"alconna"}),": \u5BF9\u51E0\u4E4E\u6240\u6709\u9002\u914D\u5668\u4E2D\u6D88\u606F\u7684\u6536\u53D1\u3001\u64A4\u56DE\u3001\u7F16\u8F91\u3001\u8868\u6001\u7684\u7EDF\u4E00\u63D2\u4EF6","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u652F\u6301\u7684\u9002\u914D\u5668: OneBot V11/V12, Telegram, Feishu, Github, QQ, Ding, Console, Kaiheila, Mirai, NtChat, Minecraft, Discord, Satori, Red, Dodo, Kritor, Tailchat, Mail, WXMP, Heybox, Gewechat"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/felinae98/nonebot-plugin-send-anything-anywhere",children:"send-anything-anywhere"}),": \u5E2E\u52A9\u5904\u7406\u4E0D\u540C\u9002\u914D\u5668\u6D88\u606F\u7684\u9002\u914D\u548C\u53D1\u9001\u7684\u63D2\u4EF6","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u652F\u6301\u7684\u9002\u914D\u5668: OneBot V11/V12, Kaiheila, Telegram, Feishu, Red, DoDo, Satori, QQ, Discord"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\u4F1A\u8BDD\u4FE1\u606F\u63D0\u53D6",children:"\u4F1A\u8BDD\u4FE1\u606F\u63D0\u53D6"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/RF-Tar-Railt/nonebot-plugin-uninfo",children:"uninfo"}),": \u591A\u5E73\u53F0\u7684\u4F1A\u8BDD\u4FE1\u606F(\u7528\u6237\u3001\u7FA4\u7EC4\u3001\u9891\u9053)\u83B7\u53D6\u63D2\u4EF6","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u652F\u6301\u7684\u9002\u914D\u5668: OneBot V11/V12, Telegram, Feishu, QQ, Console, Kaiheila, Mirai, Minecraft, Discord, Satori, Dodo, Kritor, Mail, WXMP, Gewechat"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/noneplugin/nonebot-plugin-session",children:"session"}),": \u4F1A\u8BDD\u4FE1\u606F\u63D0\u53D6\u4E0E\u4F1A\u8BDD id \u5B9A\u4E49\u63D2\u4EF6","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u652F\u6301\u7684\u9002\u914D\u5668: OneBot V11/V12, Console, Kaiheila, Telegram, Feishu, Red, DoDo, Satori, QQ, Discord"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["[userinfo](",(0,r.jsx)(n.a,{href:"https://github.com/noneplugin/nonebot-plugin-userinfo",children:"https://github.com/noneplugin/nonebot-plugin-userinfo"}),": \u7528\u6237\u4FE1\u606F\u83B7\u53D6\u63D2\u4EF6","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u652F\u6301\u7684\u9002\u914D\u5668: OneBot V11/V12, Console, Kaiheila, Telegram, Feishu, Red, DoDo, Satori, QQ, Discord"}),"\n"]}),"\n"]}),"\n"]})]})}function p(e={}){let{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},80981:function(e,n,t){t.d(n,{Z:function(){return a}});var o=t(24246);t(27378);var r=t(90496);function a(e){let{children:n,hidden:t,className:a}=e;return(0,o.jsx)("div",{role:"tabpanel",className:(0,r.Z)("tab-panel",a),hidden:t,children:n})}},75037:function(e,n,t){t.d(n,{Z:()=>g});var o=t("24246"),r=t("27378"),a=t("90496"),s=t("85403"),i=t("3620"),l=t("77090"),c=t("76180"),d=t("23418"),h=t("19073");function u(e){let{value:n,tabValues:t}=e;return t.some(e=>e.value===n)}var p=t("3344");function m(e){let{className:n,selectedValue:t,selectValue:r,tabValues:i}=e,l=[],{blockElementScrollPositionUntilNextRender:c}=(0,s.o5)(),d=e=>{let n=e.currentTarget,o=i[l.indexOf(n)].value;o!==t&&(c(n),r(o))},h=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{let t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{let t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1]}}n?.focus()};return(0,o.jsx)("div",{className:"not-prose",children:(0,o.jsxs)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.Z)("tabs tabs-list",n),children:[i.map(e=>{let{value:n,label:r,attributes:s}=e;return(0,o.jsx)("li",{role:"tab",tabIndex:t===n?0:-1,"aria-selected":t===n,ref:e=>{l.push(e)},onKeyDown:h,onClick:d,...s,className:(0,a.Z)("tab tab-lifted tab-item",s?.className,t===n&&"tab-active tab-item-active"),children:r??n},n)}),(0,o.jsx)("div",{className:"tab tab-lifted tab-item tab-spacer"})]})})}function f(e){let{lazy:n,children:t,selectedValue:a}=e,s=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){let e=s.find(e=>e.props.value===a);return e?(0,o.jsx)("div",{children:(0,r.cloneElement)(e)}):null}return(0,o.jsx)("div",{children:s.map((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==a}))})}function b(e){let n=function(e){let{defaultValue:n,queryString:t=!1,groupId:o}=e,a=function(e){let{values:n,children:t}=e;return(0,r.useMemo)(()=>{let e=n??(r.Children.toArray(t).filter(e=>"\n"!==e).map(e=>{if(!e||r.isValidElement(e)&&function(e){let{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]).map(e=>{let{props:{value:n,label:t,attributes:o,default:r}}=e;return{value:n,label:t,attributes:o,default:r}});return!function(e){let n=(0,d.lx)(e,(e,n)=>e.value===n.value);if(n.length>0)throw Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,t])}(e),[s,p]=(0,r.useState)(()=>(function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!u({value:n,tabValues:t}))throw Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}let o=t.find(e=>e.default)??t[0];if(!o)throw Error("Unexpected error: 0 tabValues");return o.value})({defaultValue:n,tabValues:a})),[m,f]=function(e){let{queryString:n=!1,groupId:t}=e,o=(0,i.k6)(),a=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,c._X)(a),(0,r.useCallback)(e=>{if(!a)return;let n=new URLSearchParams(o.location.search);n.set(a,e),o.replace({...o.location,search:n.toString()})},[a,o])]}({queryString:t,groupId:o}),[b,g]=function(e){let{groupId:n}=e,t=n?`docusaurus.tab.${n}`:null,[o,a]=(0,h.Nk)(t);return[o,(0,r.useCallback)(e=>{t&&a.set(e)},[t,a])]}({groupId:o}),x=(()=>{let e=m??b;return u({value:e,tabValues:a})?e:null})();return(0,l.Z)(()=>{x&&p(x)},[x]),{selectedValue:s,selectValue:(0,r.useCallback)(e=>{if(!u({value:e,tabValues:a}))throw Error(`Can't select invalid tab value=${e}`);p(e),f(e),g(e)},[f,g,a]),tabValues:a}}(e);return(0,o.jsxs)("div",{className:"tabs-container",children:[(0,o.jsx)(m,{...e,...n}),(0,o.jsx)(f,{...e,...n})]})}function g(e){let n=(0,p.Z)();return(0,o.jsx)(b,{...e},String(n))}},80980:function(e,n,t){t.d(n,{Z:function(){return i},a:function(){return s}});var o=t(27378);let r={},a=o.createContext(r);function s(e){let n=o.useContext(a);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),o.createElement(a.Provider,{value:n},e.children)}}}]);