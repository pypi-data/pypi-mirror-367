"use strict";(self.webpackChunknonebot=self.webpackChunknonebot||[]).push([["310"],{23517:function(e,a,t){t.d(a,{l:()=>m});var s=t("24246"),r=t("27378"),n=t("90496"),i=t("29682"),l=t("92739"),c=t("28277"),o=t("52704");function d(e){let{label:a,color:t,className:r,onClick:i}=e;return(0,s.jsx)("span",{className:(0,n.Z)("tag",r),style:{backgroundColor:t,color:(0,o.k)(t,"#fff","#000")},onClick:i,children:a})}function u(e){let{allowTags:a,onTagUpdate:t}=e,[i,o]=(0,r.useState)([]),[u,m]=(0,r.useState)(""),[p,h]=(0,r.useState)("#ea5252"),f=Array.from(new Set(a.filter(e=>e.label.toLocaleLowerCase().includes(u)).map(e=>e.label))).slice(0,5),x=()=>u.length>=1&&u.length<=10,g=()=>{if(!(i.length>=3)&&x()){let e=[...i,{label:u,color:p}];o(e),t(e)}},j=e=>{let a=i.filter((a,t)=>t!==e);o(a),t(a)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("label",{className:"flex flex-wrap gap-x-1 gap-y-1",children:[i.map((e,a)=>(0,s.jsx)(d,{...e,className:"cursor-pointer",onClick:()=>j(a)},a)),i.length<3&&(0,s.jsxs)("span",{className:(0,n.Z)("add-btn",{"add-btn-disabled":!x()}),onClick:()=>g(),children:[(0,s.jsx)(l.G,{className:"pr-1",icon:["fas","plus"]}),"\u65B0\u5EFA\u6807\u7B7E"]})]}),(0,s.jsxs)("div",{className:"form-item-container",children:[(0,s.jsx)("span",{className:"form-item-title",children:"\u6807\u7B7E\u540D\u79F0"}),(0,s.jsxs)("div",{className:"dropdown dropdown-bottom w-full",children:[(0,s.jsx)("input",{type:"text",value:u,className:"form-item form-item-input",placeholder:"\u8BF7\u8F93\u5165",onChange:e=>m(e.target.value)}),f.length>0&&(0,s.jsx)("ul",{tabIndex:0,className:"dropdown-content z-10 menu p-2 shadow bg-base-100 rounded-box w-52",children:f.map(e=>(0,s.jsx)("li",{children:(0,s.jsx)("a",{onClick:()=>m(e),children:e})},e))})]})]}),(0,s.jsxs)("div",{className:"form-item-container",children:[(0,s.jsx)("span",{className:"form-item-title",children:"\u6807\u7B7E\u989C\u8272"}),(0,s.jsx)(c.AI,{className:"my-4 fix-input-color",color:p,disableAlpha:!0,onChangeComplete:e=>{h(e.hex)}})]})]})}function m(e){let{type:a,children:t,description:l,formItems:c,handleSubmit:o}=e,[d,u]=(0,r.useState)(0),[m,h]=(0,r.useState)({}),[f,x]=(0,r.useState)([]);(0,r.useEffect)(()=>{(0,i.q)(a).then(e=>x(e.filter(e=>e.tags.length>0).map(e=>e.tags).flat())).catch(e=>{console.error(e)})},[a]);let g=(e,a)=>{h({...m,[e]:a})},j=()=>{c[d].items.map(e=>e.name).every(e=>m[e])&&u(d+1)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("ul",{className:"steps",children:c.map((e,a)=>(0,s.jsx)("li",{className:(0,n.Z)("step",d===a&&"step-primary"),children:e.name},a))}),l&&0===d&&(0,s.jsx)("div",{className:"form-description",children:l}),(0,s.jsx)("div",{className:"form-control w-full min-h-[300px]",children:t||c[d].items.map(e=>(0,s.jsx)(p,{type:e.type,name:e.name,labelText:e.labelText,allowTags:f,result:m,setResult:g},e.name))}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("button",{className:(0,n.Z)("form-btn form-btn-prev",{"form-btn-hidden":0===d}),onClick:()=>d>0&&u(d-1),children:"\u4E0A\u4E00\u6B65"}),(0,s.jsx)("button",{className:"form-btn form-btn-next",onClick:()=>d<c.length-1?j():o(m),children:d===c.length-1?"\u63D0\u4EA4":"\u4E0B\u4E00\u6B65"})]})]})}function p(e){let{type:a,name:t,labelText:r,allowTags:i,result:l,setResult:c}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("label",{className:"label",children:(0,s.jsx)("span",{className:"label-text",children:r})}),"text"===a&&(0,s.jsx)("input",{value:l[t]||"",type:"text",name:t,onChange:e=>c(t,e.target.value),placeholder:"\u8BF7\u8F93\u5165",className:(0,n.Z)("form-input",{"form-input-error":!l[t]})}),"text"===a&&!l[t]&&(0,s.jsx)("label",{className:"label",children:(0,s.jsxs)("span",{className:"form-label form-label-error",children:["\u8BF7\u8F93\u5165",r]})}),"tag"===a&&(0,s.jsx)(u,{allowTags:i,onTagUpdate:e=>c(t,JSON.stringify(e))})]})}},12749:function(e,a,t){t.d(a,{Z:function(){return l}});var s=t(24246),r=t(27378),n=t(90496),i=t(25929);function l(e){let{setOpenModal:a,className:t,children:l,useCustomTitle:c,backdropExit:o,title:d}=e,[u,m]=(0,r.useState)(""),p=()=>m("fade-out");return(0,r.useEffect)(()=>m("fade-in"),[]),(0,s.jsxs)("div",{className:(0,n.Z)("nb-modal-root",t),children:[(0,s.jsx)("div",{className:(0,n.Z)("nb-modal-backdrop",u),onTransitionEnd:()=>"fade-out"===u&&a(!1),onClick:()=>o&&p()}),(0,s.jsx)("div",{className:(0,n.Z)("nb-modal-container",u),children:(0,s.jsx)("div",{className:"card bg-base-100 shadow-xl max-w-2xl",children:(0,s.jsxs)("div",{className:"card-body",children:[!c&&(0,s.jsxs)("div",{className:"nb-modal-title",children:[d,(0,s.jsx)("div",{className:"card-actions ml-auto",children:(0,s.jsx)("button",{className:"btn btn-square btn-sm",onClick:p,children:(0,s.jsx)(i.Z,{})})})]}),l]})})})]})}},61186:function(e,a,t){t.d(a,{Z:function(){return l}});var s=t(24246),r=t(27378),n=t(90496),i=t(92739);function l(e){let{className:a,totalPages:t,currentPage:l,setPreviousPage:c,setNextPage:o,setPage:d,previousEnabled:u,nextEnabled:m}=e,p=(0,r.useCallback)((e,a)=>{let t=[];e=e>0?e:1;for(let s=e;s<=a;s++)t.push(s);return t},[]),h=[],f=(0,s.jsx)(i.G,{icon:"ellipsis-h"}),x=Math.floor(3.5),g=t-x+0+1;if(l+=1,t<=7)h.push(...p(1,t));else if(l>x&&l<g){let e=l-x+2,a=l+x-2-0,s=e-1==2?2:f,r=a+1===t-1?a+1:f;h.push(1,s,...p(e,a),r,t)}else if(l===x){let e=l+x-1-0;h.push(...p(1,e),f,t)}else if(l===g){let e=l-x+1;h.push(1,f,...p(e,t))}else h.push(...p(1,x),f,...p(g,t));return(0,s.jsxs)("nav",{className:(0,n.Z)("paginate-container",a),role:"navigation","aria-label":"Pagination Navigation",children:[(0,s.jsx)("button",{className:"paginate-button",onClick:c,disabled:!u,children:(0,s.jsx)(i.G,{icon:["fas","chevron-left"]})}),(0,s.jsx)("ul",{className:"paginate-pager",children:h.map((e,a)=>(0,s.jsx)("li",{className:(0,n.Z)("paginate-button","number"!=typeof e&&"ellipsis",l===e&&"active"),onClick:()=>"number"==typeof e&&l!==e&&d(e-1),children:e},a))}),(0,s.jsx)("button",{className:"paginate-button",onClick:o,disabled:!m,children:(0,s.jsx)(i.G,{icon:["fas","chevron-right"]})})]})}},69195:function(e,a,t){t.d(a,{Z:function(){return l}});var s=t(24246),r=t(27378),n=t(55739),i=t(90496);function l(e){let{authorLink:a,authorAvatar:t,className:l}=e,[c,o]=(0,r.useState)(!1);return(0,s.jsx)("div",{className:"avatar",children:(0,s.jsx)("div",{className:l,children:(0,s.jsx)(n.Z,{href:a,children:(0,s.jsxs)("div",{className:"relative w-full h-full",children:[!c&&(0,s.jsx)("div",{className:(0,i.Z)("absolute inset-0 rounded-full bg-gray-200","animate-pulse")}),(0,s.jsx)("img",{src:t,onLoad:()=>o(!0),className:(0,i.Z)("w-full h-full rounded-full object-cover","transition-opacity duration-300",c?"opacity-100":"opacity-0"),alt:"Avatar"})]})})})})}},47220:function(e,a,t){t.d(a,{Z:function(){return d}});var s=t(24246);t(27378);var r=t(90496),n=t(55739),i=t(92739),l=t(69195),c=t(66675),o=t(3);function d(e){let{resource:a,onClick:t,onTagClick:d,onAuthorClick:u,className:m}=e,p=/^https:\/\/github.com\/[^/]+\/[^/]+/.test(a.homepage),h="plugin"===a.resourceType,f=h&&`https://registry.nonebot.dev/plugin/${a.project_link}:${a.module_name}`,x=`https://github.com/${a.author}`,g=`${x}.png?size=80`;return(0,s.jsxs)("div",{className:(0,r.Z)("resource-card-container",m),children:[(0,s.jsxs)("div",{className:"resource-card-header",children:[(0,s.jsxs)("div",{className:"resource-card-header-title",children:[(0,s.jsx)("div",{className:"resource-card-header-text","data-tip":a.name,children:(0,s.jsx)("div",{className:"truncate min-w-0",children:a.name})}),a.is_official&&(0,s.jsx)(i.G,{className:"resource-card-header-check",icon:["fas","circle-check"]}),(0,s.jsx)(o.ZP,{className:"mx-2",resource:a,validLink:f,simple:!0})]}),(0,s.jsx)("div",{className:"resource-card-header-expand",onClick:t,children:(0,s.jsx)(i.G,{icon:["fas","expand"]})})]}),(0,s.jsx)("div",{className:"resource-card-desc",children:a.desc}),(0,s.jsxs)("div",{className:"resource-card-footer",children:[(0,s.jsx)("div",{className:"resource-card-footer-tags",children:a.tags.map((e,a)=>(0,s.jsx)(c.Z,{className:"resource-card-footer-tag",...e,onClick:()=>d(e.label)},a))}),(0,s.jsx)("div",{className:"divider resource-card-footer-divider"}),(0,s.jsxs)("div",{className:"resource-card-footer-info",children:[(0,s.jsxs)("div",{className:"resource-card-footer-group",children:[(0,s.jsx)(n.Z,{href:a.homepage,children:p?(0,s.jsx)(i.G,{className:"resource-card-footer-icon",icon:["fab","github"]}):(0,s.jsx)(i.G,{className:"resource-card-footer-icon",icon:["fas","link"]})}),h&&(0,s.jsx)(n.Z,{href:f,children:(0,s.jsx)(i.G,{className:"resource-card-footer-icon",icon:["fas","cube"]})})]}),(0,s.jsxs)("div",{className:"resource-card-footer-group",children:[(0,s.jsx)(l.Z,{className:"resource-card-footer-avatar",authorAvatar:g,authorLink:x},a.author),(0,s.jsx)("span",{className:"resource-card-footer-author",onClick:u,children:a.author})]})]})]})]})}},29593:function(e,a,t){t.d(a,{Z:function(){return d}});var s=t(24246),r=t(27378),n=t(92739),i=t(84171),l=t(66675),c=t(3),o=t(69195);function d(e){var a;let{resource:t}=e,[d,u]=(0,r.useState)(null),[m,p]=(0,r.useState)(!1),h=`https://github.com/${t.author}`,f=`${h}.png?size=100`,x="plugin"===t.resourceType&&`https://registry.nonebot.dev/plugin/${t.project_link}:${t.module_name}`,g=e=>{switch(e.resourceType){case"plugin":case"adapter":case"driver":return e.project_link;default:return null}},j=e=>fetch(`https://pypi.org/pypi/${e}/json`).then(e=>e.json()).then(e=>u(e)),b=e=>{let a=g(e);a&&((0,i.Z)(`nb ${e.resourceType} install ${a}`),p(!0),setTimeout(()=>p(!1),2e3))};(0,r.useEffect)(()=>{let e=[];"bot"!==t.resourceType&&"driver"!==t.resourceType&&(t.project_link&&e.push(j(t.project_link)),Promise.all(e))},[t]);let v=g(t)||"\u65E0",N=(e=>{switch(e.resourceType){case"plugin":case"adapter":return e.module_name;case"driver":return e.module_name.replace(/~/,"nonebot.drivers.");default:return null}})(t)||"\u65E0",y=(e=>{switch(e.resourceType){case"plugin":case"adapter":case"driver":return e.homepage;default:return null}})(t),k=(e=>{switch(e.resourceType){case"plugin":case"adapter":return`https://pypi.org/project/${e.project_link}`;default:return null}})(t),S="plugin"===(a=t).resourceType?new Date(a.time).toLocaleString():null;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"detail-card-header",children:[(0,s.jsx)(o.Z,{className:"detail-card-avatar",authorLink:h,authorAvatar:f},t.author),(0,s.jsxs)("div",{className:"detail-card-title",children:[(0,s.jsxs)("span",{className:"detail-card-title-main flex items-center gap-x-1",children:[t.name,t.is_official&&(0,s.jsx)("div",{className:"rounded-md text-sm bg-green-400/10 text-green-600 px-1 py-0.5",children:"\u5B98\u65B9"})]}),(0,s.jsx)("a",{className:"detail-card-title-sub hover:underline hover:text-primary",target:"_blank",rel:"noreferrer",href:h,children:t.author})]}),(0,s.jsxs)("div",{className:"detail-card-actions",children:[(0,s.jsx)(c.ZP,{resource:t,validLink:x,className:"detail-card-actions-desktop"}),(0,s.jsx)("button",{className:"detail-card-actions-button detail-card-actions-desktop w-28",onClick:()=>b(t),children:m?"\u590D\u5236\u6210\u529F":"\u590D\u5236\u5B89\u88C5\u547D\u4EE4"})]})]}),(0,s.jsx)("div",{className:"divider detail-card-header-divider"}),(0,s.jsxs)("div",{className:"detail-card-body",children:[(0,s.jsxs)("div",{className:"detail-card-body-left",children:[(0,s.jsx)("span",{className:"h-full",children:t.desc}),(0,s.jsx)("div",{className:"resource-card-footer-tags mb-4",children:t.tags.map((e,a)=>(0,s.jsx)(l.Z,{className:"align-bottom",...e},a))})]}),(0,s.jsx)("div",{className:"detail-card-body-divider"}),(0,s.jsxs)("div",{className:"detail-card-body-right",children:[(0,s.jsx)("div",{className:"detail-card-meta-item",children:(0,s.jsxs)("span",{children:[(0,s.jsx)(n.G,{fixedWidth:!0,icon:["fab","python"]})," ",d&&d.info.requires_python||"\u65E0"]})}),(0,s.jsxs)("div",{className:"detail-card-meta-item",children:[(0,s.jsx)(n.G,{fixedWidth:!0,icon:["fas","file-zipper"]})," ",d&&d.releases[d.info.version]&&`${d.releases[d.info.version].reduce((e,a)=>e+a.size,0)/1e3}K`||"\u65E0"]}),(0,s.jsx)("div",{className:"detail-card-meta-item",children:(0,s.jsxs)("span",{children:[(0,s.jsx)(n.G,{fixedWidth:!0,icon:["fas","scale-balanced"]})," ",d&&d.info.license||"\u65E0"]})}),(0,s.jsxs)("div",{className:"detail-card-meta-item",children:[(0,s.jsx)(n.G,{fixedWidth:!0,icon:["fas","tag"]})," ",d&&d.info.version||"\u65E0"]}),y&&(0,s.jsxs)("div",{className:"detail-card-meta-item",children:[(0,s.jsx)(n.G,{fixedWidth:!0,icon:["fas","fingerprint"]})," ",(0,s.jsx)("a",{href:y,target:"_blank",rel:"noreferrer",className:"detail-card-meta-item-link",children:N})]}),k&&(0,s.jsxs)("div",{className:"detail-card-meta-item",children:[(0,s.jsx)(n.G,{fixedWidth:!0,icon:["fas","cubes"]})," ",(0,s.jsx)("a",{href:k,target:"_blank",rel:"noreferrer",className:"detail-card-meta-item-link",children:v})]}),(0,s.jsxs)("div",{className:"detail-card-meta-item",children:[(0,s.jsx)(n.G,{fixedWidth:!0,icon:["fas","clock-rotate-left"]})," ",S]}),(0,s.jsxs)("div",{className:"detail-card-actions",children:[(0,s.jsx)(c.ZP,{resource:t,validLink:x,className:"detail-card-actions-mobile"}),(0,s.jsx)("button",{className:"detail-card-actions detail-card-actions-button detail-card-actions-mobile w-28",onClick:()=>b(t),children:m?"\u590D\u5236\u6210\u529F":"\u590D\u5236\u5B89\u88C5\u547D\u4EE4"})]})]})]})]})}},66675:function(e,a,t){t.d(a,{Z:function(){return i}});var s=t(24246);t(27378);var r=t(90496),n=t(52704);function i(e){let{label:a,color:t,className:i,onClick:l}=e;return(0,s.jsx)("span",{className:(0,r.Z)("resource-tag",i),style:{backgroundColor:t,color:(0,n.k)(t,"#fff","#000")},onClick:l,children:a})}},3:function(e,a,t){t.d(a,{ZP:function(){return o},mz:function(){return l}});var s=t(24246);t(27378);var r=t(90496),n=t(92739),i=t(84947);let l=e=>"plugin"===e.resourceType?e.skip_test?i.i.SKIP:e.valid?i.i.VALID:i.i.INVALID:i.i.MISSING,c={[i.i.VALID]:"plug-circle-check",[i.i.INVALID]:"plug-circle-xmark",[i.i.SKIP]:"plug-circle-exclamation",[i.i.MISSING]:"plug-circle-exclamation"};function o(e){let{resource:a,validLink:t,className:o,simple:d}=e,u=l(a),m=u===i.i.VALID,p=u===i.i.INVALID,h=u===i.i.SKIP;return u!==i.i.MISSING&&(0,s.jsx)("a",{target:"_blank",rel:"noreferrer",href:t,className:o,children:(0,s.jsxs)("div",{className:(0,r.Z)({"rounded-md text-sm flex items-center gap-x-1 px-2 py-1 whitespace-nowrap":!d,"bg-green-400/10":!d&&m,"text-green-600 dark:text-green-400":m,"bg-red-400/10":!d&&p,"text-red-600 dark:text-red-400":p,"bg-blue-400/10":!d&&h,"text-blue-600 dark:text-blue-400":h}),children:[(0,s.jsx)(n.G,{icon:c[u]}),!d&&(0,s.jsxs)(s.Fragment,{children:[m&&(0,s.jsx)("p",{children:"\u63D2\u4EF6\u5DF2\u901A\u8FC7\u6D4B\u8BD5"}),p&&(0,s.jsx)("p",{children:"\u63D2\u4EF6\u672A\u901A\u8FC7\u6D4B\u8BD5"}),h&&(0,s.jsx)("p",{children:"\u63D2\u4EF6\u8DF3\u8FC7\u6D4B\u8BD5"})]})]})})}},84216:function(e,a,t){t.d(a,{Z:function(){return c}});var s=t(24246),r=t(27378),n=t(90496),i=t(66672),l=t(92739);function c(e){let{onChange:a,onSubmit:t,onBackspace:c,onClear:o,onTagClick:d,tags:u=[],className:m,placeholder:p,disabled:h=!1}=e,f=(0,r.useRef)(null),x=e=>{t(e.currentTarget.value),e.currentTarget.value="",e.preventDefault()},g=e=>{e.currentTarget.value=""},j=e=>{""===e.currentTarget.value&&(c(),e.preventDefault())};return(0,s.jsxs)("div",{className:(0,n.Z)("searcher-box",m),children:[(0,s.jsxs)("div",{className:"searcher-container",children:[u.map((e,a)=>(0,s.jsxs)("div",{className:"badge badge-primary searcher-tag",onClick:()=>d(a),children:[e,(0,s.jsx)(l.G,{className:"searcher-action-icon close ml-1",icon:["fas","xmark"]})]},a)),(0,s.jsx)("input",{ref:f,className:"searcher-input",placeholder:p??(0,i.I)({id:"theme.searcher.input.placeholder",description:"Search input placeholder",message:"\u641C\u7D22"}),onChange:e=>a(e.currentTarget.value),onKeyDown:e=>{switch(e.key){case"Enter":x(e);break;case"Escape":g(e);break;case"Backspace":j(e)}},disabled:h})]}),(0,s.jsxs)("div",{className:"searcher-action",onClick:()=>{f.current&&(f.current.value="",f.current.focus()),o()},children:[(0,s.jsx)(l.G,{className:"searcher-action-icon search",icon:["fas","magnifying-glass"]}),(0,s.jsx)(l.G,{className:"searcher-action-icon close",icon:["fas","xmark"]})]})]})}},47871:function(e,a,t){t.d(a,{Z:function(){return h}});var s=t(24246);t(27378);var r=t(48449),n=t(91005),i=t(6325),l=t(20523),c=t(4108),o=t(31713),d=t(71440),u=t(54723);let m="ecosystem";function p(e){let{title:a,children:t}=e,n=(0,i.Uo)((0,r.lO)()[0].name,m);return(0,s.jsxs)(u.Z,{hideTableOfContents:!0,reduceContentWidth:!1,sidebarId:m,children:[(0,s.jsx)(l.uB,{items:n}),(0,s.jsxs)("article",{className:"prose max-w-full",children:[(0,s.jsx)(o.Z,{as:"h1",className:"store-title",children:a}),t]})]})}function h(e){let{title:a,...t}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.d,{title:a}),(0,s.jsxs)(d.Z,{children:[(0,s.jsx)(c.Z,{}),(0,s.jsx)(p,{title:a,...t})]})]})}},82690:function(e,a,t){t.d(a,{Z:function(){return c}});var s=t(24246),r=t(27378),n=t(90496),i=t(92739);function l(e){let{label:a,icon:t,choices:n,onSubmit:l}=e,[c,o]=(0,r.useState)(""),d=n?.filter(e=>e.toLowerCase().includes(c.toLowerCase()))?.slice(0,5),u=()=>{d&&d.length>0?l(d[0]):null===n&&l(c)},m=e=>{"Enter"===e.key&&(l(e.currentTarget.innerText),e.preventDefault())};return(0,s.jsxs)("div",{className:"dropdown",children:[(0,s.jsxs)("label",{className:"btn btn-sm btn-outline btn-primary no-animation",tabIndex:0,children:[(0,s.jsx)(i.G,{icon:t}),(0,s.jsx)("span",{className:"hidden sm:block",children:a})]}),(0,s.jsxs)("div",{className:"dropdown-content store-toolbar-dropdown",children:[(0,s.jsx)("input",{type:"text",placeholder:"\u641C\u7D22",value:c,onChange:e=>o(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(u(),e.preventDefault())},className:"input input-sm input-bordered w-full"}),d&&(0,s.jsx)("ul",{className:"menu menu-sm",children:d.map((e,a)=>(0,s.jsx)("li",{onClick:()=>l(e),onKeyDown:m,children:(0,s.jsx)("a",{tabIndex:0,children:e})},a))})]})]})}function c(e){let{filters:a,sorter:t,action:r,className:c}=e;return a&&a.length>0||r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:(0,n.Z)("store-toolbar",c),children:[(0,s.jsxs)("div",{className:"store-toolbar-filters",children:[a?.map((e,a)=>s.jsx(l,{...e},a)),t&&(0,s.jsx)("div",{className:"store-toolbar-sorter store-toolbar-sorter-desktop",children:(0,s.jsxs)("button",{className:(0,n.Z)("btn btn-sm btn-primary no-animation mr-2",!t.active&&"btn-outline"),onClick:t.onClick,children:[(0,s.jsx)(i.G,{icon:t.icon}),t.label]})})]}),r&&(0,s.jsx)("div",{className:"store-toolbar-action",children:(0,s.jsxs)("button",{className:"btn btn-sm btn-primary no-animation",onClick:r.onClick,children:[(0,s.jsx)(i.G,{icon:r.icon}),r.label]})})]}),(0,s.jsx)("div",{className:(0,n.Z)("store-toolbar store-toolbar-second",c),children:t&&(0,s.jsx)("div",{className:"store-toolbar-sorter",children:(0,s.jsxs)("button",{className:(0,n.Z)("btn btn-sm btn-primary no-animation mr-2",!t.active&&"btn-outline"),onClick:t.onClick,children:[(0,s.jsx)(i.G,{icon:t.icon}),t.label]})})})]}):null}},52704:function(e,a,t){t.d(a,{k:function(){return s}});function s(e,a,t){let s="#"===e.charAt(0)?e.substring(1,7):e,r=parseInt(s.substring(0,2),16);return .299*r+.587*parseInt(s.substring(2,4),16)+.114*parseInt(s.substring(4,6),16)>186?t:a}},87854:function(e,a,t){t.d(a,{Ac:function(){return d},IA:function(){return u},IT:function(){return c},RQ:function(){return o},SY:function(){return m}});var s=t(27378),r=t(66672),n=t(3),i=t(84947);let l={[i.i.VALID]:(0,r.I)({id:"pages.store.filter.validateStatusDisplayName.valid",description:"The display name of validateStatus filter",message:"\u72B6\u6001: \u901A\u8FC7"}),[i.i.INVALID]:(0,r.I)({id:"pages.store.filter.validateStatusDisplayName.invalid",description:"The display name of validateStatus filter",message:"\u72B6\u6001: \u672A\u901A\u8FC7"}),[i.i.SKIP]:(0,r.I)({id:"pages.store.filter.validateStatusDisplayName.skip",description:"The display name of validateStatus filter",message:"\u72B6\u6001: \u8DF3\u8FC7"}),[i.i.MISSING]:(0,r.I)({id:"pages.store.filter.validateStatusDisplayName.missing",description:"The display name of validateStatus filter",message:"\u72B6\u6001: \u7F3A\u5931"})},c=e=>({type:"validStatus",id:`validStatus-${e}`,displayName:l[e],filter:a=>"plugin"!==a.resourceType||(0,n.mz)(a)===e}),o=e=>({type:"tag",id:`tag-${e}`,displayName:(0,r.I)({id:"pages.store.filter.tagDisplayName",description:"The display name of tag filter",message:"\u6807\u7B7E: {tag}"},{tag:e}),filter:a=>a.tags.map(e=>e.label).includes(e)}),d=e=>({type:"author",id:`author-${e}`,displayName:(0,r.I)({id:"pages.store.filter.authorDisplayName",description:"The display name of author filter",message:"\u4F5C\u8005: {author}"},{author:e}),filter:a=>a.author===e}),u=e=>({type:"query",id:`query-${e}`,displayName:e,filter:a=>{if(!e)return!0;let t=e.toLowerCase(),s="plugin"===a.resourceType&&(a.module_name?.toLowerCase().includes(t)||a.project_link?.toLowerCase().includes(t)),r=a.name.toLowerCase().includes(t)||a.desc.toLowerCase().includes(t)||a.author.toLowerCase().includes(t)||a.tags.filter(e=>e.label.toLowerCase().includes(t)).length>0;return s||r}});function m(e){let[a,t]=(0,s.useState)([]),r=(0,s.useCallback)(e=>{!a.some(a=>a.id===e.id)&&t(a=>[...a,e])},[a,t]),n=(0,s.useCallback)(e=>{t(a=>a.filter(a=>"string"==typeof e?a.id!==e:a!==e))},[t]),i=(0,s.useCallback)(()=>e.filter(e=>a.every(a=>a.filter(e))),[e,a]);return{filters:a,addFilter:r,removeFilter:n,filteredResources:i()}}},48255:function(e,a,t){t.d(a,{r:function(){return n}});var s=t(27378),r=t(87854);function n(e){let[a,t]=(0,s.useState)(null),{filters:n,addFilter:i,removeFilter:l,filteredResources:c}=(0,r.SY)(e),[o,d]=(0,s.useState)([]);(0,s.useEffect)(()=>{d(n.filter(e=>!(a&&e===a)))},[n,a]);let u=(0,s.useCallback)(e=>{if(""===e){a&&l(a),t(null);return}let s=(0,r.IA)(e);a?.id!==s.id&&(a&&l(a),t(s),i(s))},[a,t,i,l]),m=(0,s.useCallback)(()=>{t(null)},[t]),p=(0,s.useCallback)(()=>{l(o[o.length-1])},[l,o]),h=(0,s.useCallback)(()=>{o.forEach(e=>l(e))},[l,o]),f=(0,s.useCallback)(e=>{l(o[e])},[l,o]);return{filteredResources:c,searcherTags:o.map(e=>e.displayName),addFilter:i,onSearchQueryChange:u,onSearchQuerySubmit:m,onSearchBackspace:p,onSearchClear:h,onSearchTagClick:f}}},29682:function(e,a,t){async function s(e){let a=await fetch(`https://registry.nonebot.dev/${e}s.json`).catch(a=>{throw Error(`Failed to fetch ${e}s: ${a}`)});if(!a.ok)throw Error(`Failed to fetch ${e}s: ${a.status} ${a.statusText}`);return(await a.json()).map(a=>({...a,resourceType:e}))}t.d(a,{J:function(){return r},q:function(){return s}});let r=(0,t(66672).I)({id:"pages.store.loadFailed.title",message:"\u52A0\u8F7D\u5931\u8D25",description:"Title to display when loading content failed"})},83439:function(e,a,t){t.d(a,{S:function(){return i}});var s=t(66672),r=t(87854),n=t(84947);function i(e){let{resources:a,addFilter:t}=e,i={label:"\u4F5C\u8005",icon:["fas","user"],choices:Array.from(new Set(a.map(e=>e.author))),onSubmit:e=>{t((0,r.Ac)(e))}},l={label:"\u6807\u7B7E",icon:["fas","tag"],choices:Array.from(new Set(a.flatMap(e=>e.tags.map(e=>e.label)))),onSubmit:e=>{t((0,r.RQ)(e))}},c={[(0,s.I)({id:"pages.store.filter.validateStatusDisplayName.valid",description:"The display name of validateStatus filter",message:"\u901A\u8FC7"})]:n.i.VALID,[(0,s.I)({id:"pages.store.filter.validateStatusDisplayName.invalid",description:"The display name of validateStatus filter",message:"\u672A\u901A\u8FC7"})]:n.i.INVALID,[(0,s.I)({id:"pages.store.filter.validateStatusDisplayName.skip",description:"The display name of validateStatus filter",message:"\u8DF3\u8FC7"})]:n.i.SKIP,[(0,s.I)({id:"pages.store.filter.validateStatusDisplayName.missing",description:"The display name of validateStatus filter",message:"\u7F3A\u5931"})]:n.i.MISSING};return{filters:[i,l,{label:"\u72B6\u6001",icon:["fas","plug"],choices:Object.keys(c),onSubmit:e=>{let a=c[e];a&&t((0,r.IT)(a))}}]}}},84947:function(e,a,t){t.d(a,{i:function(){return r}});var s,r=((s={}).VALID="valid",s.INVALID="invalid",s.SKIP="skip",s.MISSING="missing",s)},99220:function(e,a,t){t.r(a),t.d(a,{default:()=>C});var s,r=t("24246"),n=t("27378"),i=t("66672"),l=t("48809"),c=t("19416"),o=t("55739"),d=t("23517");function u(){let e=(0,r.jsxs)("p",{children:["\u8BF7\u5728\u53D1\u5E03\u524D\u9605\u8BFB"," ",(0,r.jsx)(o.Z,{className:"text-primary",href:"https://nonebot.dev/docs/developer/plugin-publishing",children:"NoneBot \u63D2\u4EF6\u53D1\u5E03\u6D41\u7A0B\u6307\u5BFC"}),"\uFF0C\u5E76\u786E\u4FDD\u6EE1\u8DB3\u5176\u4E2D\u6240\u8FF0\u6761\u4EF6\u3002"]});return(0,r.jsx)(d.l,{type:"plugin",formItems:[{name:"\u5305\u4FE1\u606F",items:[{type:"text",name:"pypi",labelText:"PyPI \u9879\u76EE\u540D"},{type:"text",name:"module",labelText:"\u63D2\u4EF6\u6A21\u5757\u540D"}]},{name:"\u5176\u4ED6\u4FE1\u606F",items:[{type:"tag",name:"tags",labelText:"\u6807\u7B7E"}]}],handleSubmit:e=>{window.open(`https://github.com/nonebot/nonebot2/issues/new?${new URLSearchParams({template:"plugin_publish.yml",title:`Plugin: ${e.pypi}`,...e})}`)},description:e})}var m=t("12749"),p=t("61186"),h=t("47220"),f=t("29593"),x=t("84216"),g=t("82690"),j=t("87854"),b=t("48255"),v=((s={})[s.Default=0]="Default",s[s.UpdateDesc=1]="UpdateDesc",s),N=t("29682"),y=t("83439");function k(){var e;let[a,t]=(0,n.useState)(null),s=a?.length??0,o=null===a,[d,k]=(0,n.useState)(null),[S,C]=(0,n.useState)(!1),[I,w]=(0,n.useState)(!1),[Z,T]=(0,n.useState)(null),[D,L]=(0,n.useState)(v.Default),A={label:D===v.Default?(0,i.I)({id:"pages.store.sorter.label.default",description:"The label of default sorter",message:"\u9ED8\u8BA4\u987A\u5E8F"}):(0,i.I)({id:"pages.store.sorter.label.updateDesc",description:"The label of updateDesc sorter",message:"\u66F4\u65B0\u65F6\u95F4\u5012\u5E8F"}),icon:["fas","sort-amount-down"],active:D===v.UpdateDesc,onClick:()=>{L(D===v.Default?v.UpdateDesc:v.Default)}},{filteredResources:G,searcherTags:P,addFilter:$,onSearchQueryChange:E,onSearchQuerySubmit:_,onSearchBackspace:V,onSearchClear:F,onSearchTagClick:R}=(0,b.r)((e=a??[],D===v.UpdateDesc?[...e].sort((e,a)=>new Date(a.time).getTime()-new Date(e.time).getTime()):e)),K=G.length,{startIndex:M,endIndex:z,totalPages:U,currentPage:W,setNextPage:q,setPreviousPage:O,setPage:B,previousEnabled:J,nextEnabled:Q}=(0,l.h0)({totalItems:G.length,initialPageSize:12}),Y=G.slice(M,z+1);(0,n.useEffect)(()=>{(0,N.q)("plugin").then(t).catch(e=>{k(e),console.error(e)})},[]);let{filters:H}=(0,y.S)({resources:a??[],addFilter:$}),X=(0,n.useCallback)(e=>{T(e),w(!0)},[]),ee=(0,n.useCallback)(e=>{$((0,j.RQ)(e))},[$]),ea=(0,n.useCallback)(e=>{$((0,j.Ac)(e))},[$]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"store-description",children:s===K?(0,r.jsx)(i.Z,{id:"pages.store.plugin.info",description:"Plugins info of the plugin store page",values:{pluginCount:s},children:"\u5F53\u524D\u5171\u6709 {pluginCount} \u4E2A\u63D2\u4EF6"}):(0,r.jsx)(i.Z,{id:"pages.store.plugin.searchInfo",description:"Plugins search info of the plugin store page",values:{pluginCount:s,filteredPluginCount:K},children:"\u5F53\u524D\u5171\u6709 {filteredPluginCount} / {pluginCount} \u4E2A\u63D2\u4EF6"})}),(0,r.jsx)(x.Z,{className:"store-searcher not-prose",onChange:E,onSubmit:_,onBackspace:V,onClear:F,onTagClick:R,tags:P,disabled:o}),(0,r.jsx)(g.Z,{className:"not-prose",filters:H,sorter:A,action:{label:"\u53D1\u5E03\u63D2\u4EF6",icon:["fas","plus"],onClick:()=>{C(!0)}}}),d?(0,r.jsx)(c.Z,{type:"caution",title:N.J,children:d.message}):o?(0,r.jsx)("p",{className:"store-loading-container",children:(0,r.jsx)("span",{className:"loading loading-dots loading-lg store-loading"})}):(0,r.jsx)("div",{className:"store-container",children:Y.map((e,a)=>(0,r.jsx)(h.Z,{className:"not-prose",resource:e,onClick:()=>X(e),onTagClick:ee,onAuthorClick:()=>ea(e.author)},a))}),(0,r.jsx)(p.Z,{className:"not-prose",totalPages:U,currentPage:W,setNextPage:q,setPreviousPage:O,setPage:B,nextEnabled:Q,previousEnabled:J}),S&&(0,r.jsx)(m.Z,{className:"not-prose",title:"\u53D1\u5E03\u63D2\u4EF6",setOpenModal:C,children:(0,r.jsx)(u,{})}),I&&(0,r.jsx)(m.Z,{className:"not-prose",useCustomTitle:!0,backdropExit:!0,title:"\u63D2\u4EF6\u8BE6\u60C5",setOpenModal:w,children:Z&&(0,r.jsx)(f.Z,{resource:Z})})]})}var S=t("47871");function C(){let e=(0,i.I)({id:"pages.store.plugin.title",message:"\u63D2\u4EF6\u5546\u5E97",description:"Title for the plugin store page"});return(0,r.jsx)(S.Z,{title:e,children:(0,r.jsx)(k,{})})}},68098:function(e,a,t){t.d(a,{Z:function(){return i}});var s=t(24246);t(27378);var r=t(85870),n=t(64672);function i(e){let{children:a,...t}=e,i=(0,r.iP)();return(0,s.jsxs)(n.Z,{...t,children:[a,"ssr"!==i&&(0,s.jsx)("div",{className:"toc-ads-container",children:(0,s.jsx)("div",{className:"wwads-cn wwads-vertical toc-ads","data-id":"281"})})]})}},84171:function(e,a,t){t.d(a,{Z:function(){return s}});function s(e){let{target:a=document.body}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof e)throw TypeError(`Expected parameter \`text\` to be a \`string\`, got \`${typeof e}\`.`);let t=document.createElement("textarea"),s=document.activeElement;t.value=e,t.setAttribute("readonly",""),t.style.contain="strict",t.style.position="absolute",t.style.left="-9999px",t.style.fontSize="12pt";let r=document.getSelection(),n=r.rangeCount>0&&r.getRangeAt(0);a.append(t),t.select(),t.selectionStart=0,t.selectionEnd=e.length;let i=!1;try{i=document.execCommand("copy")}catch{}return t.remove(),n&&(r.removeAllRanges(),r.addRange(n)),s&&s.focus(),i}}}]);