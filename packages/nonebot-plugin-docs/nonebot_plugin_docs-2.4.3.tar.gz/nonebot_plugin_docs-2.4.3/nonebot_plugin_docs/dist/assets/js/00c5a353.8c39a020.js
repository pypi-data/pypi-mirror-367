"use strict";(self.webpackChunknonebot=self.webpackChunknonebot||[]).push([["2005"],{90094:function(e,n,d){d.r(n),d.d(n,{default:()=>h,frontMatter:()=>c,metadata:()=>s,assets:()=>o,toc:()=>a,contentTitle:()=>l});var s=JSON.parse('{"id":"advanced/driver","title":"\u9009\u62E9\u9A71\u52A8\u5668","description":"\u9009\u62E9\u5408\u9002\u7684\u9A71\u52A8\u5668\u8FD0\u884C\u673A\u5668\u4EBA","source":"@site/versioned_docs/version-2.4.3/advanced/driver.md","sourceDirName":"advanced","slug":"/advanced/driver","permalink":"/website/docs/advanced/driver","draft":false,"unlisted":false,"editUrl":"https://github.com/nonebot/nonebot2/edit/master/website/versioned_docs/version-2.4.3/advanced/driver.md","tags":[],"version":"2.4.3","lastUpdatedBy":"noneflow[bot]","lastUpdatedAt":1754561629000,"sidebarPosition":0,"frontMatter":{"sidebar_position":0,"description":"\u9009\u62E9\u5408\u9002\u7684\u9A71\u52A8\u5668\u8FD0\u884C\u673A\u5668\u4EBA","options":{"menu":[{"category":"advanced","weight":10}]}},"sidebar":"tutorial","previous":{"title":"\u4E0B\u4E00\u6B65","permalink":"/website/docs/appendices/whats-next"},"next":{"title":"\u4F7F\u7528\u9002\u914D\u5668","permalink":"/website/docs/advanced/adapter"}}'),r=d("24246"),i=d("80980");let c={sidebar_position:0,description:"\u9009\u62E9\u5408\u9002\u7684\u9A71\u52A8\u5668\u8FD0\u884C\u673A\u5668\u4EBA",options:{menu:[{category:"advanced",weight:10}]}},l="\u9009\u62E9\u9A71\u52A8\u5668",o={},a=[{value:"\u9A71\u52A8\u5668\u7C7B\u578B",id:"\u9A71\u52A8\u5668\u7C7B\u578B",level:2},{value:"\u914D\u7F6E\u9A71\u52A8\u5668",id:"\u914D\u7F6E\u9A71\u52A8\u5668",level:2},{value:"\u83B7\u53D6\u9A71\u52A8\u5668",id:"\u83B7\u53D6\u9A71\u52A8\u5668",level:2},{value:"\u5185\u7F6E\u9A71\u52A8\u5668",id:"\u5185\u7F6E\u9A71\u52A8\u5668",level:2},{value:"None",id:"none",level:3},{value:"FastAPI\uFF08\u9ED8\u8BA4\uFF09",id:"fastapi\u9ED8\u8BA4",level:3},{value:"FastAPI \u914D\u7F6E\u9879",id:"fastapi-\u914D\u7F6E\u9879",level:4},{value:"<code>fastapi_openapi_url</code>",id:"fastapi_openapi_url",level:5},{value:"<code>fastapi_docs_url</code>",id:"fastapi_docs_url",level:5},{value:"<code>fastapi_redoc_url</code>",id:"fastapi_redoc_url",level:5},{value:"<code>fastapi_include_adapter_schema</code>",id:"fastapi_include_adapter_schema",level:5},{value:"<code>fastapi_reload</code>",id:"fastapi_reload",level:5},{value:"<code>fastapi_reload_dirs</code>",id:"fastapi_reload_dirs",level:5},{value:"<code>fastapi_reload_delay</code>",id:"fastapi_reload_delay",level:5},{value:"<code>fastapi_reload_includes</code>",id:"fastapi_reload_includes",level:5},{value:"<code>fastapi_reload_excludes</code>",id:"fastapi_reload_excludes",level:5},{value:"<code>fastapi_extra</code>",id:"fastapi_extra",level:5},{value:"Quart",id:"quart",level:3},{value:"Quart \u914D\u7F6E\u9879",id:"quart-\u914D\u7F6E\u9879",level:4},{value:"<code>quart_reload</code>",id:"quart_reload",level:5},{value:"<code>quart_reload_dirs</code>",id:"quart_reload_dirs",level:5},{value:"<code>quart_reload_delay</code>",id:"quart_reload_delay",level:5},{value:"<code>quart_reload_includes</code>",id:"quart_reload_includes",level:5},{value:"<code>quart_reload_excludes</code>",id:"quart_reload_excludes",level:5},{value:"<code>quart_extra</code>",id:"quart_extra",level:5},{value:"HTTPX",id:"httpx",level:3},{value:"websockets",id:"websockets",level:3},{value:"AIOHTTP",id:"aiohttp",level:3}];function t(e){let n={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"\u9009\u62E9\u9A71\u52A8\u5668",children:"\u9009\u62E9\u9A71\u52A8\u5668"})}),"\n",(0,r.jsx)(n.p,{children:"\u9A71\u52A8\u5668 (Driver) \u662F\u673A\u5668\u4EBA\u8FD0\u884C\u7684\u57FA\u77F3\uFF0C\u5B83\u662F\u673A\u5668\u4EBA\u521D\u59CB\u5316\u7684\u7B2C\u4E00\u6B65\uFF0C\u4E3B\u8981\u8D1F\u8D23\u6570\u636E\u6536\u53D1\u3002"}),"\n",(0,r.jsx)(n.admonition,{title:"\u63D0\u793A",type:"important",children:(0,r.jsx)(n.p,{children:"\u9A71\u52A8\u5668\u7684\u9009\u62E9\u901A\u5E38\u4E0E\u673A\u5668\u4EBA\u6240\u4F7F\u7528\u7684\u534F\u8BAE\u9002\u914D\u5668\u76F8\u5173\uFF0C\u5982\u679C\u4E0D\u77E5\u9053\u8BE5\u9009\u62E9\u54EA\u4E2A\u9A71\u52A8\u5668\uFF0C\u53EF\u4EE5\u5148\u9605\u8BFB\u76F8\u5173\u534F\u8BAE\u9002\u914D\u5668\u6587\u6863\u8BF4\u660E\u3002"})}),"\n",(0,r.jsx)(n.admonition,{title:"\u63D0\u793A",type:"tip",children:(0,r.jsxs)(n.p,{children:["\u5982\u4F55",(0,r.jsx)(n.strong,{children:"\u5B89\u88C5"}),"\u9A71\u52A8\u5668\u8BF7\u53C2\u8003",(0,r.jsx)(n.a,{href:"/website/docs/tutorial/store#%E5%AE%89%E8%A3%85%E9%A9%B1%E5%8A%A8%E5%99%A8",children:"\u5B89\u88C5\u9A71\u52A8\u5668"}),"\u3002"]})}),"\n",(0,r.jsx)(n.h2,{id:"\u9A71\u52A8\u5668\u7C7B\u578B",children:"\u9A71\u52A8\u5668\u7C7B\u578B"}),"\n",(0,r.jsx)(n.p,{children:"\u9A71\u52A8\u5668\u7C7B\u578B\u5927\u4F53\u4E0A\u53EF\u4EE5\u5206\u4E3A\u4E24\u79CD\uFF1A"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Forward"}),"\uFF1A\u5373\u5BA2\u6237\u7AEF\u578B\u9A71\u52A8\u5668\uFF0C\u591A\u7528\u4E8E\u4F7F\u7528 HTTP \u8F6E\u8BE2\uFF0C\u8FDE\u63A5 WebSocket \u670D\u52A1\u5668\u7B49\u60C5\u5F62\u3002"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Reverse"}),"\uFF1A\u5373\u670D\u52A1\u7AEF\u578B\u9A71\u52A8\u5668\uFF0C\u591A\u7528\u4E8E\u4F7F\u7528 WebHook\uFF0C\u63A5\u6536 WebSocket \u5BA2\u6237\u7AEF\u8FDE\u63A5\u7B49\u60C5\u5F62\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u5BA2\u6237\u7AEF\u578B\u9A71\u52A8\u5668\u53EF\u4EE5\u5206\u4E3A\u4EE5\u4E0B\u4E24\u79CD\uFF1A"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\u5F02\u6B65\u53D1\u9001 HTTP \u8BF7\u6C42\uFF0C\u81EA\u5B9A\u4E49 ",(0,r.jsx)(n.code,{children:"HTTP Method"}),"\u3001",(0,r.jsx)(n.code,{children:"URL"}),"\u3001",(0,r.jsx)(n.code,{children:"Header"}),"\u3001",(0,r.jsx)(n.code,{children:"Body"}),"\u3001",(0,r.jsx)(n.code,{children:"Cookie"}),"\u3001",(0,r.jsx)(n.code,{children:"Proxy"}),"\u3001",(0,r.jsx)(n.code,{children:"Timeout"})," \u7B49\u3002"]}),"\n",(0,r.jsxs)(n.li,{children:["\u5F02\u6B65\u5EFA\u7ACB WebSocket \u8FDE\u63A5\u4E0A\u4E0B\u6587\uFF0C\u81EA\u5B9A\u4E49 ",(0,r.jsx)(n.code,{children:"WebSocket URL"}),"\u3001",(0,r.jsx)(n.code,{children:"Header"}),"\u3001",(0,r.jsx)(n.code,{children:"Cookie"}),"\u3001",(0,r.jsx)(n.code,{children:"Proxy"}),"\u3001",(0,r.jsx)(n.code,{children:"Timeout"})," \u7B49\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u670D\u52A1\u7AEF\u578B\u9A71\u52A8\u5668\u76EE\u524D\u6709\uFF1A"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["ASGI \u5E94\u7528\u6846\u67B6\uFF0C\u5177\u6709\u4EE5\u4E0B\u529F\u80FD\uFF1A","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u534F\u8BAE\u9002\u914D\u5668\u81EA\u5B9A\u4E49 HTTP \u4E0A\u62A5\u5730\u5740\u4EE5\u53CA\u5BF9\u4E0A\u62A5\u6570\u636E\u5904\u7406\u7684\u56DE\u8C03\u51FD\u6570\u3002"}),"\n",(0,r.jsx)(n.li,{children:"\u534F\u8BAE\u9002\u914D\u5668\u81EA\u5B9A\u4E49 WebSocket \u8FDE\u63A5\u8BF7\u6C42\u5730\u5740\u4EE5\u53CA\u5BF9 WebSocket \u8BF7\u6C42\u5904\u7406\u7684\u56DE\u8C03\u51FD\u6570\u3002"}),"\n",(0,r.jsxs)(n.li,{children:["\u7528\u6237\u53EF\u4EE5\u5411 ASGI \u5E94\u7528\u6DFB\u52A0\u4EFB\u4F55\u670D\u52A1\u7AEF\u76F8\u5173\u529F\u80FD\uFF0C\u5982\uFF1A",(0,r.jsx)(n.a,{href:"/website/docs/advanced/routing",children:"\u6DFB\u52A0\u81EA\u5B9A\u4E49\u8DEF\u7531"}),"\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\u914D\u7F6E\u9A71\u52A8\u5668",children:"\u914D\u7F6E\u9A71\u52A8\u5668"}),"\n",(0,r.jsxs)(n.p,{children:["\u9A71\u52A8\u5668\u7684\u914D\u7F6E\u65B9\u6CD5\u5DF2\u7ECF\u5728",(0,r.jsx)(n.a,{href:"/website/docs/appendices/config",children:"\u914D\u7F6E"}),"\u7AE0\u8282\u4E2D\u7B80\u5355\u8FDB\u884C\u4E86\u4ECB\u7ECD\uFF0C\u8FD9\u91CC\u5C06\u8BE6\u7EC6\u4ECB\u7ECD\u9A71\u52A8\u5668\u914D\u7F6E\u7684\u683C\u5F0F\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["NoneBot \u4E2D\u7684\u5BA2\u6237\u7AEF\u548C\u670D\u52A1\u7AEF\u578B\u9A71\u52A8\u5668\u53EF\u4EE5\u76F8\u4E92\u914D\u5408\u4F7F\u7528\uFF0C\u4F46\u670D\u52A1\u7AEF\u578B\u9A71\u52A8\u5668",(0,r.jsx)(n.strong,{children:"\u4EC5\u80FD\u9009\u62E9\u4E00\u4E2A"}),"\u3002\u6240\u6709\u9A71\u52A8\u5668\u6A21\u5757\u90FD\u4F1A\u5305\u542B\u4E00\u4E2A ",(0,r.jsx)(n.code,{children:"Driver"})," \u5B50\u7C7B\uFF0C\u5373\u9A71\u52A8\u5668\u7C7B\uFF0C\u4ED6\u53EF\u4EE5\u4F5C\u4E3A\u9A71\u52A8\u5668\u5355\u72EC\u8FD0\u884C\u3002\u540C\u65F6\uFF0C\u5BA2\u6237\u7AEF\u9A71\u52A8\u5668\u6A21\u5757\u4E2D\u8FD8\u4F1A\u63D0\u4F9B\u4E00\u4E2A ",(0,r.jsx)(n.code,{children:"Mixin"})," \u5B50\u7C7B\uFF0C\u7528\u4E8E\u5728\u4E0E\u5176\u4ED6\u9A71\u52A8\u5668\u914D\u5408\u4F7F\u7528\u65F6\u52A0\u8F7D\u3002\u56E0\u6B64\uFF0C\u9A71\u52A8\u5668\u914D\u7F6E\u683C\u5F0F\u91C7\u7528\u7279\u6B8A\u8BED\u6CD5\uFF1A",(0,r.jsx)(n.code,{children:"<module>[:<Driver>][+<module>[:<Mixin>]]*"}),"\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5176\u4E2D\uFF0C",(0,r.jsx)(n.code,{children:"<module>"})," \u4EE3\u8868",(0,r.jsx)(n.strong,{children:"\u9A71\u52A8\u5668\u6A21\u5757\u8DEF\u5F84"}),"\uFF1B",(0,r.jsx)(n.code,{children:"<Driver>"})," \u4EE3\u8868",(0,r.jsx)(n.strong,{children:"\u9A71\u52A8\u5668\u7C7B\u540D"}),"\uFF0C\u9ED8\u8BA4\u4E3A ",(0,r.jsx)(n.code,{children:"Driver"}),"\uFF1B",(0,r.jsx)(n.code,{children:"<Mixin>"})," \u4EE3\u8868",(0,r.jsx)(n.strong,{children:"\u9A71\u52A8\u5668\u6DF7\u5165\u7C7B\u540D"}),"\uFF0C\u9ED8\u8BA4\u4E3A ",(0,r.jsx)(n.code,{children:"Mixin"}),"\u3002\u5373\uFF0C\u6211\u4EEC\u9700\u8981\u9009\u62E9\u4E00\u4E2A\u4E3B\u8981\u9A71\u52A8\u5668\uFF0C\u7136\u540E\u5728\u5176\u57FA\u7840\u4E0A\u914D\u5408\u4F7F\u7528\u5176\u4ED6\u9A71\u52A8\u5668\u7684\u529F\u80FD\u3002\u4E3B\u8981\u9A71\u52A8\u5668\u53EF\u4EE5\u4E3A\u5BA2\u6237\u7AEF\u6216\u670D\u52A1\u7AEF\u7C7B\u578B\uFF0C\u4F46\u6DF7\u5165\u7C7B\u9A71\u52A8\u5668\u53EA\u80FD\u4E3A\u5BA2\u6237\u7AEF\u7C7B\u578B\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u7279\u522B\u7684\uFF0C\u4E3A\u4E86\u7B80\u5316\u5185\u7F6E\u9A71\u52A8\u5668\u6A21\u5757\u8DEF\u5F84\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528 ",(0,r.jsx)(n.code,{children:"~"})," \u7B26\u53F7\u4F5C\u4E3A\u5185\u7F6E\u9A71\u52A8\u5668\u6A21\u5757\u8DEF\u5F84\u7684\u524D\u7F00\uFF0C\u5982 ",(0,r.jsx)(n.code,{children:"~fastapi"})," \u4EE3\u8868\u4F7F\u7528\u5185\u7F6E\u9A71\u52A8\u5668 ",(0,r.jsx)(n.code,{children:"fastapi"}),"\u3002NoneBot \u5185\u7F6E\u4E86\u591A\u4E2A\u9A71\u52A8\u5668\u9002\u914D\uFF0C\u4F46\u9700\u8981\u5B89\u88C5\u989D\u5916\u4F9D\u8D56\u624D\u80FD\u4F7F\u7528\uFF0C\u5177\u4F53\u8BF7\u53C2\u8003",(0,r.jsx)(n.a,{href:"/website/docs/tutorial/store#%E5%AE%89%E8%A3%85%E9%A9%B1%E5%8A%A8%E5%99%A8",children:"\u5B89\u88C5\u9A71\u52A8\u5668"}),"\u3002\u5E38\u89C1\u7684\u9A71\u52A8\u5668\u914D\u7F6E\u5982\u4E0B\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dotenv",children:"DRIVER=~fastapi\nDRIVER=~aiohttp\nDRIVER=~httpx+~websockets\nDRIVER=~fastapi+~httpx+~websockets\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u83B7\u53D6\u9A71\u52A8\u5668",children:"\u83B7\u53D6\u9A71\u52A8\u5668"}),"\n",(0,r.jsxs)(n.p,{children:["\u5728 NoneBot \u6846\u67B6\u521D\u59CB\u5316\u5B8C\u6210\u540E\uFF0C\u6211\u4EEC\u5C31\u53EF\u4EE5\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"get_driver()"})," \u65B9\u6CD5\u83B7\u53D6\u5168\u5C40\u9A71\u52A8\u5668\u5B9E\u4F8B\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from nonebot import get_driver\n\ndriver = get_driver()\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u5185\u7F6E\u9A71\u52A8\u5668",children:"\u5185\u7F6E\u9A71\u52A8\u5668"}),"\n",(0,r.jsx)(n.h3,{id:"none",children:"None"}),"\n",(0,r.jsx)(n.p,{children:"**\u7C7B\u578B\uFF1A**\u670D\u52A1\u7AEF\u9A71\u52A8\u5668"}),"\n",(0,r.jsx)(n.p,{children:"NoneBot \u5185\u7F6E\u7684\u7A7A\u9A71\u52A8\u5668\uFF0C\u4E0D\u63D0\u4F9B\u4EFB\u4F55\u6536\u53D1\u6570\u636E\u529F\u80FD\uFF0C\u53EF\u4EE5\u5728\u4E0D\u9700\u8981\u5916\u90E8\u7F51\u7EDC\u8FDE\u63A5\u65F6\u4F7F\u7528\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:"DRIVER=~none\n"})}),"\n",(0,r.jsx)(n.h3,{id:"fastapi\u9ED8\u8BA4",children:"FastAPI\uFF08\u9ED8\u8BA4\uFF09"}),"\n",(0,r.jsx)(n.p,{children:"**\u7C7B\u578B\uFF1A**ASGI \u670D\u52A1\u7AEF\u9A71\u52A8\u5668"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"FastAPI is a modern, fast (high-performance), web framework for building APIs with Python 3.6+ based on standard Python type hints."}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://fastapi.tiangolo.com/",children:"FastAPI"})," \u662F\u4E00\u4E2A\u6613\u4E0A\u624B\u3001\u9AD8\u6027\u80FD\u7684\u5F02\u6B65 Web \u6846\u67B6\uFF0C\u5177\u6709\u6781\u4F73\u7684\u7F16\u5199\u4F53\u9A8C\u3002 FastAPI \u53EF\u4EE5\u901A\u8FC7\u7C7B\u578B\u6CE8\u89E3\u3001\u4F9D\u8D56\u6CE8\u5165\u7B49\u65B9\u5F0F\u5B9E\u73B0\u8F93\u5165\u53C2\u6570\u6821\u9A8C\u3001\u81EA\u52A8\u751F\u6210 API \u6587\u6863\u7B49\u529F\u80FD\uFF0C\u4E5F\u53EF\u4EE5\u6302\u8F7D\u5176\u4ED6 ASGI\u3001WSGI \u5E94\u7528\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:"DRIVER=~fastapi\n"})}),"\n",(0,r.jsx)(n.h4,{id:"fastapi-\u914D\u7F6E\u9879",children:"FastAPI \u914D\u7F6E\u9879"}),"\n",(0,r.jsx)(n.h5,{id:"fastapi_openapi_url",children:(0,r.jsx)(n.code,{children:"fastapi_openapi_url"})}),"\n",(0,r.jsxs)(n.p,{children:["\u7C7B\u578B\uFF1A",(0,r.jsx)(n.code,{children:"str | None"}),(0,r.jsx)(n.br,{}),"\n","\u9ED8\u8BA4\u503C\uFF1A",(0,r.jsx)(n.code,{children:"None"}),(0,r.jsx)(n.br,{}),"\n","\u8BF4\u660E\uFF1A",(0,r.jsx)(n.code,{children:"FastAPI"})," \u63D0\u4F9B\u7684 ",(0,r.jsx)(n.code,{children:"OpenAPI"})," JSON \u5B9A\u4E49\u5730\u5740\uFF0C\u5982\u679C\u4E3A ",(0,r.jsx)(n.code,{children:"None"}),"\uFF0C\u5219\u4E0D\u63D0\u4F9B ",(0,r.jsx)(n.code,{children:"OpenAPI"})," JSON \u5B9A\u4E49\u3002"]}),"\n",(0,r.jsx)(n.h5,{id:"fastapi_docs_url",children:(0,r.jsx)(n.code,{children:"fastapi_docs_url"})}),"\n",(0,r.jsxs)(n.p,{children:["\u7C7B\u578B\uFF1A",(0,r.jsx)(n.code,{children:"str | None"}),(0,r.jsx)(n.br,{}),"\n","\u9ED8\u8BA4\u503C\uFF1A",(0,r.jsx)(n.code,{children:"None"}),(0,r.jsx)(n.br,{}),"\n","\u8BF4\u660E\uFF1A",(0,r.jsx)(n.code,{children:"FastAPI"})," \u63D0\u4F9B\u7684 ",(0,r.jsx)(n.code,{children:"Swagger"})," \u6587\u6863\u5730\u5740\uFF0C\u5982\u679C\u4E3A ",(0,r.jsx)(n.code,{children:"None"}),"\uFF0C\u5219\u4E0D\u63D0\u4F9B ",(0,r.jsx)(n.code,{children:"Swagger"})," \u6587\u6863\u3002"]}),"\n",(0,r.jsx)(n.h5,{id:"fastapi_redoc_url",children:(0,r.jsx)(n.code,{children:"fastapi_redoc_url"})}),"\n",(0,r.jsxs)(n.p,{children:["\u7C7B\u578B\uFF1A",(0,r.jsx)(n.code,{children:"str | None"}),(0,r.jsx)(n.br,{}),"\n","\u9ED8\u8BA4\u503C\uFF1A",(0,r.jsx)(n.code,{children:"None"}),(0,r.jsx)(n.br,{}),"\n","\u8BF4\u660E\uFF1A",(0,r.jsx)(n.code,{children:"FastAPI"})," \u63D0\u4F9B\u7684 ",(0,r.jsx)(n.code,{children:"ReDoc"})," \u6587\u6863\u5730\u5740\uFF0C\u5982\u679C\u4E3A ",(0,r.jsx)(n.code,{children:"None"}),"\uFF0C\u5219\u4E0D\u63D0\u4F9B ",(0,r.jsx)(n.code,{children:"ReDoc"})," \u6587\u6863\u3002"]}),"\n",(0,r.jsx)(n.h5,{id:"fastapi_include_adapter_schema",children:(0,r.jsx)(n.code,{children:"fastapi_include_adapter_schema"})}),"\n",(0,r.jsxs)(n.p,{children:["\u7C7B\u578B\uFF1A",(0,r.jsx)(n.code,{children:"bool"}),(0,r.jsx)(n.br,{}),"\n","\u9ED8\u8BA4\u503C\uFF1A",(0,r.jsx)(n.code,{children:"True"}),(0,r.jsx)(n.br,{}),"\n","\u8BF4\u660E\uFF1A",(0,r.jsx)(n.code,{children:"FastAPI"})," \u63D0\u4F9B\u7684 ",(0,r.jsx)(n.code,{children:"OpenAPI"})," JSON \u5B9A\u4E49\u4E2D\u662F\u5426\u5305\u542B\u9002\u914D\u5668\u8DEF\u7531\u7684 ",(0,r.jsx)(n.code,{children:"Schema"}),"\u3002"]}),"\n",(0,r.jsx)(n.h5,{id:"fastapi_reload",children:(0,r.jsx)(n.code,{children:"fastapi_reload"})}),"\n",(0,r.jsxs)(n.admonition,{title:"\u8B66\u544A",type:"caution",children:[(0,r.jsxs)(n.p,{children:["\u4E0D\u63A8\u8350\u5F00\u542F\u8BE5\u914D\u7F6E\u9879\uFF0C\u5728 Windows \u5E73\u53F0\u4E0A\u5F00\u542F\u8BE5\u529F\u80FD\u6709\u53EF\u80FD\u4F1A\u9020\u6210\u9884\u6599\u4E4B\u5916\u7684\u5F71\u54CD\uFF01\u66FF\u4EE3\u65B9\u6848\uFF1A\u4F7F\u7528 ",(0,r.jsx)(n.code,{children:"nb-cli"})," \u547D\u4EE4\u884C\u5DE5\u5177\u4EE5\u53CA\u53C2\u6570 ",(0,r.jsx)(n.code,{children:"--reload"})," \u542F\u52A8 NoneBot\u3002"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"nb run --reload\n"})}),(0,r.jsxs)(n.p,{children:["\u5F00\u542F\u8BE5\u529F\u80FD\u540E\uFF0C\u5728 uvicorn \u8FD0\u884C\u65F6\uFF08FastAPI \u63D0\u4F9B\u7684 ASGI \u5E95\u5C42\uFF0C\u5373 reload \u529F\u80FD\u7684\u5B9E\u9645\u6765\u6E90\uFF09\uFF0Casyncio \u4F7F\u7528\u7684\u4E8B\u4EF6\u5FAA\u73AF\u4F1A\u88AB uvicorn \u4ECE\u9ED8\u8BA4\u7684 ",(0,r.jsx)(n.code,{children:"ProactorEventLoop"})," \u5F3A\u5236\u5207\u6362\u5230 ",(0,r.jsx)(n.code,{children:"SelectorEventLoop"}),"\u3002"]}),(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["\u76F8\u5173\u4FE1\u606F\u53C2\u8003 ",(0,r.jsx)(n.a,{href:"https://github.com/encode/uvicorn/issues/529",children:"uvicorn#529"}),"\uFF0C",(0,r.jsx)(n.a,{href:"https://github.com/encode/uvicorn/pull/1070",children:"uvicorn#1070"}),"\uFF0C",(0,r.jsx)(n.a,{href:"https://github.com/encode/uvicorn/pull/1257",children:"uvicorn#1257"})]}),"\n"]}),(0,r.jsxs)(n.p,{children:["\u540E\u8005\uFF08",(0,r.jsx)(n.code,{children:"SelectorEventLoop"}),"\uFF09\u5728 Windows \u5E73\u53F0\u7684\u53EF\u4F7F\u7528\u6027\u4E0D\u5982\u524D\u8005\uFF08",(0,r.jsx)(n.code,{children:"ProactorEventLoop"}),"\uFF09\uFF0C\u5305\u62EC\u4F46\u4E0D\u9650\u4E8E"]}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"\u4E0D\u652F\u6301\u521B\u5EFA\u5B50\u8FDB\u7A0B"}),"\n",(0,r.jsx)(n.li,{children:"\u6700\u591A\u53EA\u652F\u6301 512 \u4E2A\u5957\u63A5\u5B57"}),"\n",(0,r.jsx)(n.li,{children:"..."}),"\n"]}),(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["\u5177\u4F53\u4FE1\u606F\u53C2\u8003 ",(0,r.jsx)(n.a,{href:"https://docs.python.org/zh-cn/3/library/asyncio-platforms.html#windows",children:"Python \u6587\u6863"})]}),"\n"]}),(0,r.jsx)(n.p,{children:"\u6240\u4EE5\uFF0C\u4E00\u4E9B\u4F7F\u7528\u4E86 asyncio \u7684\u5E93\u56E0\u6B64\u53EF\u80FD\u65E0\u6CD5\u6B63\u5E38\u5DE5\u4F5C\uFF0C\u5982\uFF1A"}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://playwright.dev/python/docs/library#incompatible-with-selectoreventloop-of-asyncio-on-windows",children:"playwright"})}),"\n"]}),(0,r.jsxs)(n.p,{children:["\u5982\u679C\u5728\u5F00\u542F\u8BE5\u529F\u80FD\u540E\uFF0C\u539F\u672C",(0,r.jsx)(n.strong,{children:"\u6B63\u5E38\u8FD0\u884C"}),"\u7684\u4EE3\u7801\u62A5\u9519\uFF0C\u4E14\u6253\u5370\u7684\u5F02\u5E38\u5806\u6808\u4FE1\u606F\u548C asyncio \u6709\u5173\uFF08\u5F02\u5E38\u4E00\u822C\u4E3A ",(0,r.jsx)(n.code,{children:"NotImplementedError"}),"\uFF09\uFF0C\n\u4F60\u53EF\u80FD\u5C31\u9700\u8981\u8003\u8651\u76F8\u5173\u5E93\u5BF9\u4E8B\u4EF6\u5FAA\u73AF\u7684\u652F\u6301\uFF0C\u4EE5\u53CA\u662F\u5426\u542F\u7528\u8BE5\u529F\u80FD\u3002"]})]}),"\n",(0,r.jsxs)(n.p,{children:["\u7C7B\u578B\uFF1A",(0,r.jsx)(n.code,{children:"bool"}),(0,r.jsx)(n.br,{}),"\n","\u9ED8\u8BA4\u503C\uFF1A",(0,r.jsx)(n.code,{children:"False"}),(0,r.jsx)(n.br,{}),"\n","\u8BF4\u660E\uFF1A\u662F\u5426\u5F00\u542F ",(0,r.jsx)(n.code,{children:"uvicorn"})," \u7684 ",(0,r.jsx)(n.code,{children:"reload"})," \u529F\u80FD\uFF0C\u9700\u8981\u5728\u673A\u5668\u4EBA\u5165\u53E3\u6587\u4EF6\u63D0\u4F9B ASGI \u5E94\u7528\u8DEF\u5F84\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",metastring:"title=bot.py",children:'app = nonebot.get_asgi()\nnonebot.run(app="bot:app")\n'})}),"\n",(0,r.jsx)(n.h5,{id:"fastapi_reload_dirs",children:(0,r.jsx)(n.code,{children:"fastapi_reload_dirs"})}),"\n",(0,r.jsxs)(n.p,{children:["\u7C7B\u578B\uFF1A",(0,r.jsx)(n.code,{children:"List[str] | None"}),(0,r.jsx)(n.br,{}),"\n","\u9ED8\u8BA4\u503C\uFF1A",(0,r.jsx)(n.code,{children:"None"}),(0,r.jsx)(n.br,{}),"\n","\u8BF4\u660E\uFF1A\u91CD\u8F7D\u76D1\u63A7\u6587\u4EF6\u5939\u5217\u8868\uFF0C\u9ED8\u8BA4\u4E3A uvicorn \u9ED8\u8BA4\u503C"]}),"\n",(0,r.jsx)(n.h5,{id:"fastapi_reload_delay",children:(0,r.jsx)(n.code,{children:"fastapi_reload_delay"})}),"\n",(0,r.jsxs)(n.p,{children:["\u7C7B\u578B\uFF1A",(0,r.jsx)(n.code,{children:"float | None"}),(0,r.jsx)(n.br,{}),"\n","\u9ED8\u8BA4\u503C\uFF1A",(0,r.jsx)(n.code,{children:"None"}),(0,r.jsx)(n.br,{}),"\n","\u8BF4\u660E\uFF1A\u91CD\u8F7D\u5EF6\u8FDF\uFF0C\u9ED8\u8BA4\u4E3A uvicorn \u9ED8\u8BA4\u503C"]}),"\n",(0,r.jsx)(n.h5,{id:"fastapi_reload_includes",children:(0,r.jsx)(n.code,{children:"fastapi_reload_includes"})}),"\n",(0,r.jsxs)(n.p,{children:["\u7C7B\u578B\uFF1A",(0,r.jsx)(n.code,{children:"List[str] | None"}),(0,r.jsx)(n.br,{}),"\n","\u9ED8\u8BA4\u503C\uFF1A",(0,r.jsx)(n.code,{children:"None"}),(0,r.jsx)(n.br,{}),"\n","\u8BF4\u660E\uFF1A\u8981\u76D1\u542C\u7684\u6587\u4EF6\u5217\u8868\uFF0C\u652F\u6301 glob pattern\uFF0C\u9ED8\u8BA4\u4E3A uvicorn \u9ED8\u8BA4\u503C"]}),"\n",(0,r.jsx)(n.h5,{id:"fastapi_reload_excludes",children:(0,r.jsx)(n.code,{children:"fastapi_reload_excludes"})}),"\n",(0,r.jsxs)(n.p,{children:["\u7C7B\u578B\uFF1A",(0,r.jsx)(n.code,{children:"List[str] | None"}),(0,r.jsx)(n.br,{}),"\n","\u9ED8\u8BA4\u503C\uFF1A",(0,r.jsx)(n.code,{children:"None"}),(0,r.jsx)(n.br,{}),"\n","\u8BF4\u660E\uFF1A\u4E0D\u8981\u76D1\u542C\u7684\u6587\u4EF6\u5217\u8868\uFF0C\u652F\u6301 glob pattern\uFF0C\u9ED8\u8BA4\u4E3A uvicorn \u9ED8\u8BA4\u503C"]}),"\n",(0,r.jsx)(n.h5,{id:"fastapi_extra",children:(0,r.jsx)(n.code,{children:"fastapi_extra"})}),"\n",(0,r.jsxs)(n.p,{children:["\u7C7B\u578B\uFF1A",(0,r.jsx)(n.code,{children:"Dist[str, Any]"}),(0,r.jsx)(n.br,{}),"\n","\u9ED8\u8BA4\u503C\uFF1A",(0,r.jsx)(n.code,{children:"{}"}),(0,r.jsx)(n.br,{}),"\n","\u8BF4\u660E\uFF1A\u4F20\u9012\u7ED9 ",(0,r.jsx)(n.code,{children:"FastAPI"})," \u7684\u5176\u4ED6\u53C2\u6570"]}),"\n",(0,r.jsx)(n.h3,{id:"quart",children:"Quart"}),"\n",(0,r.jsx)(n.p,{children:"**\u7C7B\u578B\uFF1A**ASGI \u670D\u52A1\u7AEF\u9A71\u52A8\u5668"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Quart is an asyncio reimplementation of the popular Flask microframework API."}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://quart.palletsprojects.com/",children:"Quart"})," \u662F\u4E00\u4E2A\u7C7B Flask \u7684\u5F02\u6B65\u7248\u672C\uFF0C\u62E5\u6709\u4E0E Flask \u975E\u5E38\u76F8\u4F3C\u7684\u63A5\u53E3\u548C\u4F7F\u7528\u65B9\u6CD5\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:"DRIVER=~quart\n"})}),"\n",(0,r.jsx)(n.h4,{id:"quart-\u914D\u7F6E\u9879",children:"Quart \u914D\u7F6E\u9879"}),"\n",(0,r.jsx)(n.h5,{id:"quart_reload",children:(0,r.jsx)(n.code,{children:"quart_reload"})}),"\n",(0,r.jsxs)(n.admonition,{title:"\u8B66\u544A",type:"caution",children:[(0,r.jsxs)(n.p,{children:["\u4E0D\u63A8\u8350\u5F00\u542F\u8BE5\u914D\u7F6E\u9879\uFF0C\u5728 Windows \u5E73\u53F0\u4E0A\u5F00\u542F\u8BE5\u529F\u80FD\u6709\u53EF\u80FD\u4F1A\u9020\u6210\u9884\u6599\u4E4B\u5916\u7684\u5F71\u54CD\uFF01\u66FF\u4EE3\u65B9\u6848\uFF1A\u4F7F\u7528 ",(0,r.jsx)(n.code,{children:"nb-cli"})," \u547D\u4EE4\u884C\u5DE5\u5177\u4EE5\u53CA\u53C2\u6570 ",(0,r.jsx)(n.code,{children:"--reload"})," \u542F\u52A8 NoneBot\u3002"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"nb run --reload\n"})})]}),"\n",(0,r.jsxs)(n.p,{children:["\u7C7B\u578B\uFF1A",(0,r.jsx)(n.code,{children:"bool"}),(0,r.jsx)(n.br,{}),"\n","\u9ED8\u8BA4\u503C\uFF1A",(0,r.jsx)(n.code,{children:"False"}),(0,r.jsx)(n.br,{}),"\n","\u8BF4\u660E\uFF1A\u662F\u5426\u5F00\u542F ",(0,r.jsx)(n.code,{children:"uvicorn"})," \u7684 ",(0,r.jsx)(n.code,{children:"reload"})," \u529F\u80FD\uFF0C\u9700\u8981\u5728\u673A\u5668\u4EBA\u5165\u53E3\u6587\u4EF6\u63D0\u4F9B ASGI \u5E94\u7528\u8DEF\u5F84\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",metastring:"title=bot.py",children:'app = nonebot.get_asgi()\nnonebot.run(app="bot:app")\n'})}),"\n",(0,r.jsx)(n.h5,{id:"quart_reload_dirs",children:(0,r.jsx)(n.code,{children:"quart_reload_dirs"})}),"\n",(0,r.jsxs)(n.p,{children:["\u7C7B\u578B\uFF1A",(0,r.jsx)(n.code,{children:"List[str] | None"}),(0,r.jsx)(n.br,{}),"\n","\u9ED8\u8BA4\u503C\uFF1A",(0,r.jsx)(n.code,{children:"None"}),(0,r.jsx)(n.br,{}),"\n","\u8BF4\u660E\uFF1A\u91CD\u8F7D\u76D1\u63A7\u6587\u4EF6\u5939\u5217\u8868\uFF0C\u9ED8\u8BA4\u4E3A uvicorn \u9ED8\u8BA4\u503C"]}),"\n",(0,r.jsx)(n.h5,{id:"quart_reload_delay",children:(0,r.jsx)(n.code,{children:"quart_reload_delay"})}),"\n",(0,r.jsxs)(n.p,{children:["\u7C7B\u578B\uFF1A",(0,r.jsx)(n.code,{children:"float | None"}),(0,r.jsx)(n.br,{}),"\n","\u9ED8\u8BA4\u503C\uFF1A",(0,r.jsx)(n.code,{children:"None"}),(0,r.jsx)(n.br,{}),"\n","\u8BF4\u660E\uFF1A\u91CD\u8F7D\u5EF6\u8FDF\uFF0C\u9ED8\u8BA4\u4E3A uvicorn \u9ED8\u8BA4\u503C"]}),"\n",(0,r.jsx)(n.h5,{id:"quart_reload_includes",children:(0,r.jsx)(n.code,{children:"quart_reload_includes"})}),"\n",(0,r.jsxs)(n.p,{children:["\u7C7B\u578B\uFF1A",(0,r.jsx)(n.code,{children:"List[str] | None"}),(0,r.jsx)(n.br,{}),"\n","\u9ED8\u8BA4\u503C\uFF1A",(0,r.jsx)(n.code,{children:"None"}),(0,r.jsx)(n.br,{}),"\n","\u8BF4\u660E\uFF1A\u8981\u76D1\u542C\u7684\u6587\u4EF6\u5217\u8868\uFF0C\u652F\u6301 glob pattern\uFF0C\u9ED8\u8BA4\u4E3A uvicorn \u9ED8\u8BA4\u503C"]}),"\n",(0,r.jsx)(n.h5,{id:"quart_reload_excludes",children:(0,r.jsx)(n.code,{children:"quart_reload_excludes"})}),"\n",(0,r.jsxs)(n.p,{children:["\u7C7B\u578B\uFF1A",(0,r.jsx)(n.code,{children:"List[str] | None"}),(0,r.jsx)(n.br,{}),"\n","\u9ED8\u8BA4\u503C\uFF1A",(0,r.jsx)(n.code,{children:"None"}),(0,r.jsx)(n.br,{}),"\n","\u8BF4\u660E\uFF1A\u4E0D\u8981\u76D1\u542C\u7684\u6587\u4EF6\u5217\u8868\uFF0C\u652F\u6301 glob pattern\uFF0C\u9ED8\u8BA4\u4E3A uvicorn \u9ED8\u8BA4\u503C"]}),"\n",(0,r.jsx)(n.h5,{id:"quart_extra",children:(0,r.jsx)(n.code,{children:"quart_extra"})}),"\n",(0,r.jsxs)(n.p,{children:["\u7C7B\u578B\uFF1A",(0,r.jsx)(n.code,{children:"Dist[str, Any]"}),(0,r.jsx)(n.br,{}),"\n","\u9ED8\u8BA4\u503C\uFF1A",(0,r.jsx)(n.code,{children:"{}"}),(0,r.jsx)(n.br,{}),"\n","\u8BF4\u660E\uFF1A\u4F20\u9012\u7ED9 ",(0,r.jsx)(n.code,{children:"Quart"})," \u7684\u5176\u4ED6\u53C2\u6570"]}),"\n",(0,r.jsx)(n.h3,{id:"httpx",children:"HTTPX"}),"\n",(0,r.jsx)(n.p,{children:"**\u7C7B\u578B\uFF1A**HTTP \u5BA2\u6237\u7AEF\u9A71\u52A8\u5668"}),"\n",(0,r.jsx)(n.admonition,{title:"\u6CE8\u610F",type:"caution",children:(0,r.jsx)(n.p,{children:"\u672C\u9A71\u52A8\u5668\u4EC5\u652F\u6301 HTTP \u8BF7\u6C42\uFF0C\u4E0D\u652F\u6301 WebSocket \u8FDE\u63A5\u8BF7\u6C42\u3002"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://www.python-httpx.org/",children:"HTTPX"})," is a fully featured HTTP client for Python 3, which provides sync and async APIs, and support for both HTTP/1.1 and HTTP/2."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:"DRIVER=~httpx\n"})}),"\n",(0,r.jsx)(n.h3,{id:"websockets",children:"websockets"}),"\n",(0,r.jsx)(n.p,{children:"**\u7C7B\u578B\uFF1A**WebSocket \u5BA2\u6237\u7AEF\u9A71\u52A8\u5668"}),"\n",(0,r.jsx)(n.admonition,{title:"\u6CE8\u610F",type:"caution",children:(0,r.jsx)(n.p,{children:"\u672C\u9A71\u52A8\u5668\u4EC5\u652F\u6301 WebSocket \u8FDE\u63A5\u8BF7\u6C42\uFF0C\u4E0D\u652F\u6301 HTTP \u8BF7\u6C42\u3002"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://websockets.readthedocs.io/",children:"websockets"})," is a library for building WebSocket servers and clients in Python with a focus on correctness, simplicity, robustness, and performance."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:"DRIVER=~websockets\n"})}),"\n",(0,r.jsx)(n.h3,{id:"aiohttp",children:"AIOHTTP"}),"\n",(0,r.jsx)(n.p,{children:"**\u7C7B\u578B\uFF1A**HTTP/WebSocket \u5BA2\u6237\u7AEF\u9A71\u52A8\u5668"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://docs.aiohttp.org/",children:"AIOHTTP"}),": Asynchronous HTTP Client/Server for asyncio and Python."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:"DRIVER=~aiohttp\n"})})]})}function h(e={}){let{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},80980:function(e,n,d){d.d(n,{Z:function(){return l},a:function(){return c}});var s=d(27378);let r={},i=s.createContext(r);function c(e){let n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);