"use strict";(self.webpackChunknonebot=self.webpackChunknonebot||[]).push([["7258"],{25107:function(e,n,s){s.r(n),s.d(n,{default:()=>m,frontMatter:()=>o,metadata:()=>t,assets:()=>l,toc:()=>d,contentTitle:()=>c});var t=JSON.parse('{"id":"tutorial/event-data","title":"\u83B7\u53D6\u4E8B\u4EF6\u4FE1\u606F","description":"\u901A\u8FC7\u4F9D\u8D56\u6CE8\u5165\u83B7\u53D6\u6240\u9700\u4E8B\u4EF6\u4FE1\u606F","source":"@site/docs/tutorial/event-data.mdx","sourceDirName":"tutorial","slug":"/tutorial/event-data","permalink":"/website/docs/next/tutorial/event-data","draft":false,"unlisted":false,"editUrl":"https://github.com/nonebot/nonebot2/edit/master/website/docs/tutorial/event-data.mdx","tags":[],"version":"current","lastUpdatedBy":"noneflow[bot]","lastUpdatedAt":1754561629000,"sidebarPosition":6,"frontMatter":{"sidebar_position":6,"description":"\u901A\u8FC7\u4F9D\u8D56\u6CE8\u5165\u83B7\u53D6\u6240\u9700\u4E8B\u4EF6\u4FE1\u606F","options":{"menu":[{"category":"tutorial","weight":80}]}},"sidebar":"tutorial","previous":{"title":"\u4E8B\u4EF6\u5904\u7406","permalink":"/website/docs/next/tutorial/handler"},"next":{"title":"\u5904\u7406\u6D88\u606F","permalink":"/website/docs/next/tutorial/message"}}'),i=s("24246"),r=s("80980"),a=s("70203");let o={sidebar_position:6,description:"\u901A\u8FC7\u4F9D\u8D56\u6CE8\u5165\u83B7\u53D6\u6240\u9700\u4E8B\u4EF6\u4FE1\u606F",options:{menu:[{category:"tutorial",weight:80}]}},c="\u83B7\u53D6\u4E8B\u4EF6\u4FE1\u606F",l={},d=[{value:"\u8BA4\u8BC6\u4F9D\u8D56\u6CE8\u5165",id:"\u8BA4\u8BC6\u4F9D\u8D56\u6CE8\u5165",level:2},{value:"\u4F7F\u7528\u4F9D\u8D56\u6CE8\u5165",id:"\u4F7F\u7528\u4F9D\u8D56\u6CE8\u5165",level:2}];function h(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"\u83B7\u53D6\u4E8B\u4EF6\u4FE1\u606F",children:"\u83B7\u53D6\u4E8B\u4EF6\u4FE1\u606F"})}),"\n","\n",(0,i.jsxs)(n.p,{children:["\u5728 NoneBot \u4E8B\u4EF6\u5904\u7406\u6D41\u7A0B\u4E2D\uFF0C\u83B7\u53D6\u4E8B\u4EF6\u4FE1\u606F\u5E76\u505A\u51FA\u5BF9\u5E94\u7684\u64CD\u4F5C\u662F\u975E\u5E38\u5E38\u89C1\u7684\u573A\u666F\u3002\u672C\u7AE0\u8282\u4E2D\u6211\u4EEC\u5C06\u4ECB\u7ECD\u5982\u4F55\u901A\u8FC7",(0,i.jsx)(n.strong,{children:"\u4F9D\u8D56\u6CE8\u5165"}),"\u83B7\u53D6\u4E8B\u4EF6\u4FE1\u606F\u3002"]}),"\n",(0,i.jsx)(n.h2,{id:"\u8BA4\u8BC6\u4F9D\u8D56\u6CE8\u5165",children:"\u8BA4\u8BC6\u4F9D\u8D56\u6CE8\u5165"}),"\n",(0,i.jsx)(n.p,{children:"\u5728\u4E8B\u4EF6\u5904\u7406\u6D41\u7A0B\u4E2D\uFF0C\u4E8B\u4EF6\u54CD\u5E94\u5668\u5177\u6709\u81EA\u5DF1\u72EC\u7ACB\u7684\u4E0A\u4E0B\u6587\uFF0C\u4F8B\u5982\uFF1A\u5F53\u524D\u54CD\u5E94\u7684\u4E8B\u4EF6\u3001\u6536\u5230\u4E8B\u4EF6\u7684\u673A\u5668\u4EBA\u6216\u8005\u5176\u4ED6\u5904\u7406\u6D41\u7A0B\u4E2D\u65B0\u589E\u7684\u4FE1\u606F\u7B49\u3002\u8FD9\u4E9B\u6570\u636E\u53EF\u4EE5\u6839\u636E\u6211\u4EEC\u7684\u9700\u6C42\uFF0C\u901A\u8FC7\u4F9D\u8D56\u6CE8\u5165\u7684\u65B9\u5F0F\uFF0C\u5728\u6267\u884C\u4E8B\u4EF6\u5904\u7406\u6D41\u7A0B\u4E2D\u6CE8\u5165\u5230\u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u4E2D\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u76F8\u5BF9\u4E8E\u4F20\u7EDF\u7684\u4FE1\u606F\u83B7\u53D6\u65B9\u6CD5\uFF0C\u901A\u8FC7\u4F9D\u8D56\u6CE8\u5165\u83B7\u53D6\u4FE1\u606F\u7684\u6700\u5927\u7279\u8272\u5728\u4E8E",(0,i.jsx)(n.strong,{children:"\u6309\u9700\u83B7\u53D6"}),"\u3002\u5982\u679C\u8BE5\u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u4E0D\u9700\u8981\u4EFB\u4F55\u989D\u5916\u4FE1\u606F\u5373\u53EF\u8FD0\u884C\uFF0C\u90A3\u4E48\u53EF\u4EE5\u4E0D\u8FDB\u884C\u4F9D\u8D56\u6CE8\u5165\u3002\u5982\u679C\u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u9700\u8981\u989D\u5916\u7684\u6570\u636E\uFF0C\u53EF\u4EE5\u901A\u8FC7\u4F9D\u8D56\u6CE8\u5165\u7684\u65B9\u5F0F\u7075\u6D3B\u7684\u6807\u6CE8\u51FA\u9700\u8981\u7684\u4F9D\u8D56\uFF0C\u5728\u51FD\u6570\u8FD0\u884C\u65F6\u4FBF\u4F1A\u88AB\u6309\u9700\u6CE8\u5165\u3002"]}),"\n",(0,i.jsx)(n.h2,{id:"\u4F7F\u7528\u4F9D\u8D56\u6CE8\u5165",children:"\u4F7F\u7528\u4F9D\u8D56\u6CE8\u5165"}),"\n",(0,i.jsxs)(n.p,{children:["\u4F7F\u7528\u4F9D\u8D56\u6CE8\u5165\u83B7\u53D6\u4E0A\u4E0B\u6587\u4FE1\u606F\u7684\u65B9\u6CD5\u5341\u5206\u7B80\u5355\uFF0C\u6211\u4EEC\u4EC5\u9700\u8981\u5728\u51FD\u6570\u7684\u53C2\u6570\u4E2D\u58F0\u660E\u6240\u9700\u7684\u4F9D\u8D56\uFF0C\u5E76\u6B63\u786E\u7684\u5C06\u51FD\u6570\u6DFB\u52A0\u4E3A\u4E8B\u4EF6\u5904\u7406\u4F9D\u8D56\u5373\u53EF\u3002\u5728 NoneBot \u4E2D\uFF0C\u6211\u4EEC\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528 ",(0,i.jsx)(n.code,{children:"nonebot.params"})," \u6A21\u5757\u4E2D\u5B9A\u4E49\u7684\u53C2\u6570\u7C7B\u578B\u6765\u58F0\u660E\u4F9D\u8D56\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u4F8B\u5982\uFF0C\u6211\u4EEC\u53EF\u4EE5\u7EE7\u7EED\u6539\u8FDB\u4E0A\u4E00\u7AE0\u8282\u4E2D\u7684 ",(0,i.jsx)(n.code,{children:"weather"})," \u63D2\u4EF6\uFF0C\u4F7F\u5176\u53EF\u4EE5\u83B7\u53D6\u5230 ",(0,i.jsx)(n.code,{children:"\u5929\u6C14"})," \u547D\u4EE4\u7684\u5730\u540D\u53C2\u6570\uFF0C\u5E76\u6839\u636E\u5730\u540D\u8FD4\u56DE\u5929\u6C14\u4FE1\u606F\u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:"{9,11} title=weather/__init__.py",children:'from nonebot import on_command\nfrom nonebot.rule import to_me\nfrom nonebot.adapters import Message\nfrom nonebot.params import CommandArg\n\nweather = on_command("\u5929\u6C14", rule=to_me(), aliases={"weather", "\u67E5\u5929\u6C14"}, priority=10, block=True)\n\n@weather.handle()\nasync def handle_function(args: Message = CommandArg()):\n    # \u63D0\u53D6\u53C2\u6570\u7EAF\u6587\u672C\u4F5C\u4E3A\u5730\u540D\uFF0C\u5E76\u5224\u65AD\u662F\u5426\u6709\u6548\n    if location := args.extract_plain_text():\n        await weather.finish(f"\u4ECA\u5929{location}\u7684\u5929\u6C14\u662F...")\n    else:\n        await weather.finish("\u8BF7\u8F93\u5165\u5730\u540D")\n'})}),"\n",(0,i.jsxs)(n.p,{children:["\u5982\u4E0A\u65B9\u793A\u4F8B\u6240\u793A\uFF0C\u6211\u4EEC\u4F7F\u7528\u4E86 ",(0,i.jsx)(n.code,{children:"args"})," \u4F5C\u4E3A\u6CE8\u5165\u53C2\u6570\u540D\uFF0C\u6CE8\u5165\u7684\u5185\u5BB9\u4E3A ",(0,i.jsx)(n.code,{children:"CommandArg()"}),"\uFF0C\u4E5F\u5C31\u662F",(0,i.jsx)(n.strong,{children:"\u6D88\u606F\u547D\u4EE4\u540E\u8DDF\u968F\u7684\u5185\u5BB9"}),"\u3002\u5728\u8FD9\u4E2A\u793A\u4F8B\u4E2D\uFF0C\u6211\u4EEC\u83B7\u5F97\u7684\u53C2\u6570\u4F1A\u88AB\u68C0\u67E5\u662F\u5426\u6709\u6548\uFF0C\u5BF9\u65E0\u6548\u53C2\u6570\u5219\u4F1A\u7ED3\u675F\u4E8B\u4EF6\u3002"]}),"\n",(0,i.jsx)(n.admonition,{title:"\u63D0\u793A",type:"tip",children:(0,i.jsxs)(n.p,{children:["\u547D\u4EE4\u4E0E\u53C2\u6570\u4E4B\u95F4\u53EF\u4EE5\u4E0D\u9700\u8981\u7A7A\u683C\uFF0C",(0,i.jsx)(n.code,{children:"CommandArg()"})," \u83B7\u53D6\u7684\u4FE1\u606F\u4E3A\u547D\u4EE4\u540E\u8DDF\u968F\u7684\u5185\u5BB9\u5E76\u53BB\u9664\u4E86\u5934\u90E8\u7A7A\u767D\u7B26\u3002\u4F8B\u5982\uFF1A",(0,i.jsx)(n.code,{children:"/\u5929\u6C14 \u4E0A\u6D77"})," \u6D88\u606F\u7684\u53C2\u6570\u4E3A ",(0,i.jsx)(n.code,{children:"\u4E0A\u6D77"}),"\u3002"]})}),"\n",(0,i.jsx)(n.admonition,{title:"\u63D0\u793A",type:"tip",children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:":="})," \u662F Python 3.8 \u5F15\u5165\u7684\u65B0\u8BED\u6CD5 ",(0,i.jsx)(n.a,{href:"https://docs.python.org/zh-cn/3/reference/expressions.html#assignment-expressions",children:"Assignment Expressions"}),"\uFF0C\u4E5F\u79F0\u4E3A\u6D77\u8C61\u8868\u8FBE\u5F0F\uFF0C\u53EF\u4EE5\u5728\u8868\u8FBE\u5F0F\u4E2D\u76F4\u63A5\u8D4B\u503C\u3002"]})}),"\n",(0,i.jsx)(a.Z,{msgs:[{position:"right",msg:"/\u5929\u6C14"},{position:"left",msg:"\u8BF7\u8F93\u5165\u5730\u540D"},{position:"right",msg:"/\u5929\u6C14 \u4E0A\u6D77"},{position:"left",msg:"\u4ECA\u5929\u4E0A\u6D77\u7684\u5929\u6C14\u662F..."}]}),"\n",(0,i.jsxs)(n.p,{children:["NoneBot \u63D0\u4F9B\u4E86\u591A\u79CD\u4F9D\u8D56\u6CE8\u5165\u7C7B\u578B\uFF0C\u53EF\u4EE5\u83B7\u53D6\u4E0D\u540C\u7684\u4FE1\u606F\uFF0C\u5177\u4F53\u5185\u5BB9\u53EF\u53C2\u8003",(0,i.jsx)(n.a,{href:"/website/docs/next/advanced/dependency",children:"\u4F9D\u8D56\u6CE8\u5165"}),"\u3002"]})]})}function m(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},70203:function(e,n,s){s.d(n,{Z:function(){return h}});var t=s(24246),i=s(27378),r=s(90496),a=s(70486),o=s(92739),c=s(85870),l=s(32896);function d(e){let{msg:n,position:s="left",monospace:i=!1}=e,{navbar:{logo:d}}=(0,c.Th)(),h={light:(0,a.ZP)(d.src),dark:(0,a.ZP)(d.srcDark||d.src)},m="right"===s;return(0,t.jsxs)("div",{className:(0,r.Z)("chat",m?"chat-end":"chat-start"),children:[(0,t.jsx)("div",{className:"chat-image avatar",children:(0,t.jsx)("div",{className:(0,r.Z)("messenger-chat-avatar",m&&"messenger-chat-avatar-user"),children:m?(0,t.jsx)(o.G,{icon:["fas","user"]}):(0,t.jsx)(l.Z,{sources:h})})}),(0,t.jsx)("div",{className:(0,r.Z)("chat-bubble messenger-chat-bubble",i&&"font-mono"),dangerouslySetInnerHTML:{__html:n.replace(/\n/g,"<br/>").replace(/ /g,"&nbsp;")}})]})}function h(e){let{msgs:n=[]}=e;return(0,t.jsxs)("div",{className:"messenger-container",children:[(0,t.jsxs)("header",{className:"messenger-title",children:[(0,t.jsx)("div",{className:"messenger-title-back",children:(0,t.jsx)(o.G,{icon:["fas","chevron-left"]})}),(0,t.jsx)("div",{className:"messenger-title-name",children:(0,t.jsx)("span",{children:"NoneBot"})}),(0,t.jsx)("div",{className:"messenger-title-more",children:(0,t.jsx)(o.G,{icon:["fas","bars"]})})]}),(0,t.jsx)("div",{className:"messenger-chat",children:n.map((e,n)=>(0,i.createElement)(d,{...e,key:n}))}),(0,t.jsxs)("div",{className:"messenger-footer",children:[(0,t.jsxs)("div",{className:"messenger-footer-action",children:[(0,t.jsx)("div",{className:"messenger-footer-action-input",children:(0,t.jsx)("input",{className:"input input-xs input-bordered input-info w-full",readOnly:!0})}),(0,t.jsx)("div",{className:"messenger-footer-action-send",children:(0,t.jsx)("button",{className:"btn btn-xs btn-info no-animation text-white",children:"\u53D1\u9001"})})]}),(0,t.jsxs)("div",{className:"messenger-footer-tools",children:[(0,t.jsx)("div",{children:(0,t.jsx)(o.G,{icon:["fas","microphone"]})}),(0,t.jsx)("div",{children:(0,t.jsx)(o.G,{icon:["fas","image"]})}),(0,t.jsx)("div",{children:(0,t.jsx)(o.G,{icon:["fas","camera"]})}),(0,t.jsx)("div",{children:(0,t.jsx)(o.G,{icon:["fas","wallet"]})}),(0,t.jsx)("div",{children:(0,t.jsx)(o.G,{icon:["fas","smile-wink"]})}),(0,t.jsx)("div",{children:(0,t.jsx)(o.G,{icon:["fas","plus-circle"]})})]})]})]})}},80980:function(e,n,s){s.d(n,{Z:function(){return o},a:function(){return a}});var t=s(27378);let i={},r=t.createContext(i);function a(e){let n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);