#!/bin/bash

# Ensure script is run from the root directory
if [ ! -f "app/planqtn_jobs/Dockerfile" ]; then
    echo "Error: This script must be run from the root directory of the repository"
    echo "Current directory: $(pwd)"
    echo "Expected to find: app/planqtn_jobs/Dockerfile"
    exit 1
fi

export PYTHONPATH=`pwd`:`pwd`/app

set -e
black --check app/planqtn_types
black --check app/planqtn_jobs 

pytest app/planqtn_jobs