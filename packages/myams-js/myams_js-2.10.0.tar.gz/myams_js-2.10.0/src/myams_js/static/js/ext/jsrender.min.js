!function(e,t){if("function"==typeof define&&define.amd)define([],t);else if("undefined"!=typeof exports)t();else{t(),e.jsrender={}}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,(function(){"use strict";
/*! JsRender v1.0.16: http://jsviews.com/#jsrender */
/*! **VERSION FOR WEB** (For NODE.JS see http://jsviews.com/download/jsrender-node.js) */var e,t,n;e=function(e,t){var n=!1===t;t=t&&t.fn?t:e.jQuery;var r,i,o,a,s,l,p,d,c,u,f,g,h,v,m,_,b,x,w,y,C="v1.0.16",k="_ocp",j=function(e){return"function"==typeof e},T=Array.isArray,A=/[ \t]*(\r\n|\n|\r)/g,P=/\\(['"\\])/g,N=/['"\\]/g,R=/(?:\x08|^)(onerror:)?(?:(~?)(([\w$.]+):)?([^\x08]+))\x08(,)?([^\x08]+)/gi,F=/^if\s/,M=/<(\w+)[>\s]/,$=/[\x00`><\"'&=]/,V=/^on[A-Z]|^convert(Back)?$/,E=/^\#\d+_`[\s\S]*\/\d+_`$/,O=/[\x00`><"'&=]/g,I=/[&<>]/g,S=/&(amp|gt|lt);/g,D=/\[['"]?|['"]?\]/g,q=0,J={"&":"&amp;","<":"&lt;",">":"&gt;","\0":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;","=":"&#61;"},U={amp:"&",gt:">",lt:"<"},K="html",B="string",L="object",Q="data-jsv-tmpl",H="jsvTmpl",W="For #index in nested block use #getIndex().",Z={},z={},G=e.jsrender,X=G&&t&&!t.render,Y={template:{compile:function e(n,r,i,o){function s(r){var a,s;if(typeof r===B||r.nodeType>0&&(d=r)){if(!d&&(/^\.?\/[^\\:*?"<>]*$/.test(r)?(s=l[n=n||r])?r=s:d=document.getElementById(r):"#"===r.charAt(0)&&(d=document.getElementById(r.slice(1))),!d&&t.fn&&!u.rTmpl.test(r)))try{d=t(r,document)[0]}catch(e){}d&&("SCRIPT"!==d.tagName&&Ce(r+": Use script block, not "+d.tagName),o?r=d.innerHTML:((a=d.getAttribute(Q))&&(a!==H?(r=l[a],delete l[a]):t.fn&&(r=t.data(d)[H])),a&&r||(n=n||(t.fn?H:r),r=e(n,d.innerHTML,i,o)),r.tmplName=n=n||a,n!==H&&(l[n]=r),d.setAttribute(Q,n),t.fn&&t.data(d,H,r))),d=void 0}else r.fn||(r=void 0);return r}var d,c,f=r=r||"";if(u._html=p.html,0===o&&(o=void 0,f=s(f)),(o=o||(r.markup?r.bnds?ae({},r):r:{})).tmplName=o.tmplName||n||"unnamed",i&&(o._parentTmpl=i),!f&&r.markup&&(f=s(r.markup))&&f.fn&&(f=f.markup),void 0!==f)return f.render||r.render?f.tmpls&&(c=f):(r=me(f,o),je(f.replace(N,"\\$&"),r)),c||(c=ae((function(){return c.render.apply(c,arguments)}),r),function(e){var t,n,r;for(t in Y)e[n=t+"s"]&&(r=e[n],e[n]={},a[n](r,e))}(c)),c}},tag:{compile:function(e,t,n){var r,i,o,a=new u._tg;function s(){var t=this;t._={unlinked:!0},t.inline=!0,t.tagName=e}if(j(t)?t={depends:t.depends,render:t}:typeof t===B&&(t={template:t}),i=t.baseTag)for(o in t.flow=!!t.flow,(i=typeof i===B?n&&n.tags[i]||c[i]:i)||Ce('baseTag: "'+t.baseTag+'" not found'),a=ae(a,i),t)a[o]=te(i[o],t[o]);else a=ae(a,t);return void 0!==(r=a.template)&&(a.template=typeof r===B?l[r]||l(r):r),(s.prototype=a).constructor=a._ctr=s,n&&(a._parentTmpl=n),a}},viewModel:{compile:function(e,n){var r,i,o,a=this,l=n.getters,p=n.extend,d=n.id,c=t.extend({_is:e||"unnamed",unmap:w,merge:x},p),u="",f="",g=l?l.length:0,h=t.observable,v={};function m(e){i.apply(this,e)}function _(){return new m(arguments)}function b(e,t){for(var n,r,i,o,s,p=0;p<g;p++)n=void 0,typeof(i=l[p])!==B&&(i=(n=i).getter,s=n.parentRef),void 0===(o=e[i])&&n&&void 0!==(r=n.defaultVal)&&(o=he(r,e)),t(o,n&&a[n.type],i,s)}function x(e,t,n){e=typeof e===B?JSON.parse(e):e;var r,i,o,a,l,p,c,u,f,g,m=0,x=this;if(T(x)){for(c={},f=[],i=e.length,o=x.length;m<i;m++){for(u=e[m],p=!1,r=0;r<o&&!p;r++)c[r]||(l=x[r],d&&(c[r]=p=typeof d===B?u[d]&&(v[d]?l[d]():l[d])===u[d]:d(l,u)));p?(l.merge(u),f.push(l)):(f.push(g=_.map(u)),n&&ve(g,n,t))}h?h(x).refresh(f,!0):x.splice.apply(x,[0,x.length].concat(f))}else for(a in b(e,(function(e,t,n,r){t?x[n]().merge(e,x,r):x[n]()!==e&&(typeof e===B&&("{"===e[0]&&"}"===e[e.length-1]||"["===e[0]&&"]"===e[e.length-1])&&(e=JSON.parse(e)),x[n](e))})),e)a===s||v[a]||(x[a]=e[a])}function w(){var e,t,n,r,i=0,o=this;function p(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n].unmap());return t}if(T(o))return p(o);for(e={};i<g;i++)n=void 0,typeof(t=l[i])!==B&&(t=(n=t).getter),r=o[t](),e[t]=n&&r&&a[n.type]?T(r)?p(r):r.unmap():r;for(t in o)!o.hasOwnProperty(t)||"_"===t.charAt(0)&&v[t.slice(1)]||t===s||j(o[t])||(e[t]=o[t]);return e}for(m.prototype=c,r=0;r<g;r++)!function(e){e=e.getter||e,v[e]=r+1;var t="_"+e;u+=(u?",":"")+e,f+="this."+t+" = "+e+";\n",c[e]=c[e]||function(n){if(!arguments.length)return this[t];h?h(this).setProperty(e,n):this[t]=n},h&&(c[e].set=c[e].set||function(e){this[t]=e})}(l[r]);return f=new Function(u,f),i=function(){f.apply(this,arguments),(o=arguments[g+1])&&ve(this,arguments[g],o)},i.prototype=c,c.constructor=i,_.map=function(t){t=typeof t===B?JSON.parse(t):t;var n,r,i,o,a=0,p=t,d=[];if(T(t)){for(n=(t=t||[]).length;a<n;a++)d.push(this.map(t[a]));return d._is=e,d.unmap=w,d.merge=x,d}if(t){for(b(t,(function(e,t){t?e=t.map(e):typeof e===B&&("{"===e[0]&&"}"===e[e.length-1]||"["===e[0]&&"]"===e[e.length-1])&&(e=JSON.parse(e)),d.push(e)})),p=this.apply(this,d),a=g;a--;)if(i=d[a],(o=l[a].parentRef)&&i&&i.unmap)if(T(i))for(n=i.length;n--;)ve(i[n],o,p);else ve(i,o,p);for(r in t)r===s||v[r]||(p[r]=t[r])}return p},_.getters=l,_.extend=p,_.id=d,_}},helper:{},converter:{}};function ee(e,t){return function(){var n,r=this,i=r.base;return r.base=e,n=t.apply(r,arguments),r.base=i,n}}function te(e,t){return j(t)&&((t=ee(e?e._d?e:ee(ie,e):ie,t))._d=(e&&e._d||0)+1),t}function ne(e,t){var n,r=t.props;for(n in r)!V.test(n)||e[n]&&e[n].fix||(e[n]="convert"!==n?te(e.constructor.prototype[n],r[n]):r[n])}function re(e){return e}function ie(){return""}function oe(e){this.name=(t.link?"JsViews":"JsRender")+" Error",this.message=e||this.name}function ae(e,t){if(e){for(var n in t)"__proto__"!==n&&(e[n]=t[n]);return e}}function se(){var e=this.get("item");return e?e.index:void 0}function le(){return this.index}function pe(e,t,n,r){var i,o,a,s=0;if(1===n&&(r=1,n=void 0),t)for(a=(o=t.split(".")).length;e&&s<a;s++)i=e,e=o[s]?e[o[s]]:e,j(e)&&(e=e.call(i));return n&&(n.lt=n.lt||s<a),void 0===e?r?ie:"":r?function(){return e.apply(i,arguments)}:e}function de(n,r,i){var o,a,s,l,p,c,f,g=this,h=!y&&arguments.length>1,v=g.ctx;if(n){if(g._||(p=g.index,g=g.tag),c=g,v&&v.hasOwnProperty(n)||(v=d).hasOwnProperty(n)){if(s=v[n],"tag"===n||"tagCtx"===n||"root"===n||"parentTags"===n)return s}else v=void 0;if((!y&&g.tagCtx||g.linked)&&(s&&s._cxp||(g=g.tagCtx||j(s)?g:!(g=g.scope||g).isTop&&g.ctx.tag||g,void 0!==s&&g.tagCtx&&(g=g.tagCtx.view.scope),v=g._ocps,(s=v&&v.hasOwnProperty(n)&&v[n]||s)&&s._cxp||!i&&!h||((v||(g._ocps=g._ocps||{}))[n]=s=[{_ocp:s,_vw:c,_key:n}],s._cxp={path:k,ind:0,updateValue:function(e,n){return t.observable(s[0]).setProperty(k,e),this}})),l=s&&s._cxp)){if(arguments.length>2)return(a=s[1]?u._ceo(s[1].deps):[k]).unshift(s[0]),a._cxp=l,a;if(p=l.tagElse,f=s[1]?l.tag&&l.tag.cvtArgs?l.tag.cvtArgs(p,1)[l.ind]:s[1](s[0].data,s[0],u):s[0]._ocp,h)return u._ucp(n,r,g,l),g;s=f}return s&&j(s)&&(o=function(){return s.apply(this&&this!==e?this:c,arguments)},ae(o,s)),o||s}}function ce(e,t){var n,r,i,o,a,s,l,p=this;if(p.tagName){if(!(p=((s=p).tagCtxs||[p])[e||0]))return}else s=p.tag;if(a=s.bindFrom,o=p.args,(l=s.convert)&&typeof l===B&&(l="true"===l?void 0:p.view.getRsc("converters",l)||Ce("Unknown converter: '"+l+"'")),l&&!t&&(o=o.slice()),a){for(i=[],n=a.length;n--;)r=a[n],i.unshift(ue(p,r));t&&(o=i)}if(l){if(void 0===(l=l.apply(s,i||o)))return o;if(n=(a=a||[0]).length,T(l)&&(!1===l.arg0||1!==n&&l.length===n&&!l.arg0)||(l=[l],a=[0],n=1),t)o=l;else for(;n--;)+(r=a[n])===r&&(o[r]=l[n])}return o}function ue(e,t){return(e=e[+t===t?"args":"props"])&&e[t]}function fe(e){return this.cvtArgs(e,1)}function ge(e,t,n,r,i,o,a,s){var l,p,d,c=this,u="array"===t;c.content=s,c.views=u?[]:{},c.data=r,c.tmpl=i,d=c._={key:0,useKey:u?0:1,id:""+q++,onRender:a,bnds:{}},c.linked=!!a,c.type=t||"top",t&&(c.cache={_ct:f._cchCt}),n&&"top"!==n.type||((c.ctx=e||{}).root=c.data),(c.parent=n)?(c.root=n.root||c,l=n.views,p=n._,c.isTop=p.scp,c.scope=(!e.tag||e.tag===n.ctx.tag)&&!c.isTop&&n.scope||c,p.useKey?(l[d.key="_"+p.useKey++]=c,c.index=W,c.getIndex=se):l.length===(d.key=c.index=o)?l.push(c):l.splice(o,0,c),c.ctx=e||n.ctx):t&&(c.root=c)}function he(e,t){return j(e)?e.call(t):e}function ve(e,t,n){Object.defineProperty(e,t,{value:n,configurable:!0})}function me(e,n){var r,i=g._wm||{},o={tmpls:[],links:{},bnds:[],_is:"template",render:we};return n&&(o=ae(o,n)),o.markup=e,o.htmlTag||(r=M.exec(e),o.htmlTag=r?r[1].toLowerCase():""),(r=i[o.htmlTag])&&r!==i.div&&(o.markup=t.trim(o.markup)),o}function _e(e,t){var n=e+"s";a[n]=function r(i,o,s){var l,p,d,c=u.onStore[e];if(i&&typeof i===L&&!i.nodeType&&!i.markup&&!i.getTgt&&!("viewModel"===e&&i.getters||i.extend)){for(p in i)r(p,i[p],o);return o||a}return i&&typeof i!==B&&(s=o,o=i,i=void 0),d=s?"viewModel"===e?s:s[n]=s[n]||{}:r,l=t.compile,void 0===o&&(o=l?i:d[i],i=void 0),null===o?i&&delete d[i]:(l&&((o=l.call(d,i,o,s,0)||{})._is=e),i&&(d[i]=o)),c&&c(i,o,s,l),o}}function be(e){h[e]=h[e]||function(t){return arguments.length?(f[e]=t,h):f[e]}}function xe(e){function t(t,n){this.tgt=e.getTgt(t,n),n.map=this}return j(e)&&(e={getTgt:e}),e.baseMap&&(e=ae(ae({},e.baseMap),e)),e.map=function(e,n){return new t(e,n)},e}function we(e,t,n,r,i,a){var s,l,p,d,c,f,h,v=r,m="";if(!0===t?(n=t,t=void 0):typeof t!==L&&(t=void 0),(p=this.tag)?(d=(v=v||this.view)._getTmpl(p.template||this.tmpl),arguments.length||(e=p.contentCtx&&j(p.contentCtx)?e=p.contentCtx(e):v)):d=this,d){if(!r&&e&&"view"===e._is&&(v=e),v&&e===v&&(e=v.data),c=!v,y=y||c,c&&((t=t||{}).root=e),!y||g.useViews||d.useViews||v&&v!==o)m=ye(d,e,t,n,v,i,a,p);else{if(v?(f=v.data,h=v.index,v.index=W):(f=(v=o).data,v.data=e,v.ctx=t),T(e)&&!n)for(s=0,l=e.length;s<l;s++)v.index=s,v.data=e[s],m+=d.fn(e[s],v,u);else v.data=e,m+=d.fn(e,v,u);v.data=f,v.index=h}c&&(y=void 0)}return m}function ye(e,t,n,r,i,o,a,s){var l,p,d,c,f,g,h,v,m,_,b,x,w,y="";if(s&&(m=s.tagName,x=s.tagCtx,n=n?Re(n,s.ctx):s.ctx,e===i.content?h=e!==i.ctx._wrp?i.ctx._wrp:void 0:e!==x.content?e===s.template?(h=x.tmpl,n._wrp=x.content):h=x.content||i.content:h=i.content,!1===x.props.link&&((n=n||{}).link=!1)),i&&(a=a||i._.onRender,(w=n&&!1===n.link)&&i._.nl&&(a=void 0),n=Re(n,i.ctx),x=!s&&i.tag?i.tag.tagCtxs[i.tagElse]:x),(_=x&&x.props.itemVar)&&("~"!==_[0]&&ke("Use itemVar='~myItem'"),_=_.slice(1)),!0===o&&(g=!0,o=0),a&&s&&s._.noVws&&(a=void 0),v=a,!0===a&&(v=void 0,a=i._.onRender),b=n=e.helpers?Re(e.helpers,n):n,T(t)&&!r)for((d=g?i:void 0!==o&&i||new ge(n,"array",i,t,e,o,a,h))._.nl=w,i&&i._.useKey&&(d._.bnd=!s||s._.bnd&&s,d.tag=s),l=0,p=t.length;l<p;l++)c=new ge(b,"item",d,t[l],e,(o||0)+l,a,d.content),_&&((c.ctx=ae({},b))[_]=u._cp(t[l],"#data",c)),f=e.fn(t[l],c,u),y+=d._.onRender?d._.onRender(f,c):f;else d=g?i:new ge(b,m||"data",i,t,e,o,a,h),_&&((d.ctx=ae({},b))[_]=u._cp(t,"#data",d)),d.tag=s,d._.nl=w,y+=e.fn(t,d,u);return s&&(d.tagElse=x.index,x.contentView=d),v?v(y,d):y}function Ce(e){throw new u.Err(e)}function ke(e){Ce("Syntax error\n"+e)}function je(e,t,n,r,o){function a(t){(t-=x)&&y.push(e.substr(x,t).replace(A,"\\n"))}function s(t,n){t&&(t+="}}",ke((n?"{{"+n+"}} block has {{/"+t+" without {{"+t:"Unmatched or missing {{/"+t)+", in template:\n"+e))}var l,p,d,c,u,g=f.allowCode||t&&t.allowCode||!0===h.allowCode,m=[],x=0,w=[],y=m,C=[,,m];if(g&&t._is&&(t.allowCode=g),n&&(void 0!==r&&(e=e.slice(0,-r.length-2)+_),e=v+e+b),s(w[0]&&w[0][2].pop()[0]),e.replace(i,(function(i,l,p,u,f,h,v,m,_,b,k,j){(v&&l||_&&!p||m&&":"===m.slice(-1)||b)&&ke(i),h&&(f=":",u=K);var T,N,M,$=(l||n)&&[[]],E="",O="",I="",S="",D="",q="",J="",U="",B=!(_=_||n&&!o)&&!f;p=p||(m=m||"#data",f),a(j),x=j+i.length,v?g&&y.push(["*","\n"+m.replace(/^:/,"ret+= ").replace(P,"$1")+";\n"]):p?("else"===p&&(F.test(m)&&ke('For "{{else if expr}}" use "{{else expr}}"'),$=C[9]&&[[]],C[10]=e.substring(C[10],j),N=C[11]||C[0]||ke("Mismatched: "+i),C=w.pop(),y=C[2],B=!0),m&&Pe(m.replace(A," "),$,t,n).replace(R,(function(e,t,n,r,i,o,a,s){return"this:"===r&&(o="undefined"),s&&(M=M||"@"===s[0]),r="'"+i+"':",a?(O+=n+o+",",S+="'"+s+"',"):n?(I+=r+"j._cp("+o+',"'+s+'",view),',q+=r+"'"+s+"',"):t?J+=o:("trigger"===i&&(U+=o),"lateRender"===i&&(T="false"!==s),E+=r+o+",",D+=r+"'"+s+"',",c=c||V.test(i)),""})).slice(0,-1),$&&$[0]&&$.pop(),d=[p,u||!!r||c||"",B&&[],Ae(S||(":"===p?"'#data',":""),D,q),Ae(O||(":"===p?"data,":""),E,I),J,U,T,M,$||0],y.push(d),B&&(w.push(C),(C=d)[10]=x,C[11]=N)):k&&(s(k!==C[0]&&k!==C[11]&&k,C[0]),C[10]=e.substring(C[10],j),C=w.pop()),s(!C&&k),y=C[2]})),a(e.length),(x=m[m.length-1])&&s(typeof x!==B&&+x[10]===x[10]&&x[0]),n){for(p=Ne(m,e,n),u=[],l=m.length;l--;)u.unshift(m[l][9]);Te(p,u)}else p=Ne(m,t);return p}function Te(e,t){var n,r,i=0,o=t.length;for(e.deps=[],e.paths=[];i<o;i++)for(n in e.paths.push(r=t[i]),r)"_jsvto"!==n&&r.hasOwnProperty(n)&&r[n].length&&!r[n].skp&&(e.deps=e.deps.concat(r[n]))}function Ae(e,t,n){return[e.slice(0,-1),t.slice(0,-1),n.slice(0,-1)]}function Pe(e,n,r,i){var o,a,s,l,p,d=n&&n[0],c={bd:d},f={0:c},h=0,v=0,m=0,_={},b=0,x={},w={},y={},C={0:0},k={0:""},j=0;return"@"===e[0]&&(e=e.replace(D,".")),s=(e+(r?" ":"")).replace(u.rPrm,(function(r,s,T,A,P,R,F,M,$,V,E,O,I,S,D,q,J,U,K,B,L){A&&!M&&(P=A+P),R=R||"",I=I||"",T=T||s||I,P=P||$,V&&(V=!/\)|]/.test(L[B-1]))&&(P=P.slice(1).split(".").join("^")),E=E||U||"";var Q,H,W,z,G,X,Y,ee=B;if(!p&&!l){if(F&&ke(e),J&&d){if(Q=y[m-1],L.length-1>ee-(Q||0)){if(Q=t.trim(L.slice(Q,ee+r.length)),H=a||f[m-1].bd,(W=H[H.length-1])&&W.prm){for(;W.sb&&W.sb.prm;)W=W.sb;!(z=W.sb={path:W.sb,bnd:W.bnd}).path&&W.path&&(W.bnd=!0)}else H.push(z={path:H.pop()});W&&W.sb===z&&(k[m]=k[m-1].slice(W._cpPthSt)+k[m],k[m-1]=k[m-1].slice(0,W._cpPthSt)),z._cpPthSt=C[m-1],z._cpKey=Q,k[m]+=L.slice(j,B),j=B,z._cpfn=Z[Q]=Z[Q]||new Function("data,view,j","//"+Q+"\nvar v;\nreturn ((v="+k[m]+("]"===q?")]":q)+")!=null?v:null);"),k[m-1]+=w[v]&&g.cache?'view.getCache("'+Q.replace(N,"\\$&")+'"':k[m],z.prm=c.bd,z.bnd=z.bnd||z.path&&z.path.indexOf("^")>=0}k[m]=""}"["===E&&(E="[j._sq("),"["===T&&(T="[j._sq(")}return Y=p?(p=!S)?r:I+'"':l?(l=!D)?r:I+'"':(T?(x[++v]=!0,_[v]=0,d&&(y[m++]=ee++,c=f[m]={bd:[]},k[m]="",C[m]=1),T):"")+(K?v?"":(h=L.slice(h,ee),(o?(o=a=!1,"\b"):"\b,")+h+(h=ee+r.length,d&&n.push(c.bd=[]),"\b")):M?(m&&ke(e),d&&n.pop(),o="_"+P,h=ee+r.length,d&&((d=c.bd=n[o]=[]).skp=!A),P+":"):P?P.split("^").join(".").replace(u.rPath,(function(e,t,r,s,l,p,u,f){if(G="."===r,r&&(P=P.slice(t.length),/^\.?constructor$/.test(f||P)&&ke(e),G||(e=(V?(i?"":"(ltOb.lt=ltOb.lt||")+"(ob=":"")+(s?'view.ctxPrm("'+s+'")':l?"view":"data")+(V?")===undefined"+(i?"":")")+'?"":view._getOb(ob,"':"")+(f?(p?"."+p:s||l?"":"."+r)+(u||""):(f=s?"":l?p||"":r,"")),e=t+("view.data"===(e+=f?"."+f:"").slice(0,9)?e.slice(5):e)+(V?(i?'"':'",ltOb')+(E?",1)":")"):"")),d)){if(H="_linkTo"===o?a=n._jsvto=n._jsvto||[]:c.bd,W=G&&H[H.length-1]){if(W._cpfn){for(;W.sb;)W=W.sb;W.prm&&(W.bnd&&(P="^"+P.slice(1)),W.sb=P,W.bnd=W.bnd||"^"===P[0])}}else H.push(P);E&&!G&&(y[m]=ee,C[m]=k[m].length)}return e}))+(E||R):R||(q?"]"===q?")]":")":O?(w[v]||ke(e),","):s?"":(p=S,l=D,'"'))),p||l||q&&(w[v]=!1,v--),d&&(p||l||(q&&(x[v+1]&&(c=f[--m],x[v+1]=!1),b=_[v+1]),E&&(_[v+1]=k[m].length+(T?1:0),(P||q)&&(c=f[++m]={bd:[]},x[v+1]=!0))),k[m]=(k[m]||"")+L.slice(j,B),j=B+r.length,p||l||((X=T&&x[v+1])&&(k[m-1]+=T,C[m-1]++),"("===E&&G&&!z&&(k[m]=k[m-1].slice(b)+k[m],k[m-1]=k[m-1].slice(0,b))),k[m]+=X?Y.slice(1):Y),p||l||!E||(v++,P&&"("===E&&(w[v]=!0)),p||l||!U||(d&&(k[m]+=E),Y+=E),Y})),d&&(s=k[0]),!v&&s||ke(e)}function Ne(e,t,n){var r,i,o,a,s,l,p,d,u,h,v,m,_,b,x,w,y,C,k,j,T,N,R,F,M,$,V,E,O,I,S,D,q,J,U=0,L=g.useViews||t.useViews||t.tags||t.templates||t.helpers||t.converters,Q="",H={},W=e.length;for(typeof t===B?(y=n?'data-link="'+t.replace(A," ").slice(1,-1)+'"':t,t=0):(y=t.tmplName||"unnamed",t.allowCode&&(H.allowCode=!0),t.debug&&(H.debug=!0),h=t.bnds,w=t.tmpls),r=0;r<W;r++)if(typeof(i=e[r])===B)Q+='+"'+i+'"';else if("*"===(o=i[0]))Q+=";\n"+i[1]+"\nret=ret";else{if(a=i[1],j=!n&&i[2],q=i[3],J=m=i[4],s="\n\tparams:{args:["+q[0]+"],\n\tprops:{"+q[1]+"}"+(q[2]?",\n\tctx:{"+q[2]+"}":"")+"},\n\targs:["+J[0]+"],\n\tprops:{"+J[1]+"}"+(J[2]?",\n\tctx:{"+J[2]+"}":""),O=i[6],I=i[7],i[8]?(S="\nvar ob,ltOb={},ctxs=",D=";\nctxs.lt=ltOb.lt;\nreturn ctxs;"):(S="\nreturn ",D=""),T=i[10]&&i[10].replace(P,"$1"),(F="else"===o)?v&&v.push(i[9]):(V=i[5]||!1!==f.debugMode&&"undefined",h&&(v=i[9])&&(v=[v],U=h.push(1))),L=L||m[1]||m[2]||v||/view.(?!index)/.test(m[0]),(M=":"===o)?a&&(o=a===K?">":a+o):(j&&((C=me(T,H)).tmplName=y+"/"+o,C.useViews=C.useViews||L,Ne(j,C),L=C.useViews,w.push(C)),F||(k=o,L=L||o&&(!c[o]||!c[o].flow),R=Q,Q=""),N=(N=e[r+1])&&"else"===N[0]),E=V?";\ntry{\nret+=":"\n+",_="",b="",M&&(v||O||a&&a!==K||I)){if(($=new Function("data,view,j","// "+y+" "+ ++U+" "+o+S+"{"+s+"};"+D))._er=V,$._tag=o,$._bd=!!v,$._lr=I,n)return $;Te($,v),u=!0,_=(x='c("'+a+'",view,')+U+",",b=")"}if(Q+=M?(n?(V?"try{\n":"")+"return ":E)+(u?(u=void 0,L=d=!0,x+($?(h[U-1]=$,U):"{"+s+"}")+")"):">"===o?(p=!0,"h("+m[0]+")"):"((v="+m[0]+")!=null?v:"+(n?"null)":'"")')):(l=!0,"\n{view:view,content:false,tmpl:"+(j?w.length:"false")+","+s+"},"),k&&!N){if(Q="["+Q.slice(0,-1)+"]",x='t("'+k+'",view,this,',n||v){if((Q=new Function("data,view,j"," // "+y+" "+U+" "+k+S+Q+D))._er=V,Q._tag=k,v&&Te(h[U-1]=Q,v),Q._lr=I,n)return Q;_=x+U+",undefined,",b=")"}Q=R+E+x+(v&&U||Q)+")",v=0,k=0}V&&!N&&(L=!0,Q+=";\n}catch(e){ret"+(n?"urn ":"+=")+_+"j._err(e,view,"+V+")"+b+";}"+(n?"":"\nret=ret"))}Q="// "+y+(H.debug?"\ndebugger;":"")+"\nvar v"+(l?",t=j._tag":"")+(d?",c=j._cnvt":"")+(p?",h=j._html":"")+(n?(i[8]?", ob":"")+";\n":',ret=""')+Q+(n?"\n":";\nreturn ret;");try{Q=new Function("data,view,j",Q)}catch(e){ke("Compiled template code:\n\n"+Q+'\n: "'+(e.message||e)+'"')}return t&&(t.fn=Q,t.useViews=!!L),Q}function Re(e,t){return e&&e!==t?t?ae(ae({},t),e):e:t&&ae({},t)}function Fe(e,n){var r,i,o,a=n.tag,s=n.props,l=n.params.props,p=s.filter,d=s.sort,c=!0===d,u=parseInt(s.step),f=s.reverse?-1:1;if(!T(e))return e;if(c||d&&typeof d===B?((r=e.map((function(e,t){return{i:t,v:typeof(e=c?e:pe(e,d))===B?e.toLowerCase():e}}))).sort((function(e,t){return e.v>t.v?f:e.v<t.v?-f:0})),e=r.map((function(t){return e[t.i]}))):(d||f<0)&&!a.dataMap&&(e=e.slice()),j(d)&&(e=e.sort((function(){return d.apply(n,arguments)}))),f<0&&(!d||j(d))&&(e=e.reverse()),e.filter&&p&&(e=e.filter(p,n),n.tag.onFilter&&n.tag.onFilter(n)),l.sorted&&(r=d||f<0?e:e.slice(),a.sorted?t.observable(a.sorted).refresh(r):n.map.sorted=r),i=s.start,o=s.end,(l.start&&void 0===i||l.end&&void 0===o)&&(i=o=0),isNaN(i)&&isNaN(o)||(i=+i||0,o=void 0===o||o>e.length?e.length:+o,e=e.slice(i,o)),u>1){for(i=0,o=e.length,r=[];i<o;i+=u)r.push(e[i]);e=r}return l.paged&&a.paged&&$observable(a.paged).refresh(e),e}function Me(e,n,r){var i=this.jquery&&(this[0]||Ce("Unknown template")),o=i.getAttribute(Q);return we.call(o&&t.data(i)[H]||l(i),e,n,r)}function $e(e){return J[e]||(J[e]="&#"+e.charCodeAt(0)+";")}function Ve(e,t){return U[t]||""}function Ee(e){return null!=e?$.test(e)&&(""+e).replace(O,$e)||e:""}if(a={jsviews:C,sub:{rPath:/^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,rPrm:/(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(~?[\w$.^]+)?\s*((\+\+|--)|\+|-|~(?![\w$])|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?(@)?[#~]?[\w$.^]+)([([])?)|(,\s*)|(?:(\()\s*)?\\?(?:(')|("))|(?:\s*(([)\]])(?=[.^]|\s*$|[^([])|[)\]])([([]?))|(\s+)/g,View:ge,Err:oe,tmplFn:je,parse:Pe,extend:ae,extendCtx:Re,syntaxErr:ke,onStore:{template:function(e,t){null===t?delete z[e]:e&&(z[e]=t)}},addSetting:be,settings:{allowCode:!1},advSet:ie,_thp:ne,_gm:te,_tg:function(){},_cnvt:function(e,t,n,r){var i,o,a,s,l,p="number"==typeof n&&t.tmpl.bnds[n-1];if(void 0===r&&p&&p._lr&&(r=""),void 0!==r?n=r={props:{},args:[r]}:p&&(n=p(t.data,t,u)),p=p._bd&&p,e||p){if(i=(o=t._lc)&&o.tag,n.view=t,!i){if(i=ae(new u._tg,{_:{bnd:p,unlinked:!0,lt:n.lt},inline:!o,tagName:":",convert:e,onArrayChange:!0,flow:!0,tagCtx:n,tagCtxs:[n],_is:"tag"}),(s=n.args.length)>1)for(l=i.bindTo=[];s--;)l.unshift(s);o&&(o.tag=i,i.linkCtx=o),n.ctx=Re(n.ctx,(o?o.view:t).ctx),ne(i,n)}i._er=r&&a,i.ctx=n.ctx||i.ctx||{},n.ctx=void 0,a=i.cvtArgs()[0],i._er=r&&a}else a=n.args[0];return null!=(a=p&&t._.onRender?t._.onRender(a,t,i):a)?a:""},_tag:function(e,t,n,r,i,a){function s(e){var t=l[e];if(void 0!==t)for(t=T(t)?t:[t],v=t.length;v--;)O=t[v],isNaN(parseInt(O))||(t[v]=parseInt(O));return t||[0]}var l,d,c,f,g,h,v,m,_,b,x,w,y,C,k,j,A,P,N,R,F,M,$,V,O,I,S,D,q,J=0,U="",B=(t=t||o)._lc||!1,L=t.ctx,Q=n||t.tmpl,H="number"==typeof r&&t.tmpl.bnds[r-1];for("tag"===e._is?(e=(l=e).tagName,r=l.tagCtxs,l.template):(d=t.getRsc("tags",e)||Ce("Unknown tag: {{"+e+"}} ")).template,void 0===a&&H&&(H._lr=d.lateRender&&!1!==H._lr||H._lr)&&(a=""),void 0!==a?(U+=a,r=a=[{props:{},args:[],params:{props:{}}}]):H&&(r=H(t.data,t,u)),h=r.length;J<h;J++)j=(b=r[J]).tmpl,(!B||!B.tag||J&&!B.tag.inline||l._er||j&&+j===j)&&(j&&Q.tmpls&&(b.tmpl=b.content=Q.tmpls[j-1]),b.index=J,b.ctxPrm=de,b.render=we,b.cvtArgs=ce,b.bndArgs=fe,b.view=t,b.ctx=Re(Re(b.ctx,d&&d.ctx),L)),(n=b.props.tmpl)&&(b.tmpl=t._getTmpl(n),b.content=b.content||b.tmpl),l?B&&B.fn._lr&&(A=!!l.init):(A=!!(l=new d._ctr).init,l.parent=g=L&&L.tag,l.tagCtxs=r,B&&(l.inline=!1,B.tag=l),l.linkCtx=B,(l._.bnd=H||B.fn)?(l._.ths=b.params.props.this,l._.lt=r.lt,l._.arrVws={}):l.dataBoundOnly&&Ce(e+" must be data-bound:\n{^{"+e+"}}")),$=l.dataMap,b.tag=l,$&&r&&(b.map=r[J].map),l.flow||(x=b.ctx=b.ctx||{},c=l.parents=x.parentTags=L&&Re(x.parentTags,L.parentTags)||{},g&&(c[g.tagName]=g),c[l.tagName]=x.tag=l,x.tagCtx=b);if(!(l._er=a)){for(ne(l,r[0]),l.rendering={rndr:l.rendering},J=0;J<h;J++){if(M=(b=l.tagCtx=r[J]).props,l.ctx=b.ctx,!J){if(A&&(l.init(b,B,l.ctx),A=void 0),b.args.length||!1===b.argDefault||!1===l.argDefault||(b.args=R=[b.view.data],b.params.args=["#data"]),y=s("bindTo"),void 0!==l.bindTo&&(l.bindTo=y),void 0!==l.bindFrom?l.bindFrom=s("bindFrom"):l.bindTo&&(l.bindFrom=l.bindTo=y),C=l.bindFrom||y,S=y.length,I=C.length,l._.bnd&&(D=l.linkedElement)&&(l.linkedElement=D=T(D)?D:[D],S!==D.length&&Ce("linkedElement not same length as bindTo")),(D=l.linkedCtxParam)&&(l.linkedCtxParam=D=T(D)?D:[D],I!==D.length&&Ce("linkedCtxParam not same length as bindFrom/bindTo")),C)for(l._.fromIndex={},l._.toIndex={},m=I;m--;)for(O=C[m],v=S;v--;)O===y[v]&&(l._.fromIndex[v]=m,l._.toIndex[m]=v);B&&(B.attr=l.attr=B.attr||l.attr||B._dfAt),f=l.attr,l._.noVws=f&&f!==K}if(R=l.cvtArgs(J),l.linkedCtxParam)for(F=l.cvtArgs(J,1),v=I,q=l.constructor.prototype.ctx;v--;)(w=l.linkedCtxParam[v])&&(O=C[v],k=F[v],b.ctx[w]=u._cp(q&&void 0===k?q[w]:k,void 0!==k&&ue(b.params,O),b.view,l._.bnd&&{tag:l,cvt:l.convert,ind:v,tagElse:J}));(P=M.dataMap||$)&&(R.length||M.dataMap)&&((N=b.map)&&N.src===R[0]&&!i||(N&&N.src&&N.unmap(),P.map(R[0],b,N,!l._.bnd),N=b.map),R=[N.tgt]),_=void 0,l.render&&(_=l.render.apply(l,R),t.linked&&_&&!E.test(_)&&((n={links:[]}).render=n.fn=function(){return _},_=ye(n,t.data,void 0,!0,t,void 0,void 0,l))),R.length||(R=[t]),void 0===_&&(V=R[0],l.contentCtx&&(V=!0===l.contentCtx?t:l.contentCtx(V)),_=b.render(V,!0)||(i?void 0:"")),U=U?U+(_||""):void 0!==_?""+_:void 0}l.rendering=l.rendering.rndr}return l.tagCtx=r[0],l.ctx=l.tagCtx.ctx,l._.noVws&&l.inline&&(U="text"===f?p.html(U):""),H&&t._.onRender?t._.onRender(U,t,l):U},_er:Ce,_err:function(e,t,n){var r=void 0!==n?j(n)?n.call(t.data,e,t):n||"":"{Error: "+(e.message||e)+"}";return f.onError&&void 0!==(n=f.onError.call(t.data,e,n&&r,t))&&(r=n),t&&!t._lc?p.html(r):r},_cp:re,_sq:function(e){return"constructor"===e&&ke(""),e}},settings:{delimiters:function e(t,n,r){return t?Array.isArray(t)?e.apply(a,t):(x=r?r[0]:x,/^(\W|_){5}$/.test(t+n+x)||Ce("Invalid delimiters"),v=t[0],m=t[1],_=n[0],b=n[1],f.delimiters=[v+m,_+b,x],t="\\"+v+"(\\"+x+")?\\"+m,n="\\"+_+"\\"+b,i="(?:(\\w+(?=[\\/\\s\\"+_+"]))|(\\w+)?(:)|(>)|(\\*))\\s*((?:[^\\"+_+"]|\\"+_+"(?!\\"+b+"))*?)",u.rTag="(?:"+i+")",i=new RegExp("(?:"+t+i+"(\\/)?|\\"+v+"(\\"+x+")?\\"+m+"(?:(?:\\/(\\w+))\\s*|!--[\\s\\S]*?--))"+n,"g"),u.rTmpl=new RegExp("^\\s|\\s$|<.*>|([^\\\\]|^)[{}]|"+t+".*"+n),h):f.delimiters},advanced:function(e){return e?(ae(g,e),u.advSet(),h):g}},map:xe},(oe.prototype=new Error).constructor=oe,se.depends=function(){return[this.get("item"),"index"]},le.depends="index",ge.prototype={get:function(e,t){t||!0===e||(t=e,e=void 0);var n,r,i,o,a=this,s="root"===t;if(e){if(!(o=t&&a.type===t&&a))if(n=a.views,a._.useKey){for(r in n)if(o=t?n[r].get(e,t):n[r])break}else for(r=0,i=n.length;!o&&r<i;r++)o=t?n[r].get(e,t):n[r]}else if(s)o=a.root;else if(t)for(;a&&!o;)o=a.type===t?a:void 0,a=a.parent;else o=a.parent;return o||void 0},getIndex:le,ctxPrm:de,getRsc:function(e,t){var n,r,i=this;if(typeof t===B){for(;void 0===n&&i;)n=(r=i.tmpl&&i.tmpl[e])&&r[t],i=i.parent;return n||a[e][t]}},_getTmpl:function(e){return e&&(e.fn?e:this.getRsc("templates",e)||l(e))},_getOb:pe,getCache:function(e){return f._cchCt>this.cache._ct&&(this.cache={_ct:f._cchCt}),void 0!==this.cache[e]?this.cache[e]:this.cache[e]=Z[e](this.data,this,u)},_is:"view"},u=a.sub,h=a.settings,!(G||t&&t.render)){for(r in Y)_e(r,Y[r]);if(p=a.converters,d=a.helpers,c=a.tags,u._tg.prototype={baseApply:function(e){return this.base.apply(this,e)},cvtArgs:ce,bndArgs:fe,ctxPrm:de},o=u.topView=new ge,t){if(t.fn.render=Me,s=t.expando,t.observable){if(C!==(C=t.views.jsviews))throw"jquery.observable.js requires jsrender.js "+C;ae(u,t.views.sub),a.map=t.views.map}}else t={jsrender:C},n&&(e.jsrender=t),t.renderFile=t.__express=t.compile=function(){throw"Node.js: use npm jsrender, or jsrender-node.js"},u._jq=function(e){e!==t&&(ae(e,t),(t=e).fn.render=Me,delete t.jsrender,s=t.expando)};for(w in(f=u.settings).allowCode=!1,t.render=z,t.views=a,t.templates=l=a.templates,f)be(w);(h.debugMode=function(e){return void 0===e?f.debugMode:(f._clFns&&f._clFns(),f.debugMode=e,f.onError=typeof e===B?function(){return e}:j(e)?e:void 0,h)})(!1),g=f.advanced={cache:!0,useViews:!1,_jsv:!1},c({if:{render:function(e){var t=this,n=t.tagCtx;return t.rendering.done||!e&&(n.args.length||!n.index)?"":(t.rendering.done=!0,void(t.selected=n.index))},contentCtx:!0,flow:!0},for:{sortDataMap:xe(Fe),init:function(e,t){this.setDataMap(this.tagCtxs)},render:function(e){var t,n,r,i,o,a=this,s=a.tagCtx,l=!1===s.argDefault,p=s.props,d=l||s.args.length,c="",u=0;if(!a.rendering.done){if(t=d?e:s.view.data,l)for(l=p.reverse?"unshift":"push",i=+p.end,o=+p.step||1,t=[],r=+p.start||0;(i-r)*o>0;r+=o)t[l](r);void 0!==t&&(n=T(t),c+=s.render(t,!d||p.noIteration),u+=n?t.length:1),(a.rendering.done=u)&&(a.selected=s.index)}return c},setDataMap:function(e){for(var t,n,r,i=e.length;i--;)n=(t=e[i]).props,r=t.params.props,t.argDefault=void 0===n.end||t.args.length>0,n.dataMap=!1!==t.argDefault&&T(t.args[0])&&(r.sort||r.start||r.end||r.step||r.filter||r.reverse||n.sort||n.start||n.end||n.step||n.filter||n.reverse)&&this.sortDataMap},flow:!0},props:{baseTag:"for",dataMap:xe((function(e,n){var r,i,o=n.map,a=o&&o.propsArr;if(!a){if(a=[],typeof e===L||j(e))for(r in e)i=e[r],r===s||!e.hasOwnProperty(r)||n.props.noFunctions&&t.isFunction(i)||a.push({key:r,prop:i});o&&(o.propsArr=o.options&&a)}return Fe(a,n)})),init:ie,flow:!0},include:{flow:!0},"*":{render:re,flow:!0},":*":{render:re,flow:!0},dbg:d.dbg=p.dbg=function(e){try{throw console.log("JsRender dbg breakpoint: "+e),"dbg breakpoint"}catch(e){}return this.base?this.baseApply(arguments):e}}),p({html:Ee,attr:Ee,encode:function(e){return typeof e===B?e.replace(I,$e):e},unencode:function(e){return typeof e===B?e.replace(S,Ve):e},url:function(e){return null!=e?encodeURI(""+e):null===e?e:""}})}return f=u.settings,h.delimiters("{{","}}","^"),X&&G.views.sub._jq(t),t||G},t=window,n=t.jQuery,"object"==typeof exports?module.exports=n?e(t,n):function(n){if(n&&!n.fn)throw"Provide jQuery or null";return e(t,n)}:"function"==typeof define&&define.amd?define((function(){return e(t)})):e(t,!1)}));