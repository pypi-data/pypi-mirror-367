!function(){"use strict";var t={557:function(t){t.exports=jquery}},e={};class n{constructor(t,e={},n=!1){this.name=t,this.src=e.src,this.css=e.css,this.callbacks=[],e.callback&&this.callbacks.push({callback:e.callback,context:e.context||"body"}),this.async=void 0===e.async||e.async,this.loaded=n}load(){return new Promise(((t,e)=>{if(this.loaded)t();else{const n=[];this.src&&n.push(MyAMS.core.getScript(this.src)),this.css&&n.push(MyAMS.core.getCSS(this.css,`${this.name}_css`)),$.when.apply($,n).then((()=>{this.loaded=!0,t()}),e)}}))}run(t){const e=[];for(const n of this.callbacks)"string"==typeof n.callback&&(console.debug(`Resolving callback ${n.callback}`),n.callback=MyAMS.core.getFunctionByName(n.callback)||n.callback),e.push(n.callback(t,n.context));return Promise.all(e)}}const s=new class{constructor(){this.plugins=new Map}register(t,e){!e&&Object.prototype.hasOwnProperty.call(t,"name")&&(e=t.name);const s=this.plugins;if(s.has(e)){window.console&&console.debug&&console.debug(`Plug-in ${e} is already registered!`);const n=s.get(e);let o=!0;for(const e of n.callbacks)if(e.callback===t.callback&&e.context===t.context){o=!1;break}return o&&n.callbacks.push({callback:t.callback,context:t.context||"body"}),n}return"string"==typeof t&&(t=MyAMS.core.getFunctionByName(t)),"function"==typeof t?s.set(e,new n(e,{callback:t},!0)):"object"==typeof t&&s.set(e,new n(e,t,!(t.src||t.css))),s.get(e)}load(t){const e=[],n=[];$("[data-ams-plugins]",t).each(((t,s)=>{const o=$(s),r=o.data("ams-plugins");let i,c;if("string"==typeof r)for(const t of r.split(/[\s,;]+/)){const s=t.toLowerCase();c={src:o.data(`ams-plugin-${s}-src`),css:o.data(`ams-plugin-${s}-css`),callback:o.data(`ams-plugin-${s}-callback`),context:o,async:o.data(`ams-plugin-${s}-async`)},i=this.register(c,t),i.loaded||(!1===c.async?n.push(i.load()):e.push(i.load()))}else for(c of $.isArray(r)?r:[r])$.extend(c,{context:o}),i=this.register(c),i.loaded||(!1===i.async?n.push(i.load()):e.push(i.load()))}));let s=$.when.apply($,e);for(const t of n)s=s.done((()=>{}));return s}run(t,e=null){const n=new Set;$("[data-ams-plugins-disabled]",t).each(((t,e)=>{const s=$(e).data("ams-plugins-disabled").split(/[\s,;]+/);for(const t of s)n.add(t)}));const s=this.plugins;if(e)for(const n of e)s.has(n)&&s.get(n).run(t);else for(const[e,o]of s.entries())n.has(e)||o.run(t)}},o={plugins:s,initElement:function(t="#content"){return MyAMS.core.executeFunctionByName(MyAMS.config.initData,window,t),s.load(t)},register:function(t,e,n){return s.register(t,e,n)},run:function(t,e=null){return s.run(t,e)}};function r(t){let e=[];const n=t.data("ams-modules");if("string"==typeof n)e=e.concat(n.trim().split(/[\s,;]+/));else if(n)for(const[t,s]of Object.entries(n))if(void 0===e.find((e=>e===t||e[t]))){const n={};n[t]=s,e.push(n)}return $("[data-ams-modules]",t).each(((t,n)=>{const s=$(n).data("ams-modules");if("string"==typeof s)e=e.concat(s.trim().split(/[\s,;]+/));else if(s)for(const[t,n]of Object.entries(s))if(void 0===e.find((e=>e===t||e[t]))){const s={};s[t]=n,e.push(s)}})),[...new Set(e)]}function i(t,e){if(!t)return;if("string"!=typeof t)return t;const n=t.split(".");e=null==e?window:e;for(const t of n)try{e=e[t]}catch(t){return}return e}function c(t,e){if(null==t)return;if("function"==typeof t)return t;if("string"!=typeof t)return;const n=t.split("."),s=n.pop();e=null==e?window:e;for(const t of n)try{e=e[t]}catch(t){return}try{return e[s]}catch(t){return}}function a(t,e){const n=c(t,window);if("function"==typeof n){const t=Array.prototype.slice.call(arguments,2);return n.apply(e,t)}}function l(t){return t.replace(/{[^{}]*}/g,(t=>i(t.substr(1,t.length-2))))}window.jQuery||(window.$=window.jQuery=function n(s){var o=e[s];if(void 0!==o)return o.exports;var r=e[s]={exports:{}};return t[s](r,r.exports,n),r.exports}(557));const u=/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase()),f={modules:[],ajaxNav:!0,enableFastclick:!0,useSVGIcons:void 0!==window.FontAwesome&&"nest"===FontAwesome.config.autoReplaceSvg,menuSpeed:235,initPage:"MyAMS.core.initPage",initData:"MyAMS.core.initData",initContent:"MyAMS.core.initContent",clearContent:"MyAMS.core.clearContent",useRegistry:!0,alertsContainerClass:"toast-wrapper",safeMethods:["GET","HEAD","OPTIONS","TRACE"],csrfCookieName:"csrf_token",csrfHeaderName:"X-CSRF-Token",enableTooltips:!0,enableHtmlTooltips:!0,warnOnFormChange:!0,formChangeCallback:null,isMobile:u,device:u?"mobile":"desktop"},d={getObject:i,getFunctionByName:c,executeFunctionByName:a,getSource:l,getScript:function(t,e={}){return new Promise(((n,s)=>{const o={dataType:"script",url:h.core.getSource(t),cache:!h.env.devmode,async:!0},r=$.extend({},o,e);$.ajax(r).then((()=>{n(t)}),((t,e,n)=>{s(n)}))}))},getCSS:function(t,e){return new Promise((n=>{const s=$("HEAD");let o=$(`style[data-ams-id="${e}"]`,s);if(0===o.length){o=$("<style>").attr("data-ams-id",e).text(`@import "${l(t)}";`).appendTo(s);const r=setInterval((()=>{try{o[0].sheet.cssRules,clearInterval(r),n(!0)}catch(t){}}),10)}else n(!1)}))},getQueryVar:function(t,e){if("string"!=typeof t||t.indexOf("?")<0)return;t.endsWith("&")||(t+="&");const n=new RegExp(`.*?[&\\?]${e}=(.*?)&.*`),s=t.replace(n,"$1");return s===t?null:s},generateId:function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+t()+t()},generateUUID:function(){let t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)}))},switchIcon:function(t,e,n,s="fa"){if("string"==typeof t&&(t=$(t)),h.config.useSVGIcons){const e=FontAwesome.findIconDefinition({iconName:n,prefix:s});e&&t.html(FontAwesome.icon(e).html)}else t.removeClass(`fa-${e}`).addClass(`fa-${n}`)},initPage:function(){return h.require("i18n").then((()=>{h.dom={page:$("html"),root:$("body"),nav:$("nav"),main:$("#main"),leftPanel:$("#left-panel"),shortcuts:$("#shortcuts")},h.theme=function(){let t=h.theme;if(!t){const e=$('link[href*="/myams.css"], link[href*="/emerald.css"], link[href*="/darkmode.css"], link[href*="/lightmode.css"]');t=e.length>0?/.*\/([a-z]+).css/.exec(e.attr("href"))[1]:"unknown"}return t}(),a(h.config.initData,window,h.dom.root);const t=r(h.dom.root);h.require(...t).then((()=>{for(const t of h.config.modules)a(`MyAMS.${t}.init`);a(h.dom.page.data("ams-init-content")||h.config.initContent)}))}))},initData:function(t){$("[data-ams-data]",t).each(((t,e)=>{const n=$(e),s=n.data("ams-data");if(s)for(const t in s){if(!Object.prototype.hasOwnProperty.call(s,t))continue;let e=s[t];"string"!=typeof e&&(e=JSON.stringify(e)),n.attr(`data-${t}`,e)}n.removeAttr("data-ams-data")}))},initContent:function(t=null){function e(){for(const e of h.config.modules)a(`MyAMS.${e}.initElement`,document,t)}return null===t&&(t=$("body")),t=$(t),new Promise(((n,s)=>{a(h.config.initData,window,t);const o=r(t);return h.require(...o).then((()=>{t.trigger("before-init.ams.content"),h.config.useRegistry&&!t.data("ams-disable-registry")?h.registry.initElement(t).then((()=>{e()})).then((()=>{h.registry.run(t),t.trigger("after-init.ams.content")})).then(n):(e(),n())}),(()=>{s("Missing MyAMS modules!")}))}))},clearContent:function(t){return"string"==typeof t&&(t=$(t)),new Promise(((e,n)=>{const s={veto:!1};$(document).trigger("clear.ams.content",[s,t]),s.veto?e(!s.veto):h.require("events").then((()=>{$(h.events.getHandlers(t,"clear.ams.content")).each(((t,e)=>{if($(e).trigger("clear.ams.content",[s]),s.veto)return!1})),s.veto||($(h.events.getHandlers(t,"cleared.ams.content")).each(((t,e)=>{$(e).trigger("cleared.ams.content")})),$(document).trigger("cleared.ams.content",[t])),e(!s.veto)}),(()=>{n("Missing MyAMS.events module!")}))}))}},h={$:$,env:function(t){const e=t('script[src*="/myams.js"], script[src*="/myams-dev.js"], script[src*="/emerald.js"], script[src*="/emerald-dev.js"], script[src*="/darkmode.js"], script[src*="/darkmode-dev.js"], script[src*="/lightmode.js"], script[src*="/lightmode-dev.js"], script[src*="/myams-core.js"], script[src*="/myams-core-dev.js"], script[src*="/myams-mini.js"], script[src*="/myams-mini-dev.js"]').attr("src"),n=!e||e.indexOf("-dev.js")>=0;return{bundle:!e||e.indexOf("-core")<0,devmode:n,devext:n?"-dev":"",extext:n?"":".min",baseURL:e?e.substring(0,e.lastIndexOf("/")+1):"/"}}($),config:f,core:d,registry:o};window.MyAMS=h;var p=h;const m=MyAMS.$;function g(t,e){let n,s;"object"==typeof t?(n=t.src,s=t.css):n=t.startsWith("http://")||t.startsWith("https://")||t.endsWith(".js")?t:`${MyAMS.env.baseURL}mod-${t}${MyAMS.env.devext}.js`;const o=[MyAMS.core.getScript(n,{async:!0},console.error)];return s&&o.push(MyAMS.core.getCSS(s,`${e}_css`)),o}p.$.extend(p,{require:function(...t){return new Promise(((e,n)=>{const s=[],o=[],r=MyAMS.config.modules;for(const e of t)if("string"==typeof e)r.indexOf(e)<0&&(s.push(e),o.extendWith(g(e)));else if(m.isArray(e))for(const t of e)r.indexOf(t)<0&&(s.push(t),o.extendWith(g(t)));else for(const[t,n]of Object.entries(e))r.indexOf(t)<0&&(s.push(t),o.extendWith(g(n,t)));m.when.apply(m,o).then((()=>{for(const t of s)r.indexOf(t)<0&&(r.push(t),MyAMS.core.executeFunctionByName(`MyAMS.${t}.init`));e()}),(()=>{n(`Can't load requested modules (${s})!`)}))}))}}),!1!==p.$("html").data("ams-init")&&function(t){t.extend(String.prototype,{camelCase:function(){return this?this.replace(/-(.)/g,((t,e)=>e.toUpperCase())):this},deCase:function(){return this?this.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`)):this},initLowerCase:function(){return this?this.charAt(0).toLowerCase()+this.slice(1):this},unserialize:function(){if(!this)return this;const t=decodeURIComponent(this).split("&"),e={};for(const n of t){const[t,s]=n.split("=",2);e[t]=s}return e}}),t.extend(Array.prototype,{extendWith:function(t){for(const e of t)this.push(e)}}),t.extend(t,{extendPrefix:function(t,e,n,...s){for(const o of s)for(const[s,r]of Object.entries(o))s.startsWith(e)&&(t[s.substring(e.length).initLowerCase()]=null===n?r:n(r));return t},extendOnly:function(t,e,...n){for(const s of n)for(const[n,o]of Object.entries(s))Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=null===e?o:e(o));return t}}),t.fn.extend({exists:function(){return t(this).length>0},objectOrParentWithClass:function(t){return this.hasClass(t)?this:this.parents(`.${t}`)},listattr:function(e){const n=[];return this.each(((s,o)=>{n.push(t(o).attr(e))})),n},style:function(t,e,n){let s=this;return this.each(((o,r)=>{if(void 0===r)return!1;const i=r.style;return void 0===t?(s=i,!1):void 0===e?(s=i.getPropertyValue(t),!1):(n=void 0!==n?n:"",void i.setProperty(t,e,n))})),s},removeClassPrefix:function(e){return this.each((function(n,s){const o=s.className.split(/\s+/).map((t=>t.startsWith(e)?"":t));s.className=t.trim(o.join(" "))})),this}}),t.expr[":"].hasvalue=function(e,n,s){return""!==t(e).val()},t.expr[":"].econtains=function(e,n,s){return(e.textContent||e.innerText||t(e).text()||"").toLowerCase()===s[3].toLowerCase()},t.expr[":"].withtext=function(e,n,s){return(e.textContent||e.innerText||t(e).text()||"")===s[3]},t.expr[":"].parents=function(e,n,s){return t(e).parents(s[3]).length>0},t(document).ready((()=>{const e=t("html");e.removeClass("no-js").addClass("js"),h.core.executeFunctionByName(e.data("ams-init-page")||h.config.initPage)}))}(p.$)}();