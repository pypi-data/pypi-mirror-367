[tox]
envlist = lint
skipsdist = True

[testenv:lint]
deps =
    ruff
usedevelop = True
commands =
    ruff check sphinxcontrib
    ruff format --check --diff sphinxcontrib

[testenv:fix]
deps=
    ruff
commands =
    ruff format sphinxcontrib
    ruff check --fix sphinxcontrib
skip_install = true
skip_sdist = true

[testenv:pkglint]
deps =
    check-python-versions
    build
commands =
    python -m build --sdist --wheel
    check-python-versions --only pyproject.toml
skip_install = true
skip_sdist = true
