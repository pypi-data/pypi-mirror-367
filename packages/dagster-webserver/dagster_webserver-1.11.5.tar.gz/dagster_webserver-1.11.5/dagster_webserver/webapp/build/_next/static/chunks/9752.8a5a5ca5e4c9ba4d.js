"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9752],{5356:(e,t,r)=>{r.d(t,{A:()=>m});var n=r(6029),s=r(26277),x=r(83150),i=r(17970),o=r(55729),l=r(21897),a=r(66822),c=r(60845),u=r(92242),d=r(1546),h=r(89250),p=r(35171);let m=(0,o.memo)(e=>{let{name:t,run:r,showHover:m=!1,showButton:f=!0,showSummary:E=!0}=e,{status:v}=r,A=(0,o.useMemo)(()=>{switch(v){case a.i2_.SUCCESS:return"success";case a.i2_.CANCELED:case a.i2_.CANCELING:case a.i2_.FAILURE:return"danger";default:return"none"}},[v]);return(0,n.jsxs)(x.a,{flex:{direction:"row",justifyContent:"space-between",alignItems:"flex-start",gap:16},children:[(0,n.jsxs)(x.a,{flex:{direction:"column",alignItems:"flex-start",gap:4},children:[(0,n.jsxs)(x.a,{flex:{direction:"row",alignItems:"center",gap:8},children:[(()=>{let e=(0,n.jsx)(s.v,{intent:A,children:(0,n.jsxs)(x.a,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,n.jsx)(c.lQ,{status:r.status,size:10}),(0,n.jsx)(h.X4,{run:r})]})});return m?(0,n.jsx)(i.AM,{position:"top",interactionKind:"hover",content:(0,n.jsx)("div",{children:(0,n.jsx)(u._O,{run:r,name:t})}),hoverOpenDelay:100,children:e}):e})(),E?(0,n.jsx)(h.D1,{run:r}):null]}),E&&(d.ev.has(r.status)||d.Tk.has(r.status))?(0,n.jsx)(l.T,{runId:r.id}):void 0]}),f?(0,n.jsx)(p.A,{to:"/runs/".concat(r.id),children:"View run"}):null]})})},21897:(e,t,r)=>{r.d(t,{T:()=>m});var n=r(9329),s=r(6029),x=r(3066),i=r(83007),o=r(97036),l=r.n(o),a=r(55729),c=r(38584),u=r(85347),d=r(66822),h=r(1546);function p(){let e=(0,n._)(["\n  query StepSummaryForRunQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      ... on Run {\n        id\n        status\n        stepStats {\n          endTime\n          stepKey\n          status\n        }\n      }\n    }\n  }\n"]);return p=function(){return e},e}let m=e=>{let{runId:t}=e,{data:r}=(0,u.IT)(f,{variables:{runId:t}}),n=null==r?void 0:r.pipelineRunOrError,o=(null==n?void 0:n.__typename)==="Run"?n.status:null,p=(0,a.useMemo)(()=>{if((null==n?void 0:n.__typename)!=="Run")return[];let{status:e}=n;return h.ev.has(e)?n.stepStats.filter(e=>e.status===d.fWo.FAILURE):h.Tk.has(e)?n.stepStats.filter(e=>e.status===d.fWo.IN_PROGRESS):[]},[n]),m=p.length;if(!m||!o)return null;if(h.ev.has(o)){if(1===m){let e=p[0],r=e.endTime?l().stringify({focusedTime:Math.floor(1e3*e.endTime)},{addQueryPrefix:!0}):"";return(0,s.jsxs)(x.HL,{color:i.XN(),children:["Failed at ",(0,s.jsx)(c.N_,{to:"/runs/".concat(t).concat(r),children:e.stepKey})]})}return(0,s.jsxs)(x.HL,{color:i.XN(),children:["Failed at ",(0,s.jsxs)(c.N_,{to:"/runs/".concat(t),children:[m," steps"]})]})}if(h.Tk.has(o)){if(1===m){let e=p[0],r=e.endTime?l().stringify({focusedTime:Math.floor(1e3*e.endTime)},{addQueryPrefix:!0}):"";return(0,s.jsxs)(x.HL,{color:i.XN(),children:["In progress at ",(0,s.jsx)(c.N_,{to:"/runs/".concat(t).concat(r),children:e.stepKey})]})}return(0,s.jsxs)(x.HL,{color:i.XN(),children:["In progress at ",(0,s.jsxs)(c.N_,{to:"/runs/".concat(t),children:[m," steps"]})]})}return null},f=(0,u.J1)(p())},29752:(e,t,r)=>{r.r(t),r.d(t,{JobsRoot:()=>td,default:()=>th});var n=r(6029),s=r(83150),x=r(43697),i=r(3066),o=r(75110),l=r(83007),a=r(33658),c=r(53451),u=r(55729),d=r(10740),h=r(49593),p=r(37980),m=r(69144),f=r(83909),E=r.n(f),v=r(32497),A=r(85427);class R extends m.AbstractParseTreeVisitor{defaultResult(){return new Set}visitStart(e){return this.visit(e.expr())}visitTraversalAllowedExpression(e){return this.visit(e.traversalAllowedExpr())}visitNotExpression(e){let t=this.visit(e.expr());return new Set([...this.all_jobs].filter(e=>!t.has(e)))}visitAndExpression(e){let t=this.visit(e.expr(0)),r=this.visit(e.expr(1));return new Set([...t].filter(e=>r.has(e)))}visitOrExpression(e){return new Set([...this.visit(e.expr(0)),...this.visit(e.expr(1))])}visitAllExpression(e){return this.all_jobs}visitAttributeExpression(e){return this.visit(e.attributeExpr())}visitParenthesizedExpression(e){return this.visit(e.expr())}visitNameExpr(e){let t=(0,A._W)(e.keyValue()),r=new RegExp("^".concat(E()(t).replaceAll("\\*",".*"),"$"));return new Set([...this.all_jobs].filter(e=>r.test(e.name)))}visitCodeLocationExpr(e){let t=(0,A._W)(e.value()),r=new Set;for(let e of this.all_jobs){let n=e.repo;(n.name?(0,v.Eh)(n.name,n.location):"")===t&&r.add(e)}return r}constructor(e){super(),this.all_jobs=new Set(e)}}var _=r(11938),N=r(5646),g=r(80236),y=r(74765),j=r(8166);class T extends _.Lexer{get vocabulary(){return T.VOCABULARY}get grammarFileName(){return"JobSelection.g4"}get ruleNames(){return T.ruleNames}get serializedATN(){return T._serializedATN}get channelNames(){return T.channelNames}get modeNames(){return T.modeNames}static get _ATN(){return T.__ATN||(T.__ATN=new g.ATNDeserializer().deserialize(j.toCharArray(T._serializedATN))),T.__ATN}constructor(e){super(e),this._interp=new y.LexerATNSimulator(T._ATN,this)}}T.AND=1,T.OR=2,T.NOT=3,T.COLON=4,T.STAR=5,T.LPAREN=6,T.RPAREN=7,T.NAME=8,T.CODE_LOCATION=9,T.QUOTED_STRING=10,T.UNQUOTED_STRING=11,T.UNQUOTED_WILDCARD_STRING=12,T.WS=13,T.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"],T.modeNames=["DEFAULT_MODE"],T.ruleNames=["AND","OR","NOT","COLON","STAR","LPAREN","RPAREN","NAME","CODE_LOCATION","QUOTED_STRING","UNQUOTED_STRING","UNQUOTED_WILDCARD_STRING","WS"],T._LITERAL_NAMES=[void 0,void 0,void 0,void 0,"':'","'*'","'('","')'","'name'","'code_location'"],T._SYMBOLIC_NAMES=[void 0,"AND","OR","NOT","COLON","STAR","LPAREN","RPAREN","NAME","CODE_LOCATION","QUOTED_STRING","UNQUOTED_STRING","UNQUOTED_WILDCARD_STRING","WS"],T.VOCABULARY=new N.VocabularyImpl(T._LITERAL_NAMES,T._SYMBOLIC_NAMES,[]),T._serializedATN='\x03줝쪺֍꾺体؇쉁\x02\x0fl\b\x01\x04\x02	\x02\x04\x03	\x03\x04\x04	\x04\x04\x05	\x05\x04\x06	\x06\x04\x07	\x07\x04\b	\b\x04			\x04\n	\n\x04\v	\v\x04\f	\f\x04\r	\r\x04\x0e	\x0e\x03\x02\x03\x02\x03\x02\x03\x02\x03\x02\x03\x02\x05\x02$\n\x02\x03\x03\x03\x03\x03\x03\x03\x03\x05\x03*\n\x03\x03\x04\x03\x04\x03\x04\x03\x04\x03\x04\x03\x04\x05\x042\n\x04\x03\x05\x03\x05\x03\x06\x03\x06\x03\x07\x03\x07\x03\b\x03\b\x03	\x03	\x03	\x03	\x03	\x03\n\x03\n\x03\n\x03\n\x03\n\x03\n\x03\n\x03\n\x03\n\x03\n\x03\n\x03\n\x03\n\x03\n\x03\v\x03\v\x07\vQ\n\v\f\v\x0e\vT\v\v\x03\v\x03\v\x03\f\x03\f\x07\fZ\n\f\f\f\x0e\f]\v\f\x03\r\x03\r\x07\ra\n\r\f\r\x0e\rd\v\r\x03\x0e\x06\x0eg\n\x0e\r\x0e\x0e\x0eh\x03\x0e\x03\x0e\x02\x02\x02\x0f\x03\x02\x03\x05\x02\x04\x07\x02\x05	\x02\x06\v\x02\x07\r\x02\b\x0f\x02	\x11\x02\n\x13\x02\v\x15\x02\f\x17\x02\r\x19\x02\x0e\x1b\x02\x0f\x03\x02\b\x06\x02\f\f\x0f\x0f$$^^\x05\x02C\\aac|\x06\x022;B\\aac|\x06\x02,,C\\aac|\x07\x02,,2;B\\aac|\x05\x02\v\f\x0f\x0f""\x02r\x02\x03\x03\x02\x02\x02\x02\x05\x03\x02\x02\x02\x02\x07\x03\x02\x02\x02\x02	\x03\x02\x02\x02\x02\v\x03\x02\x02\x02\x02\r\x03\x02\x02\x02\x02\x0f\x03\x02\x02\x02\x02\x11\x03\x02\x02\x02\x02\x13\x03\x02\x02\x02\x02\x15\x03\x02\x02\x02\x02\x17\x03\x02\x02\x02\x02\x19\x03\x02\x02\x02\x02\x1b\x03\x02\x02\x02\x03#\x03\x02\x02\x02\x05)\x03\x02\x02\x02\x071\x03\x02\x02\x02	3\x03\x02\x02\x02\v5\x03\x02\x02\x02\r7\x03\x02\x02\x02\x0f9\x03\x02\x02\x02\x11;\x03\x02\x02\x02\x13@\x03\x02\x02\x02\x15N\x03\x02\x02\x02\x17W\x03\x02\x02\x02\x19^\x03\x02\x02\x02\x1bf\x03\x02\x02\x02\x1d\x1e\x07c\x02\x02\x1e\x1f\x07p\x02\x02\x1f$\x07f\x02\x02 !\x07C\x02\x02!"\x07P\x02\x02"$\x07F\x02\x02#\x1d\x03\x02\x02\x02# \x03\x02\x02\x02$\x04\x03\x02\x02\x02%&\x07q\x02\x02&*\x07t\x02\x02\'(\x07Q\x02\x02(*\x07T\x02\x02)%\x03\x02\x02\x02)\'\x03\x02\x02\x02*\x06\x03\x02\x02\x02+,\x07p\x02\x02,-\x07q\x02\x02-2\x07v\x02\x02./\x07P\x02\x02/0\x07Q\x02\x0202\x07V\x02\x021+\x03\x02\x02\x021.\x03\x02\x02\x022\b\x03\x02\x02\x0234\x07<\x02\x024\n\x03\x02\x02\x0256\x07,\x02\x026\f\x03\x02\x02\x0278\x07*\x02\x028\x0e\x03\x02\x02\x029:\x07+\x02\x02:\x10\x03\x02\x02\x02;<\x07p\x02\x02<=\x07c\x02\x02=>\x07o\x02\x02>?\x07g\x02\x02?\x12\x03\x02\x02\x02@A\x07e\x02\x02AB\x07q\x02\x02BC\x07f\x02\x02CD\x07g\x02\x02DE\x07a\x02\x02EF\x07n\x02\x02FG\x07q\x02\x02GH\x07e\x02\x02HI\x07c\x02\x02IJ\x07v\x02\x02JK\x07k\x02\x02KL\x07q\x02\x02LM\x07p\x02\x02M\x14\x03\x02\x02\x02NR\x07$\x02\x02OQ\n\x02\x02\x02PO\x03\x02\x02\x02QT\x03\x02\x02\x02RP\x03\x02\x02\x02RS\x03\x02\x02\x02SU\x03\x02\x02\x02TR\x03\x02\x02\x02UV\x07$\x02\x02V\x16\x03\x02\x02\x02W[	\x03\x02\x02XZ	\x04\x02\x02YX\x03\x02\x02\x02Z]\x03\x02\x02\x02[Y\x03\x02\x02\x02[\\\x03\x02\x02\x02\\\x18\x03\x02\x02\x02][\x03\x02\x02\x02^b	\x05\x02\x02_a	\x06\x02\x02`_\x03\x02\x02\x02ad\x03\x02\x02\x02b`\x03\x02\x02\x02bc\x03\x02\x02\x02c\x1a\x03\x02\x02\x02db\x03\x02\x02\x02eg	\x07\x02\x02fe\x03\x02\x02\x02gh\x03\x02\x02\x02hf\x03\x02\x02\x02hi\x03\x02\x02\x02ij\x03\x02\x02\x02jk\b\x0e\x02\x02k\x1c\x03\x02\x02\x02\n\x02#)1R[bh\x03\b\x02\x02';var b=r(26887),w=r(66854),O=r(82891),C=r(92944),S=r(38368),L=r(70877),I=r(48763),k=r(40496);class D extends O.Parser{get vocabulary(){return D.VOCABULARY}get grammarFileName(){return"JobSelection.g4"}get ruleNames(){return D.ruleNames}get serializedATN(){return D._serializedATN}createFailedPredicateException(e,t){return new b.FailedPredicateException(this,e,t)}start(){let e=new U(this._ctx,this.state);this.enterRule(e,0,D.RULE_start);try{this.enterOuterAlt(e,1),this.state=12,this.expr(0),this.state=13,this.match(D.EOF)}catch(t){if(t instanceof S.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}expr(e){void 0===e&&(e=0);let t=this._ctx,r=this.state,n=new P(this._ctx,r);this.enterRecursionRule(n,2,D.RULE_expr,e);try{let e;switch(this.enterOuterAlt(n,1),this.state=20,this._errHandler.sync(this),this._input.LA(1)){case D.LPAREN:case D.NAME:case D.CODE_LOCATION:n=new F(n),this._ctx=n,this.state=16,this.traversalAllowedExpr();break;case D.NOT:n=new M(n),this._ctx=n,this.state=17,this.match(D.NOT),this.state=18,this.expr(4);break;case D.STAR:n=new V(n),this._ctx=n,this.state=19,this.match(D.STAR);break;default:throw new w.NoViableAltException(this)}for(this._ctx._stop=this._input.tryLT(-1),this.state=30,this._errHandler.sync(this),e=this.interpreter.adaptivePredict(this._input,2,this._ctx);2!==e&&e!==I.ATN.INVALID_ALT_NUMBER;){if(1===e)switch(null!=this._parseListeners&&this.triggerExitRuleEvent(),this.state=28,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,1,this._ctx)){case 1:if(n=new G(new P(t,r)),this.pushNewRecursionContext(n,2,D.RULE_expr),this.state=22,!this.precpred(this._ctx,3))throw this.createFailedPredicateException("this.precpred(this._ctx, 3)");this.state=23,this.match(D.AND),this.state=24,this.expr(4);break;case 2:if(n=new Q(new P(t,r)),this.pushNewRecursionContext(n,2,D.RULE_expr),this.state=25,!this.precpred(this._ctx,2))throw this.createFailedPredicateException("this.precpred(this._ctx, 2)");this.state=26,this.match(D.OR),this.state=27,this.expr(3)}this.state=32,this._errHandler.sync(this),e=this.interpreter.adaptivePredict(this._input,2,this._ctx)}}catch(e){if(e instanceof S.RecognitionException)n.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e);else throw e}finally{this.unrollRecursionContexts(t)}return n}traversalAllowedExpr(){let e=new H(this._ctx,this.state);this.enterRule(e,4,D.RULE_traversalAllowedExpr);try{switch(this.state=38,this._errHandler.sync(this),this._input.LA(1)){case D.NAME:case D.CODE_LOCATION:e=new $(e),this.enterOuterAlt(e,1),this.state=33,this.attributeExpr();break;case D.LPAREN:e=new z(e),this.enterOuterAlt(e,2),this.state=34,this.match(D.LPAREN),this.state=35,this.expr(0),this.state=36,this.match(D.RPAREN);break;default:throw new w.NoViableAltException(this)}}catch(t){if(t instanceof S.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}attributeExpr(){let e=new J(this._ctx,this.state);this.enterRule(e,6,D.RULE_attributeExpr);try{switch(this.state=46,this._errHandler.sync(this),this._input.LA(1)){case D.NAME:e=new K(e),this.enterOuterAlt(e,1),this.state=40,this.match(D.NAME),this.state=41,this.match(D.COLON),this.state=42,this.keyValue();break;case D.CODE_LOCATION:e=new W(e),this.enterOuterAlt(e,2),this.state=43,this.match(D.CODE_LOCATION),this.state=44,this.match(D.COLON),this.state=45,this.value();break;default:throw new w.NoViableAltException(this)}}catch(t){if(t instanceof S.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}value(){let e,t=new B(this._ctx,this.state);this.enterRule(t,8,D.RULE_value);try{this.enterOuterAlt(t,1),this.state=48,(e=this._input.LA(1))!==D.QUOTED_STRING&&e!==D.UNQUOTED_STRING?this._errHandler.recoverInline(this):(this._input.LA(1)===L.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume())}catch(e){if(e instanceof S.RecognitionException)t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e);else throw e}finally{this.exitRule()}return t}keyValue(){let e,t=new q(this._ctx,this.state);this.enterRule(t,10,D.RULE_keyValue);try{this.enterOuterAlt(t,1),this.state=50,e=this._input.LA(1),(-32&e)!=0||(1<<e&(1<<D.QUOTED_STRING|1<<D.UNQUOTED_STRING|1<<D.UNQUOTED_WILDCARD_STRING))==0?this._errHandler.recoverInline(this):(this._input.LA(1)===L.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume())}catch(e){if(e instanceof S.RecognitionException)t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e);else throw e}finally{this.exitRule()}return t}sempred(e,t,r){return 1!==t||this.expr_sempred(e,r)}expr_sempred(e,t){switch(t){case 0:return this.precpred(this._ctx,3);case 1:return this.precpred(this._ctx,2)}return!0}static get _ATN(){return D.__ATN||(D.__ATN=new g.ATNDeserializer().deserialize(j.toCharArray(D._serializedATN))),D.__ATN}constructor(e){super(e),this._interp=new k.ParserATNSimulator(D._ATN,this)}}D.AND=1,D.OR=2,D.NOT=3,D.COLON=4,D.STAR=5,D.LPAREN=6,D.RPAREN=7,D.NAME=8,D.CODE_LOCATION=9,D.QUOTED_STRING=10,D.UNQUOTED_STRING=11,D.UNQUOTED_WILDCARD_STRING=12,D.WS=13,D.RULE_start=0,D.RULE_expr=1,D.RULE_traversalAllowedExpr=2,D.RULE_attributeExpr=3,D.RULE_value=4,D.RULE_keyValue=5,D.ruleNames=["start","expr","traversalAllowedExpr","attributeExpr","value","keyValue"],D._LITERAL_NAMES=[void 0,void 0,void 0,void 0,"':'","'*'","'('","')'","'name'","'code_location'"],D._SYMBOLIC_NAMES=[void 0,"AND","OR","NOT","COLON","STAR","LPAREN","RPAREN","NAME","CODE_LOCATION","QUOTED_STRING","UNQUOTED_STRING","UNQUOTED_WILDCARD_STRING","WS"],D.VOCABULARY=new N.VocabularyImpl(D._LITERAL_NAMES,D._SYMBOLIC_NAMES,[]),D._serializedATN='\x03줝쪺֍꾺体؇쉁\x03\x0f7\x04\x02	\x02\x04\x03	\x03\x04\x04	\x04\x04\x05	\x05\x04\x06	\x06\x04\x07	\x07\x03\x02\x03\x02\x03\x02\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x05\x03\x17\n\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x07\x03\x1f\n\x03\f\x03\x0e\x03"\v\x03\x03\x04\x03\x04\x03\x04\x03\x04\x03\x04\x05\x04)\n\x04\x03\x05\x03\x05\x03\x05\x03\x05\x03\x05\x03\x05\x05\x051\n\x05\x03\x06\x03\x06\x03\x07\x03\x07\x03\x07\x02\x02\x03\x04\b\x02\x02\x04\x02\x06\x02\b\x02\n\x02\f\x02\x02\x04\x03\x02\f\r\x03\x02\f\x0e\x026\x02\x0e\x03\x02\x02\x02\x04\x16\x03\x02\x02\x02\x06(\x03\x02\x02\x02\b0\x03\x02\x02\x02\n2\x03\x02\x02\x02\f4\x03\x02\x02\x02\x0e\x0f\x05\x04\x03\x02\x0f\x10\x07\x02\x02\x03\x10\x03\x03\x02\x02\x02\x11\x12\b\x03\x01\x02\x12\x17\x05\x06\x04\x02\x13\x14\x07\x05\x02\x02\x14\x17\x05\x04\x03\x06\x15\x17\x07\x07\x02\x02\x16\x11\x03\x02\x02\x02\x16\x13\x03\x02\x02\x02\x16\x15\x03\x02\x02\x02\x17 \x03\x02\x02\x02\x18\x19\f\x05\x02\x02\x19\x1a\x07\x03\x02\x02\x1a\x1f\x05\x04\x03\x06\x1b\x1c\f\x04\x02\x02\x1c\x1d\x07\x04\x02\x02\x1d\x1f\x05\x04\x03\x05\x1e\x18\x03\x02\x02\x02\x1e\x1b\x03\x02\x02\x02\x1f"\x03\x02\x02\x02 \x1e\x03\x02\x02\x02 !\x03\x02\x02\x02!\x05\x03\x02\x02\x02" \x03\x02\x02\x02#)\x05\b\x05\x02$%\x07\b\x02\x02%&\x05\x04\x03\x02&\'\x07	\x02\x02\')\x03\x02\x02\x02(#\x03\x02\x02\x02($\x03\x02\x02\x02)\x07\x03\x02\x02\x02*+\x07\n\x02\x02+,\x07\x06\x02\x02,1\x05\f\x07\x02-.\x07\v\x02\x02./\x07\x06\x02\x02/1\x05\n\x06\x020*\x03\x02\x02\x020-\x03\x02\x02\x021	\x03\x02\x02\x0223	\x02\x02\x023\v\x03\x02\x02\x0245	\x03\x02\x025\r\x03\x02\x02\x02\x07\x16\x1e (0';class U extends C.ParserRuleContext{expr(){return this.getRuleContext(0,P)}EOF(){return this.getToken(D.EOF,0)}get ruleIndex(){return D.RULE_start}enterRule(e){e.enterStart&&e.enterStart(this)}exitRule(e){e.exitStart&&e.exitStart(this)}accept(e){return e.visitStart?e.visitStart(this):e.visitChildren(this)}constructor(e,t){super(e,t)}}class P extends C.ParserRuleContext{get ruleIndex(){return D.RULE_expr}copyFrom(e){super.copyFrom(e)}constructor(e,t){super(e,t)}}class F extends P{traversalAllowedExpr(){return this.getRuleContext(0,H)}enterRule(e){e.enterTraversalAllowedExpression&&e.enterTraversalAllowedExpression(this)}exitRule(e){e.exitTraversalAllowedExpression&&e.exitTraversalAllowedExpression(this)}accept(e){return e.visitTraversalAllowedExpression?e.visitTraversalAllowedExpression(this):e.visitChildren(this)}constructor(e){super(e.parent,e.invokingState),this.copyFrom(e)}}class M extends P{NOT(){return this.getToken(D.NOT,0)}expr(){return this.getRuleContext(0,P)}enterRule(e){e.enterNotExpression&&e.enterNotExpression(this)}exitRule(e){e.exitNotExpression&&e.exitNotExpression(this)}accept(e){return e.visitNotExpression?e.visitNotExpression(this):e.visitChildren(this)}constructor(e){super(e.parent,e.invokingState),this.copyFrom(e)}}class G extends P{expr(e){return void 0===e?this.getRuleContexts(P):this.getRuleContext(e,P)}AND(){return this.getToken(D.AND,0)}enterRule(e){e.enterAndExpression&&e.enterAndExpression(this)}exitRule(e){e.exitAndExpression&&e.exitAndExpression(this)}accept(e){return e.visitAndExpression?e.visitAndExpression(this):e.visitChildren(this)}constructor(e){super(e.parent,e.invokingState),this.copyFrom(e)}}class Q extends P{expr(e){return void 0===e?this.getRuleContexts(P):this.getRuleContext(e,P)}OR(){return this.getToken(D.OR,0)}enterRule(e){e.enterOrExpression&&e.enterOrExpression(this)}exitRule(e){e.exitOrExpression&&e.exitOrExpression(this)}accept(e){return e.visitOrExpression?e.visitOrExpression(this):e.visitChildren(this)}constructor(e){super(e.parent,e.invokingState),this.copyFrom(e)}}class V extends P{STAR(){return this.getToken(D.STAR,0)}enterRule(e){e.enterAllExpression&&e.enterAllExpression(this)}exitRule(e){e.exitAllExpression&&e.exitAllExpression(this)}accept(e){return e.visitAllExpression?e.visitAllExpression(this):e.visitChildren(this)}constructor(e){super(e.parent,e.invokingState),this.copyFrom(e)}}class H extends C.ParserRuleContext{get ruleIndex(){return D.RULE_traversalAllowedExpr}copyFrom(e){super.copyFrom(e)}constructor(e,t){super(e,t)}}class $ extends H{attributeExpr(){return this.getRuleContext(0,J)}enterRule(e){e.enterAttributeExpression&&e.enterAttributeExpression(this)}exitRule(e){e.exitAttributeExpression&&e.exitAttributeExpression(this)}accept(e){return e.visitAttributeExpression?e.visitAttributeExpression(this):e.visitChildren(this)}constructor(e){super(e.parent,e.invokingState),this.copyFrom(e)}}class z extends H{LPAREN(){return this.getToken(D.LPAREN,0)}expr(){return this.getRuleContext(0,P)}RPAREN(){return this.getToken(D.RPAREN,0)}enterRule(e){e.enterParenthesizedExpression&&e.enterParenthesizedExpression(this)}exitRule(e){e.exitParenthesizedExpression&&e.exitParenthesizedExpression(this)}accept(e){return e.visitParenthesizedExpression?e.visitParenthesizedExpression(this):e.visitChildren(this)}constructor(e){super(e.parent,e.invokingState),this.copyFrom(e)}}class J extends C.ParserRuleContext{get ruleIndex(){return D.RULE_attributeExpr}copyFrom(e){super.copyFrom(e)}constructor(e,t){super(e,t)}}class K extends J{NAME(){return this.getToken(D.NAME,0)}COLON(){return this.getToken(D.COLON,0)}keyValue(){return this.getRuleContext(0,q)}enterRule(e){e.enterNameExpr&&e.enterNameExpr(this)}exitRule(e){e.exitNameExpr&&e.exitNameExpr(this)}accept(e){return e.visitNameExpr?e.visitNameExpr(this):e.visitChildren(this)}constructor(e){super(e.parent,e.invokingState),this.copyFrom(e)}}class W extends J{CODE_LOCATION(){return this.getToken(D.CODE_LOCATION,0)}COLON(){return this.getToken(D.COLON,0)}value(){return this.getRuleContext(0,B)}enterRule(e){e.enterCodeLocationExpr&&e.enterCodeLocationExpr(this)}exitRule(e){e.exitCodeLocationExpr&&e.exitCodeLocationExpr(this)}accept(e){return e.visitCodeLocationExpr?e.visitCodeLocationExpr(this):e.visitChildren(this)}constructor(e){super(e.parent,e.invokingState),this.copyFrom(e)}}class B extends C.ParserRuleContext{QUOTED_STRING(){return this.tryGetToken(D.QUOTED_STRING,0)}UNQUOTED_STRING(){return this.tryGetToken(D.UNQUOTED_STRING,0)}get ruleIndex(){return D.RULE_value}enterRule(e){e.enterValue&&e.enterValue(this)}exitRule(e){e.exitValue&&e.exitValue(this)}accept(e){return e.visitValue?e.visitValue(this):e.visitChildren(this)}constructor(e,t){super(e,t)}}class q extends C.ParserRuleContext{QUOTED_STRING(){return this.tryGetToken(D.QUOTED_STRING,0)}UNQUOTED_STRING(){return this.tryGetToken(D.UNQUOTED_STRING,0)}UNQUOTED_WILDCARD_STRING(){return this.tryGetToken(D.UNQUOTED_WILDCARD_STRING,0)}get ruleIndex(){return D.RULE_keyValue}enterRule(e){e.enterKeyValue&&e.enterKeyValue(this)}exitRule(e){e.exitKeyValue&&e.exitKeyValue(this)}accept(e){return e.visitKeyValue?e.visitKeyValue(this):e.visitChildren(this)}constructor(e,t){super(e,t)}}var X=r(98671);let Y=(e,t)=>{try{let r=new T(p.CharStreams.fromString(t));r.removeErrorListeners(),r.addErrorListener(new X.y);let n=new p.CommonTokenStream(r),s=new D(n);s.removeErrorListeners(),s.addErrorListener(new X.y);let x=s.start();return{all:new R(e).visit(x)}}catch(e){return e}},Z=(e,t)=>{if(0===t.length)return{all:new Set(e)};let r=Y(e,t);return r instanceof Error||!r.all?{all:new Set}:r};var ee=r(31710),et=r(36939);let er={name:"job",code_location:"code_location"},en=["name","code_location"],es=e=>{let t=(0,u.useMemo)(()=>{let t=new Set,r=new Set;return e.forEach(e=>{t.add(e.name),r.add((0,v.Eh)(e.repo.name,e.repo.location))}),{name:Array.from(t),code_location:Array.from(r)}},[e]),r=(0,u.useMemo)(()=>({...(0,et.Qd)({attributesMap:t,primaryAttributeKey:"name",attributeToIcon:er,functions:[]}),supportsTraversal:!1}),[t]),n=(0,u.useMemo)(()=>(0,ee.P)(r),[r]);return(0,u.useMemo)(()=>({useAutoComplete:e=>{let{line:t,cursorIndex:r}=e;return{autoCompleteResults:(0,u.useMemo)(()=>n(t,r),[t,r]),loading:!1}}}),[n])};var ex=r(53473),ei=r(132),eo=r(57558);let el=e=>{let{items:t,value:r,onChange:s}=e;return(0,n.jsx)(ex.d,{wildcardAttributeName:"name",id:"job-selection",useAutoComplete:es(t).useAutoComplete,placeholder:"Search and filter jobs",linter:ea(),value:r,onChange:s})},ea=(0,eo.X)(()=>(0,ei.t)({Lexer:T,Parser:D,supportedAttributes:en}));var ec=r(21440),eu=r(4984),ed=r(10308),eh=r(41185),ep=r(4104),em=r(21983),ef=r(9329),eE=r(59541),ev=r(42932),eA=r(38584),eR=r(41735),e_=r(11665),eN=r(21870),eg=r(25909),ey=r(85347),ej=r(98394),eT=r(9754),eb=r(17970),ew=r(40264),eO=r(83655),eC=r(87931),eS=r(35029),eL=r(23),eI=r(90039),ek=r(66822),eD=r(36376),eU=r(51249),eP=r(30225);function eF(){let e=(0,ef._)(["\n  query RunReExecutionQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      ... on Run {\n        id\n        status\n        pipelineName\n        tags {\n          key\n          value\n        }\n        executionPlan {\n          artifactsPersisted\n          assetSelection\n          ...ExecutionPlanToGraphFragment\n        }\n      }\n    }\n  }\n  ","\n"]);return eF=function(){return e},e}let eM=e=>{let{job:t,isAssetJob:r,repoAddress:s}=e,x=t.runs.length?t.runs[0]:null,i={pipelineName:t.name,repositoryName:s.name,repositoryLocationName:s.location},l=(0,eL.Vw)(t.name),a=(0,eU.Q)(),{permissions:{canLaunchPipelineReexecution:c,canLaunchPipelineExecution:d},disabledReasons:h}=(0,eS.S2)(s.location),[p,m]=(0,ey._l)(eG),{data:f}=m,E=(0,u.useCallback)(()=>{(null==x?void 0:x.id)&&p({variables:{runId:x.id}})},[x,p]),v=(null==f?void 0:f.pipelineRunOrError.__typename)==="Run"?null==f?void 0:f.pipelineRunOrError:null,A="loading"===r?(0,n.jsx)(eT.Dr,{icon:"execute",text:"Loading...",disabled:!0}):!0===r?(0,n.jsx)(eT.Dr,{icon:l.loading?(0,n.jsx)(o.y,{purpose:"caption-text"}):"execute",text:"Launch new run",disabled:!d,onClick:e=>l.onClick(i,e)}):(0,n.jsx)(eP.w,{icon:"execute",text:"Launch new run",disabled:!d,to:(0,eg.HU)({repoName:s.name,repoLocation:s.location,pipelineName:t.name,isJob:t.isJob,path:"/playground"})}),R=(0,n.jsx)(eT.Dr,{icon:"replay",text:"Re-execute latest run",disabled:!c||!v||!(0,eD.yG)(v),onClick:e=>v?a.onClick(v,ek.Fnt.ALL_STEPS,e.shiftKey):void 0}),_=(0,n.jsx)(eT.Dr,{icon:"sync_problem",text:"Re-execute latest run from failure",disabled:!c||!v||!(0,eD.gX)(v),onClick:e=>v?a.onClick(v,ek.Fnt.FROM_FAILURE,e.shiftKey):void 0});return(0,n.jsxs)(n.Fragment,{children:[l.launchpadElement,a.launchpadElement,(0,n.jsx)(eb.AM,{onOpened:()=>E(),content:(0,n.jsxs)(eT.W1,{children:[(0,n.jsx)(eP.w,{to:(0,eg.HU)({repoName:s.name,repoLocation:s.location,pipelineName:t.name,isJob:t.isJob}),icon:"job",text:"View job"}),(0,n.jsx)(eP.w,{to:(0,eg.HU)({repoName:s.name,repoLocation:s.location,pipelineName:t.name,isJob:t.isJob,path:"/runs"}),icon:"checklist",text:"View all recent runs"}),d?A:(0,n.jsx)(ew.m,{content:h.canLaunchPipelineExecution,display:"block",children:A}),c?R:(0,n.jsx)(ew.m,{content:h.canLaunchPipelineReexecution,display:"block",children:R}),c?_:(0,n.jsx)(ew.m,{content:h.canLaunchPipelineReexecution,display:"block",children:_})]}),position:"bottom-left",children:(0,n.jsx)(eO.$n,{icon:(0,n.jsx)(eC.In,{name:"more_horiz"}),intent:"none"})})]})},eG=(0,ey.J1)(eF(),eI.v);var eQ=r(5356),eV=r(4585),eH=r(92242),e$=r(89250),ez=r(83669),eJ=r(1410);function eK(){let e=(0,ef._)(["\n  query SingleJobQuery($selector: PipelineSelector!) {\n    pipelineOrError(params: $selector) {\n      ... on Pipeline {\n        id\n        name\n        isJob\n        isAssetJob\n        description\n        runs(limit: 5) {\n          id\n          ...RunTimeFragment\n        }\n        schedules {\n          id\n          ...ScheduleSwitchFragment\n        }\n        sensors {\n          id\n          ...SensorSwitchFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return eK=function(){return e},e}let eW="1.5fr 1fr 180px 96px 80px",eB=(0,u.forwardRef)((e,t)=>{let{name:r,isJob:x,repoAddress:i,index:o}=e,l=(0,eE.V)(100),a=(0,ey.IT)(eZ,{variables:{selector:(0,eN.ee)(i,r)},skip:!l});(0,ej.Bj)(a,ej.eO);let{data:c}=a,d=(null==c?void 0:c.pipelineOrError.__typename)==="Pipeline"?null==c?void 0:c.pipelineOrError:void 0,{schedules:h,sensors:p}=(0,u.useMemo)(()=>{if(d){let{schedules:e,sensors:t}=d;return{schedules:e,sensors:t}}return{schedules:[],sensors:[]}},[d]),m=(0,u.useMemo)(()=>{if(d){let{runs:e}=d;if(e.length)return[...e]}return[]},[d]);return(0,n.jsx)("div",{"data-index":o,ref:t,children:(0,n.jsxs)(eX,{border:"bottom",children:[(0,n.jsxs)(eh.$4,{children:[(0,n.jsx)("div",{style:{maxWidth:"100%",whiteSpace:"nowrap",fontWeight:500},children:(0,n.jsx)(eA.N_,{to:(0,eg.HG)(i,"/jobs/".concat(r)),children:(0,n.jsx)(ev.A,{text:r})})}),(0,n.jsx)(e_.OZ,{children:(null==d?void 0:d.description)||""})]}),(0,n.jsx)(eh.$4,{children:h.length||p.length?(0,n.jsx)(s.a,{flex:{direction:"column",alignItems:"flex-start",gap:8},children:(0,n.jsx)(eY,{children:(0,n.jsx)(eV.L,{schedules:h,sensors:p,repoAddress:i})})}):(0,n.jsx)(e_.ov,{queryResult:a})}),(0,n.jsx)(eh.$4,{children:m[0]?(0,n.jsx)(eQ.A,{run:m[0],showButton:!1,showHover:!0,showSummary:!1,name:r}):(0,n.jsx)(e_.ov,{queryResult:a})}),(0,n.jsx)(eh.$4,{children:m.length?(0,n.jsx)(s.a,{padding:{top:4},children:(0,n.jsx)(eH.$c,{jobName:r,runs:[...m].reverse(),fade:!0})}):(0,n.jsx)(e_.ov,{queryResult:a})}),(0,n.jsx)(eh.$4,{children:(0,n.jsx)(s.a,{flex:{justifyContent:"flex-end"},style:{marginTop:"-2px"},children:(0,n.jsx)(eM,{job:{name:r,isJob:x,runs:m},isAssetJob:d?d.isAssetJob:"loading",repoAddress:i})})})]})})}),eq=()=>(0,n.jsxs)(eh.Sy,{templateColumns:eW,sticky:!0,children:[(0,n.jsx)(eh.A3,{children:"Name"}),(0,n.jsx)(eh.A3,{children:"Schedules/sensors"}),(0,n.jsx)(eh.A3,{children:"Latest run"}),(0,n.jsx)(eh.A3,{children:"Run history"}),(0,n.jsx)(eh.A3,{})]}),eX=(0,eR.Ay)(s.a).withConfig({componentId:"sc-406796da-0"})(["display:grid;grid-template-columns:",";height:100%;"],eW),eY=eR.Ay.div.withConfig({componentId:"sc-406796da-1"})(["width:100%;> .bp5-popover-target{width:100%;}"]),eZ=(0,ey.J1)(eK(),e$.vw,ez.M,eJ.T);var e0=r(12930),e2=r(62225),e3=r(59239),e1=r(67544);function e4(){let e=(0,ef._)(["\n  query SingleJobQuery($selector: PipelineSelector!) {\n    pipelineOrError(params: $selector) {\n      ... on Pipeline {\n        id\n        name\n        isJob\n        isAssetJob\n        description\n        runs(limit: 5) {\n          id\n          ...RunTimeFragment\n        }\n        schedules {\n          id\n          ...ScheduleSwitchFragment\n        }\n        sensors {\n          id\n          ...SensorSwitchFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return e4=function(){return e},e}let e7=(0,ey.J1)(e4(),e$.vw,ez.M,eJ.T);var e5=r(90161),e6=r(60845),e8=r(2925),e9=r(60288),te=r(51350);let tt=(0,u.forwardRef)((e,t)=>{let{index:r,name:x,isJob:i,repoAddress:o}=e,a=(0,eE.V)(100),c=(0,ey.IT)(e7,{variables:{selector:(0,eN.ee)(o,x)},skip:!a});(0,ej.Bj)(c,ej.eO);let{data:d}=c,h=(null==d?void 0:d.pipelineOrError.__typename)==="Pipeline"?null==d?void 0:d.pipelineOrError:void 0,{schedules:p,sensors:m}=(0,u.useMemo)(()=>{if(h){let{schedules:e,sensors:t}=h;return{schedules:e,sensors:t}}return{schedules:[],sensors:[]}},[h]),f=(0,u.useMemo)(()=>{if(h){let{runs:e}=h;if(e.length)return[...e]}return[]},[h]);return(0,n.jsx)(e1.c,{ref:t,index:r,href:(0,eg.HG)(o,"/jobs/".concat(x)),renderLink:e=>{let{href:t,...r}=e;return(0,n.jsx)(eA.N_,{to:t||"#",...r})},left:(0,n.jsxs)(s.a,{flex:{direction:"row",gap:12,alignItems:"center"},children:[(0,n.jsxs)(s.a,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,n.jsx)(eC.In,{name:"job"}),x]}),(null==h?void 0:h.description)?(0,n.jsx)(ew.m,{content:(0,n.jsx)("div",{style:{width:320},children:h.description}),placement:"top",children:(0,n.jsx)(eC.In,{name:"info",color:l.XN()})}):null]}),right:(()=>{var e;return c.loading&&!c.data?(0,n.jsx)(e0.E,{$width:200,$height:24}):(0,n.jsx)(e2.p,{controls:[{key:"latest-run",control:(null==(e=f[0])?void 0:e.startTime)?(0,n.jsx)(eb.AM,{position:"top",interactionKind:"hover",content:(0,n.jsx)("div",{children:(0,n.jsx)(eH._O,{run:f[0],name:x})}),hoverOpenDelay:100,children:(0,n.jsx)(e3.r,{children:(0,n.jsxs)(s.a,{flex:{direction:"row",alignItems:"center",gap:8},children:[(0,n.jsx)(e6.lQ,{status:f[0].status}),(0,n.jsx)(e5.w,{unixTimestamp:f[0].startTime})]})})},f[0].id):null},{key:"runs",control:(0,n.jsx)(s.a,{padding:{horizontal:8},children:(0,n.jsx)(eH.$c,{jobName:x,runs:[...f].reverse(),fade:!0,forceCount:5})})},{key:"schedules",control:p.length>0?(0,n.jsx)(tr,{type:"schedule",enabled:p.some(e=>"RUNNING"===e.scheduleState.status),automations:p,repoAddress:o}):null},{key:"sensors",control:m.length>0?(0,n.jsx)(tr,{type:"sensor",enabled:m.some(e=>"RUNNING"===e.sensorState.status),automations:m,repoAddress:o}):null},{key:"automations",control:0===m.length&&0===p.length?(0,n.jsx)(ew.m,{content:"No automations",placement:"top",children:(0,n.jsx)(tr,{type:"none"})}):null},{key:"menu",control:(0,n.jsx)(eM,{job:{name:x,isJob:i,runs:f},isAssetJob:h?h.isAssetJob:"loading",repoAddress:o})}]})})()})}),tr=e=>{let{type:t,automations:r,enabled:x,repoAddress:i}=e,o=(0,n.jsx)(e3.r,{children:(0,n.jsx)(s.a,{padding:{vertical:2},children:"none"===t?(0,n.jsx)(eC.In,{name:"status",color:l.fR()}):(0,n.jsx)(eC.In,{name:t,color:x?l.P$():l.fR()})})});if("none"===t)return o;let a=(null==r?void 0:r.length)||0;return(0,n.jsx)(eb.AM,{position:"top",interactionKind:"hover",content:(0,n.jsxs)(s.a,{flex:{direction:"column"},style:{width:320,overflowX:"hidden"},background:l.HU(),children:[(0,n.jsx)(s.a,{flex:{direction:"row",gap:8,alignItems:"center"},padding:{vertical:12,horizontal:12},border:"bottom",children:(0,n.jsx)("strong",{style:{fontSize:14},children:"sensor"===t?1===a?"1 sensor":"".concat(a," sensors"):1===a?"1 schedule":"".concat(a," schedules")})}),(0,n.jsx)("div",{style:{overflowY:"auto",maxHeight:240},children:(null==r?void 0:r.length)&&i?r.map((e,t)=>{let r="Sensor"===e.__typename?e.name:(0,e9.d)(e.cronSchedule,{longTimezoneName:e.executionTimezone||"UTC"});return(0,n.jsxs)(s.a,{flex:{direction:"row",gap:12,alignItems:"center",justifyContent:"space-between"},padding:12,border:0===t?null:"top",children:[(0,n.jsxs)(s.a,{flex:{direction:"row",alignItems:"center",gap:8},style:{width:"100%",overflow:"hidden"},children:[(0,n.jsx)(eC.In,{name:"Schedule"===e.__typename?"schedule":"sensor"}),(0,n.jsx)(eA.N_,{to:(0,eg.HG)(i,"Schedule"===e.__typename?"/schedules/".concat(e.name):"/sensors/".concat(e.name)),style:{flex:1,overflow:"hidden",width:"100%"},children:(0,n.jsx)(ev.A,{text:r})})]}),(0,n.jsx)(s.a,{flex:{direction:"row",alignItems:"center",gap:8},children:"Schedule"===e.__typename?(0,n.jsx)(e8.G,{schedule:e,repoAddress:i}):(0,n.jsx)(te.z,{sensor:e,repoAddress:i})})]},e.id+"-"+t)}):(0,n.jsx)("div",{children:"No automations"})})]}),hoverOpenDelay:100,children:o})};var tn=r(67402);let ts=e=>{var t,r;let{repos:s}=e,{flagUseNewObserveUIs:x}=(0,ed.h)(),i=(0,u.useRef)(null),o=(0,u.useMemo)(()=>s.map(e=>{let{repoAddress:t}=e;return(0,tn.FC)(t)}),[s]),{expandedKeys:l,onToggle:a,onToggleAll:c}=(0,em.A)(eu.i,o),d=(0,u.useMemo)(()=>{let e=[];return s.forEach(t=>{let{repoAddress:r,jobs:n}=t;e.push({type:"header",repoAddress:r,jobCount:n.length});let s=(0,tn.FC)(r);l.includes(s)&&n.forEach(t=>{let{isJob:n,name:s}=t;e.push({type:"job",repoAddress:r,isJob:n,name:s})})}),e},[s,l]),h=(0,ep.F)(s.map(e=>{let{repoAddress:t}=e;return t.name})),p=(0,ec.Te)({count:d.length,getScrollElement:()=>i.current,estimateSize:e=>{let t=d[e];return(null==t?void 0:t.type)==="header"?eh.tc:64},overscan:10}),m=p.getTotalSize(),f=p.getVirtualItems();return(0,n.jsx)("div",{style:{overflow:"hidden"},children:(0,n.jsxs)(eh.mc,{ref:i,children:[x?null:(0,n.jsx)(eq,{}),(0,n.jsx)(eh.Rp,{$totalHeight:m,children:(0,n.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",transform:"translateY(".concat(null!=(r=null==(t=f[0])?void 0:t.start)?r:0,"px)")},children:f.map(e=>{let{index:t,key:r}=e,s=d[t];return"header"===s.type?(0,n.jsx)(e_.ur,{repoAddress:s.repoAddress,ref:p.measureElement,index:t,onToggle:a,onToggleAll:c,expanded:l.includes((0,tn.FC)(s.repoAddress)),showLocation:h.has(s.repoAddress.name),rightElement:(0,n.jsx)(n.Fragment,{})},r):x?(0,n.jsx)(tt,{index:t,ref:p.measureElement,name:s.name,isJob:s.isJob,repoAddress:s.repoAddress},r):(0,n.jsx)(eB,{index:t,ref:p.measureElement,name:s.name,isJob:s.isJob,repoAddress:s.repoAddress},r)})})})]})})};var tx=r(64814),ti=r(99333),to=r(15349);let tl=()=>{let{allRepos:e,visibleRepos:t,loadingNonAssets:r,data:x}=(0,u.useContext)(to.zp),i=e.length,d=(0,u.useMemo)(()=>{let e=Object.values(x).filter(e=>"WorkspaceLocationEntry"===e.__typename),r=(0,ti.p)(t);return ta(e).filter(e=>{let{repoAddress:t}=e;return r.has((0,tn.FC)(t))})},[x,t]),[p,m]=(0,h.m)({queryKey:"selection",defaults:{selection:""},behavior:"push"}),f=(0,u.useMemo)(()=>d.flatMap(e=>e.jobs),[d]),E=(0,u.useMemo)(()=>Z(f,p).all,[f,p]),v=(0,u.useMemo)(()=>d.filter(e=>Array.from(E).some(t=>t.repo.name===e.repoAddress.name&&t.repo.location===e.repoAddress.location)).map(e=>({...e,jobs:e.jobs.filter(e=>E.has(e))})).filter(e=>!!e.jobs.length),[d,E]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.a,{padding:{horizontal:24,vertical:8},border:"bottom",children:(0,n.jsx)(el,{items:f,value:p,onChange:m})}),r&&!i?(0,n.jsx)(s.a,{padding:64,flex:{direction:"row",justifyContent:"center"},children:(0,n.jsx)(c.V,{label:"Loading jobs…"})}):r?(0,n.jsx)(s.a,{flex:{direction:"row",justifyContent:"center"},style:{paddingTop:"100px"},children:(0,n.jsxs)(s.a,{flex:{direction:"row",alignItems:"center",gap:16},children:[(0,n.jsx)(o.y,{purpose:"body-text"}),(0,n.jsx)("div",{style:{color:l.XN()},children:"Loading jobs…"})]})}):v.length?(0,n.jsx)(ts,{repos:v}):(0,n.jsx)(s.a,{padding:{top:20},children:(0,n.jsx)(a.I,{icon:"search",title:"No jobs",description:d.length?"No jobs were found that match your filters":"No jobs were found in your definitions"})})]})},ta=e=>{let t=e.map(e=>e.locationOrLoadError),r=[];for(let e of t)if((null==e?void 0:e.__typename)==="RepositoryLocation")for(let t of e.repositories){let{name:n,pipelines:s}=t,x=(0,v.t8)(n,e.name),i=s.filter(e=>{let{name:t}=e;return!(0,d.$D)(t)}).map(e=>({...e,repo:{name:x.name,location:x.location}}));i.length>0&&r.push({repoAddress:x,jobs:i})}return(0,tx.K)(r)};var tc=r(32857),tu=r(56808);let td=()=>((0,tc.b7)(),(0,tu.r)("Jobs"),(0,n.jsxs)(s.a,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,n.jsx)(x.z,{title:(0,n.jsx)(i.M7,{children:"Jobs"})}),(0,n.jsx)(tl,{})]})),th=td},36376:(e,t,r)=>{r.d(t,{Jo:()=>b,gX:()=>T,yG:()=>j});var n=r(6029),s=r(83655),x=r(87931),i=r(91232),o=r(83150),l=r(55729),a=r(67479),c=r(1546),u=r(61365),d=r(89250),h=r(78882),p=r(46743),m=r(51249),f=r(83900),E=r(99737),v=r(35029),A=r(66822),R=r(36809),_=r(39782),N=r(30868);let g=e=>{let{run:t}=e,{id:r,canTerminate:i}=t,[o,a]=(0,l.useState)(!1),c=(0,l.useCallback)(()=>a(!1),[]),u=(0,l.useCallback)(async e=>{let{errors:t}=e,n=r&&t[r];n&&"message"in n&&await (0,f.l)({message:n.message,icon:"error",intent:"danger"})},[r]);return r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.$n,{icon:(0,n.jsx)(x.In,{name:"cancel"}),intent:"danger",disabled:o,onClick:()=>a(!0),children:"Terminate"}),(0,n.jsx)(h.B,{isOpen:o,onClose:c,onComplete:u,selectedRuns:{[r]:i}})]}):null};function y(e,t){let r=e.keys.map(e=>{var r;return e&&(null==(r=t.steps[e])?void 0:r.state)||a.VB.PREPARING});return{...e,present:e.keys.length>0,failed:e.keys.length&&r.includes(a.VB.FAILED),finished:r.every(e=>[a.VB.FAILED,a.VB.SUCCEEDED].includes(e))}}let j=e=>c.RD.has(e.status),T=e=>e.executionPlan&&c.ev.has(e.status),b=e=>{var t,r,s;let{metadata:x,graph:l,run:a}=e,h=(0,N.A)(a),f=(0,p.o)(a),b=null==a||null==(t=a.executionPlan)?void 0:t.artifactsPersisted,O=y(e.selection,x),C=function(e,t,r){let n=e.tags.find(e=>e.key===u.d.StepSelection);return n?y({keys:(0,E.Q)(t,n.value).all.map(e=>e.name),query:n.value},r):null}(a,l,x),S=null==(r=a.tags)?void 0:r.some(e=>e.key===u.d.IsResumeRetry&&"true"===e.value),L=(0,m.Q)(),I=async e=>{if(!a||!h||!a.pipelineSnapshotId)return;let t=(0,d.Pl)({run:a,selection:e,repositoryLocationName:h.match.repositoryLocation.name,repositoryName:h.match.repository.name});await L.onClick(a,t,!1)},k={icon:"cached",scope:"*",title:"All steps in root run",tooltip:"Re-execute the pipeline run from scratch. Shift-click to adjust tags.",disabled:!j(a),onClick:e=>L.onClick(a,A.Fnt.ALL_STEPS,e.shiftKey)},D={icon:"linear_scale",scope:(null==C?void 0:C.query)||"*",title:"Same steps",disabled:!C||!(C.finished||C.failed),tooltip:(0,n.jsxs)("div",{children:[C&&C.present?C.finished?"Re-execute the same step subset used for this run:":"Wait for all of the steps to finish to re-execute the same subset.":"Re-executes the same step subset used for this run if one was present.",(0,n.jsx)(w,{selection:C})]}),onClick:()=>I(C)},U={icon:"op",scope:O.query,title:O.keys.length>1?"Selected steps":"Selected step",disabled:!O.present||!(O.finished||O.failed),tooltip:(0,n.jsxs)("div",{children:[O.present?O.finished?"Re-execute the selected steps with existing configuration:":"Wait for the steps to finish to re-execute them.":"Select a step or type a step subset to re-execute.",(0,n.jsx)(w,{selection:O})]}),onClick:()=>I(O)},P={icon:"arrow_forward",title:"From selected",disabled:!j(a)||1!==O.keys.length,tooltip:"Re-execute the pipeline downstream from the selected steps.",onClick:async()=>{if(!a.executionPlan)return console.warn("Run execution plan must be present to launch from-selected execution"),Promise.resolve();let e=O.keys.map(e=>"".concat(e,"*")).join(","),t=O.keys.map(e=>'name:"'.concat(e,'"+')).join(" or "),r=(0,_.d)(l,t).all.map(e=>e.name);await I({keys:r,query:e})}},F=T(a),M={icon:"arrow_forward",title:"From failure",disabled:!F,tooltip:F?"Retry the pipeline run, skipping steps that completed successfully. Shift-click to adjust tags.":"Retry is only enabled when the pipeline has failed.",onClick:e=>L.onClick(a,A.Fnt.FROM_FAILURE,e.shiftKey)};b||[U,D,M,P].forEach(e=>{e.disabled=!0,e.title="Retry and re-execute are only enabled on persistent storage. Try rerunning with a different storage configuration."});let G=[k,D,U,P,M,(null==(s=a.executionPlan)?void 0:s.assetSelection.length)?{icon:"arrow_forward",title:"From asset failure",disabled:!F,tooltip:F?"Retry the pipeline run, selecting only assets that did not complete successfully. Shift-click to adjust tags.":"Retry is only enabled when the pipeline has failed.",onClick:e=>L.onClick(a,A.Fnt.FROM_ASSET_FAILURE,e.shiftKey)}:null].filter(Boolean),Q=O.present?U:F&&S?M:(null==C?void 0:C.present)?D:null,V=b&&Q?Q:k;return(0,n.jsxs)(i.Y,{direction:"row",spacing:8,children:[(0,n.jsx)(o.a,{flex:{direction:"row"},children:(0,n.jsx)(R.x,{runCount:1,primary:V,options:G,title:"*"===V.scope?"Re-execute all (*)":V.scope?"Re-execute (".concat(V.scope,")"):"Re-execute ".concat(V.title),tooltip:(null==f?void 0:f.tooltip)?null==f?void 0:f.tooltip:a.hasReExecutePermission?void 0:v.gZ,icon:null==f?void 0:f.icon,disabled:(null==f?void 0:f.disabled)||!a.hasReExecutePermission})}),c.RD.has(a.status)?null:(0,n.jsx)(g,{run:a}),L.launchpadElement]})},w=e=>{let{selection:t}=e;return(0,n.jsx)("div",{style:{paddingLeft:"10px"},children:((null==t?void 0:t.keys)||[]).map(e=>(0,n.jsx)("span",{style:{display:"block"},children:"* ".concat(e)},e))})}},64814:(e,t,r)=>{r.d(t,{K:()=>s});var n=r(67402);let s=e=>[...e].sort((e,t)=>{let r=(0,n.FC)(e.repoAddress),s=(0,n.FC)(t.repoAddress);return r.localeCompare(s)})},92242:(e,t,r)=>{r.d(t,{$c:()=>E,_O:()=>v});var n=r(6029),s=r(83150),x=r(83007),i=r(17970),o=r(3066),l=r(41241),a=r(38584),c=r(41735),u=r(60845),d=r(28031),h=r(1546),p=r(89250),m=r(21897);let f=e=>{let{status:t,opacity:r=1}=e,s=d.Qc[t];return(0,n.jsx)(g,{$color:s,$opacity:r})},E=e=>{let{fade:t,jobName:r,runs:o,forceCount:l}=e,a=o.length,c=.8/Math.max(3,a),u=[...o];return l&&(l>u.length?u.unshift(...Array(l-u.length).fill(null)):u=u.slice(0,l)),(0,n.jsx)(s.a,{flex:{direction:"row",alignItems:"center",gap:2},children:u.map((e,s)=>{let o=t?1-(a-s-1)*c:1;return e?(0,n.jsx)(i.AM,{position:"top",interactionKind:"hover",content:(0,n.jsx)("div",{children:(0,n.jsx)(v,{run:e,name:r})}),hoverOpenDelay:100,children:(0,n.jsx)(f,{runId:e.id,status:e.status,opacity:o},e.id)},e.id):(0,n.jsx)(g,{$color:x.HU(),$opacity:o},"empty-".concat(s))})})},v=e=>{let{name:t,run:r}=e;return(0,n.jsxs)(A,{children:[(0,n.jsx)(R,{children:t}),(0,n.jsxs)(_,{children:[(0,n.jsxs)(s.a,{flex:{alignItems:"center",direction:"row",gap:8},children:[(0,n.jsx)(u.lQ,{status:r.status}),(0,n.jsx)(a.N_,{to:"/runs/".concat(r.id),children:(0,n.jsx)(o.MC,{children:(0,p.fb)(r)})})]}),(0,n.jsxs)(s.a,{flex:{direction:"column",gap:4},children:[(0,n.jsx)(p.X4,{run:r}),(0,n.jsx)(p.D1,{run:r})]})]}),h.ev.has(r.status)||h.Tk.has(r.status)?(0,n.jsx)(N,{children:(0,n.jsx)(m.T,{runId:r.id})}):null]})},A=c.Ay.div.withConfig({componentId:"sc-fbd66c1b-0"})(["padding:4px;font-size:12px;width:240px;"]),R=c.Ay.div.withConfig({componentId:"sc-fbd66c1b-1"})(["padding:8px;box-shadow:inset 0 -1px ",";font-family:",";font-size:14px;font-weight:500;color:",";max-width:100%;text-overflow:ellipsis;overflow:hidden;min-width:0px;"],x.KH(),l.a.default,x.eg()),_=c.Ay.div.withConfig({componentId:"sc-fbd66c1b-2"})(["padding:8px;display:flex;align-items:flex-start;justify-content:space-between;"]),N=c.Ay.div.withConfig({componentId:"sc-fbd66c1b-3"})(["overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:4px 8px 8px;:empty{display:none;}"]),g=c.Ay.div.withConfig({componentId:"sc-fbd66c1b-4"})(["background-color:",";border-radius:2px;height:16px;opacity:",";width:8px;"],e=>{let{$color:t}=e;return t},e=>{let{$opacity:t}=e;return t})},99333:(e,t,r)=>{r.d(t,{p:()=>x});var n=r(32497),s=r(67402);let x=e=>new Set(e.map(e=>(0,s.FC)((0,n.t8)(e.repository.name,e.repositoryLocation.name))))}}]);
//# sourceMappingURL=9752.8a5a5ca5e4c9ba4d.js.map